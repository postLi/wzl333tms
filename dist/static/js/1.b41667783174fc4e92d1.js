webpackJsonp([1,25,42,235,304,309,310,311,312,313],{"//Ie":function(e,t,o){"use strict";var i=o("woOf"),r=o.n(i),a=o("Dd8w"),s=o.n(a),n=o("E4LH"),l=o("Vi15"),c=o("P5Di"),m=o("QbVN"),d=o("o9X6"),u=o("NYxO");t.a={components:{popRight:c.a,Upload:m.a,SelectTree:d.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},info:{type:Object,default:function(){}},issender:{type:Boolean,dafault:!1}},computed:s()({},Object(u.mapGetters)(["otherinfo"]),{fixPhone:{get:function(){return this.phoneshort+"-"+this.phonelong},set:function(e){var t=e?e.split("-"):"";t?(this.phoneshort=t[1]?t[0]:"",this.phonelong=t[1]?t[1]:t[0]):(this.phoneshort="",this.phonelong="")}},customphoneisok:function(){}}),data:function(){return{phoneshort:"",phonelong:"",form:{bankCardNumber:"",bankName:"",companyName:"",companyType:2,customerMobile:"",customerName:"",customerType:this.issender?1:2,customerUnit:"",detailedAddress:"",fixPhone:"",idcardPositive:"",idcardVerso:"",idcard:"",legalPersonname:"",licensePicture:"",openBank:"",orgid:0,vipNum:""},formLabelWidth:"90px",tooltip:!1,rules:{companyName:[],orgid:[{required:!0,message:"请选择所属机构"}],customerMobile:[{required:!0,message:"请输入手机号码",trigger:"change"}],customerName:[{required:!0,message:"请输入联系人"},{max:30,message:"不能超过30个字符"}],vipNum:[{pattern:n.a.ONLY_NUMBER_AND_LETTER,trigger:"blur",message:"客户的VIP号只能输入字母和阿拉伯数字"}],idcard:[{pattern:n.a.ONLY_NUMBER_AND_LETTER,trigger:"blur",message:"身份证号码只能输入字母和数字"}]},popTitle:"新增发货人",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,isSaveAndAdd:!0}},mounted:function(){this.form.orgid=this.orgid,this.inited||(this.inited=!0,this.initInfo()),console.log(this.issender),console.log(this.popTitle)},watch:{"form.customerMobile":function(e){this.isSaveAndAdd&&(console.log("33333"),this.$refs.ruleForm.validateField("customerMobile"))},popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo()),e&&this.setTitle(),console.log(this.popTitle)},orgid:function(e){this.form.orgid=e},info:function(){if(this.isModify){this.popTitle="修改"+(this.issender?"发":"收")+"货人";var e=r()({},this.info);for(var t in this.form)this.form[t]=e[t];this.form.customerId=e.customerId,console.log("this.fixphone",this.fixPhone,this.form.fixPhone,e),this.fixPhone=this.form.fixPhone}else{for(var o in console.log(this.issender),this.popTitle="新增"+(this.issender?"发":"收")+"货人",this.form)this.form[o]="";delete this.form.customerId,this.form.companyType=2,this.form.customerType=this.issender?1:2,this.form.orgid=this.orgid,this.fixPhone=""}}},methods:{setTitle:function(){if(this.isModify){this.popTitle="修改"+(this.issender?"发":"收")+"货人";var e=r()({},this.info);for(var t in this.form)this.form[t]=e[t];this.form.customerId=e.customerId,console.log("this.fixphone",this.fixPhone,this.form.fixPhone,e),this.fixPhone=this.form.fixPhone}else{for(var o in console.log(this.issender),this.popTitle="新增"+(this.issender?"发":"收")+"货人",this.form)this.form[o]="";delete this.form.customerId,this.form.companyType=2,this.form.customerType=this.issender?1:2,this.form.orgid=this.orgid,this.fixPhone=""}},initInfo:function(){this.loading=!1},getOrgid:function(e){this.form.orgid=e},submitForm:function(e,o){var i=this;this.$refs[e].validate(function(e){if(!e)return!1;i.loading=!0;var t=r()({},i.form);t.fixPhone=i.fixPhone;(i.isModify?Object(l.e)(t):Object(l.d)(t)).then(function(e){i.loading=!1,i.$message.success("保存成功"),o||i.closeMe(),i.$emit("success"),i.reset()}).catch(function(e){i._handlerCatchMsg(e),i.loading=!1})})},reset:function(){var e=this;this.isSaveAndAdd=!1;var t=this.form.orgid;this.$refs.ruleForm.resetFields(),this.form.licensePicture="",this.form.idcardPositive="",this.form.idcardVerso="",this.fixPhone="",this.form.fixPhone="",this.form.customerMobile="",this.form.orgid=t,console.log(this.form,"///////////////"),this.$nextTick(function(){e.isSaveAndAdd=!0})},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},"/OH/":function(e,t,o){"use strict";var i=o("xoQy"),r=o("BB2Z");var a=function(e){o("z6yh")},s=o("VU/8")(i.a,r.a,a,"data-v-52474850",null);t.a=s.exports},"/v6R":function(e,t,o){"use strict";var i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addTruckPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[o("template",{staticClass:"addTruckPop-content",slot:"content"},[o("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":t.formLabelWidth,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"车牌号码",prop:"truckIdNumber"}},[o("el-input",{attrs:{maxlength:8,"auto-complete":"off"},model:{value:t.form.truckIdNumber,callback:function(e){t.$set(t.form,"truckIdNumber",e)},expression:"form.truckIdNumber"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"车辆来源",prop:"truckSource"}},[o("SelectType",{attrs:{type:"truck_source",placeholder:"请选择"},model:{value:t.form.truckSource,callback:function(e){t.$set(t.form,"truckSource",e)},expression:"form.truckSource"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"车型",prop:"truckType"}},[o("SelectType",{attrs:{type:"truck_type",placeholder:"请选择"},model:{value:t.form.truckType,callback:function(e){t.$set(t.form,"truckType",e)},expression:"form.truckType"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"可载重",prop:"truckLoad"}},[o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:6,"auto-complete":"off"},model:{value:t.form.truckLoad,callback:function(e){t.$set(t.form,"truckLoad",t._n(e))},expression:"form.truckLoad"}},[o("template",{slot:"append"},[t._v("千克")])],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"可载体积",prop:"truckVolume"}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.truckVolume,callback:function(e){t.$set(t.form,"truckVolume",t._n(e))},expression:"form.truckVolume"}},[o("template",{slot:"append"},[t._v("方")])],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"车长",prop:"truckLength"}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.truckLength,callback:function(e){t.$set(t.form,"truckLength",t._n(e))},expression:"form.truckLength"}},[o("template",{slot:"append"},[t._v("米")])],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"车宽",prop:"truckWidth"}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckWidth,callback:function(e){t.$set(t.form,"truckWidth",t._n(e))},expression:"form.truckWidth"}},[o("template",{slot:"append"},[t._v("米")])],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"车高",prop:"truckHeight"}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckHeight,callback:function(e){t.$set(t.form,"truckHeight",t._n(e))},expression:"form.truckHeight"}},[o("template",{slot:"append"},[t._v("米")])],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"归属网点",prop:"orgid"}},[o("SelectTree",{attrs:{orgid:t.otherinfo.orgid},on:{change:t.getTreeOrgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"车辆品牌",prop:"truckBrand"}},[o("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckBrand,callback:function(e){t.$set(t.form,"truckBrand",e)},expression:"form.truckBrand"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"车辆注册时间",prop:"truckRegisterDate"}},[o("el-date-picker",{attrs:{align:"right",type:"date","picker-options":t.pickOption,placeholder:"选择日期","value-format":"timestamp"},model:{value:t.form.truckRegisterDate,callback:function(e){t.$set(t.form,"truckRegisterDate",e)},expression:"form.truckRegisterDate"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"车辆报废时间",prop:"truckScrapDate"}},[o("el-date-picker",{attrs:{align:"right",type:"date","picker-options":t.pickOption2,placeholder:"选择日期","value-format":"timestamp"},model:{value:t.form.truckScrapDate,callback:function(e){t.$set(t.form,"truckScrapDate",e)},expression:"form.truckScrapDate"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"车架号",prop:"frameNum"}},[o("el-input",{attrs:{maxlength:30,"auto-complete":"off"},model:{value:t.form.frameNum,callback:function(e){t.$set(t.form,"frameNum",e)},expression:"form.frameNum"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"发动机号",prop:"engineNum"}},[o("el-input",{attrs:{maxlength:30,"auto-complete":"off"},model:{value:t.form.engineNum,callback:function(e){t.$set(t.form,"engineNum",e)},expression:"form.engineNum"}})],1),t._v(" "),o("el-form-item",{staticClass:"truckRemarks",attrs:{label:"备注",prop:"truckRemarks"}},[o("el-input",{attrs:{type:"textarea",maxlength:300},model:{value:t.form.truckRemarks,callback:function(e){t.$set(t.form,"truckRemarks",e)},expression:"form.truckRemarks"}})],1),t._v(" "),o("div",{staticClass:"hr"}),t._v(" "),o("el-form-item",{attrs:{label:"车辆单位",prop:"truckUnit"}},[o("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckUnit,callback:function(e){t.$set(t.form,"truckUnit",e)},expression:"form.truckUnit"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"单位电话",prop:"truckUnitMobile"}},[o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckUnitMobile,callback:function(e){t.$set(t.form,"truckUnitMobile",e)},expression:"form.truckUnitMobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"司机",prop:"driverId"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择司机",clearable:""},on:{change:t.getDriverPhone},model:{value:t.form.driverId,callback:function(e){t.$set(t.form,"driverId",e)},expression:"form.driverId"}},t._l(t.DriverList,function(e){return o("el-option",{key:e.id,attrs:{label:e.driverName,value:e.id}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"司机电话",prop:"dirverMobile"}},[o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:20,"auto-complete":"off",disabled:""},model:{value:t.form.dirverMobile,callback:function(e){t.$set(t.form,"dirverMobile",e)},expression:"form.dirverMobile"}})],1),t._v(" "),o("div",{staticClass:"hr"}),t._v(" "),o("el-form-item",{staticClass:"clearfix uploadcard"},[o("div",{staticClass:"idcard"},[o("upload",{attrs:{title:"行驶证"},model:{value:t.form.drivingLicense,callback:function(e){t.$set(t.form,"drivingLicense",e)},expression:"form.drivingLicense"}})],1),t._v(" "),o("div",{staticClass:"drviercard"},[o("upload",{attrs:{title:"营运执照"},model:{value:t.form.operatingLicense,callback:function(e){t.$set(t.form,"operatingLicense",e)},expression:"form.operatingLicense"}})],1),t._v(" "),o("div",{staticClass:"certcard"},[o("upload",{attrs:{title:"车辆照片"},model:{value:t.form.vehiclePic,callback:function(e){t.$set(t.form,"vehiclePic",e)},expression:"form.vehiclePic"}})],1)])],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保 存")]),t._v(" "),o("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=i},"0Qo4":function(e,t){},"1IKb":function(e,t,o){"use strict";var i=o("Dd8w"),r=o.n(i),a=o("t5DY"),s=o("O85W"),n=o("ttFD"),l=o("xbwg"),c=o("DAQk"),m=o("ftoq"),d=o("FKPH"),u=o("5F+j"),f=o("bZax"),p=o("NYxO");t.a={components:{progressbar:s.default,NewOrg:n.default,Newrole:l.default,Newuser:c.default,AddCustomer:m.default,Newdriver:d.default,Newtruck:u.default,Newcarrier:f.default},data:function(){return{info:{},ischecked:!1,showAni:!1,cancelAni:!1,dataset:[],type:1,showani:!1,viewKey:0,addDoTotShow:!1,addDoTotShow1:!1,addDoTotShow2:!1,addDoTotShow3:!1,addDoTotShow4:!1,addDoTotShow5:!1,addDoTotShow6:!1,addDoTotShow7:!1,addDoTotVisible:!1,addDoTotVisible1:!1,addDoTotVisible2:!1,addDoTotVisible3:!1,addDoTotVisible4:!1,addDoTotVisible5:!1,addDoTotVisible6:!1,addDoTotVisible7:!1,addDoTotVisible8:!1,dialogVisible:!1,dialogVisiblePerson:!1,popVisible:!1,contTitle:[],flog:!1,disabled:!1,countList:[{value:0,label:"orgCount",title:"网点管理",message:"网点"+this.valueCount+"个",message1:"你还没有添加网点，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加",code:"ORGTREELIST_ADD"},{value:0,label:"userCount",title:"员工管理",message:"已经有"+this.valueCount+"位员工",message1:"你还没有添加员工，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加",code:"ORGTREELIST_ADD"},{value:0,label:"senderCustomerCount",title:"发货客户",message:"已经有"+this.valueCount+"位发货客户",message1:"你还没有添加发货客户，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加",code:"SENDER_ADD"},{value:0,label:"receiverCustomerCount",title:"收货客户",message:"已经有"+this.valueCount+"位收货客户",message1:"你还没有添加收货客户，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加",code:"REVER_ADD"},{value:0,label:"driverCount",title:"司机管理",message:"已经有"+this.valueCount+"位司机",message1:"你还没有添加司机，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加",code:"DRIVER_ADD"},{value:0,label:"truckCount",title:"车辆管理",message:"已经有"+this.valueCount+"部车辆",message1:"你还没有添加车辆，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加",code:"TUNK_ADD"},{value:0,label:"carrierCount",title:"承运商管理",message:"已经有"+this.valueCount+"个承运商",message1:"你还没有添加承运商，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加",code:"CARRIER_ADD"},{value:0,label:"settingCount",title:"系统设置",message:"",message2:"打印机连接已连接，需要设置点击右边设置按钮",message1:"打印机连接还没连接，请点击右边设置按钮",button1:"设置",button2:"设置",code:"SETTING"},{value:0,label:"smsTemplateCount",title:"短信设置",message:"已经有"+this.valueCount+"个短信模板",message1:"你还没有维护短信模板，请点击右边设置按钮",message2:"需要设置点击右边设置按钮",button1:"设置",button2:"设置",code:"SMS"},{value:0,label:"fiSubjectCount",title:"财务科目设置",message:"已经有"+this.valueCount+"个财务科目",message1:"你还没有维护财务科目，请点击右边设置按钮",message2:"需要设置点击右边设置按钮",button1:"设置",button2:"设置",code:"INIT_SUBJECT_DEFINE"}],contTitleNull:!1}},watch:{contTitle:function(){0===this.contTitle.length?this.contTitleNull=!1:this.contTitleNull=!0}},computed:r()({},Object(p.mapGetters)(["otherinfo"]),{iscompany:function(){return this.otherinfo.orgid===this.otherinfo.companyId}}),mounted:function(){var i=this;this.isParentOrg(),Object(a.h)().then(function(e){if(e){i.dataset=e;var t=0;for(var o in e)"roleCount"!==o&&0===e[o]&&"smsTemplateCount"!==o&&(i.iscompany?t++:"orgCount"!==o&&t++,console.log("---total",t,o,e[o])),console.log(e[o],o,"数量");i.flog=!(0<t),i.$set(i.dataset,"totals",t)}}).catch(function(e){i._handlerCatchMsg(e)})},methods:{isParentOrg:function(){return console.log("isParentOrg是否是总公司：",this.otherinfo.orgid===this.otherinfo.companyId),this.otherinfo.orgid===this.otherinfo.companyId},fetchData:function(e){"addUser"===e&&this.initSystem(),"addOrg"===e&&this.initSystem(),"addRole"===e&&this.initSystem(),"addReciveCustomer"===e&&this.initSystem(),"addSendCustomer"===e&&this.initSystem(),"addDiver"===e&&this.initSystem(),"addTruck"===e&&this.initSystem(),"addCarrier"===e&&this.initSystem(),"addSetting"===e&&this.initSystem()},closeAddDot:function(e){console.log(e),this.addDoTotVisible=!1,this.addDoTotVisible1=!1,this.addDoTotVisible2=!1,this.addDoTotVisible3=!1,this.addDoTotVisible4=!1,this.addDoTotVisible5=!1,this.addDoTotVisible6=!1,this.addDoTotVisible7=!1,this.addDoTotVisible8=!1,this.dialogVisible=!1,this.dialogVisiblePerson=!1,this.popVisible=!1},doAction:function(e,t){var o=this;if(t&&!this.$_has_permission(t.code))return this.$message.warning("您没有权限，请联系管理员！"),!1;switch(e){case"init":this.initSystem();break;case"check":if(this.cancelAni=!this.cancelAni,this.cancelAni)clearInterval(this.timer);else{var i=0,r=this.countList,a=this.countList.length,s=0,n=this;n.timer=setInterval(function(){o.contTitleNull=!0,i<a?(n.contTitle=r[s++].title,i++):(clearInterval(n.timer),i=0)},150)}break;case"agane":this.type=3,this.ischecked=!1,this.initSystem();break;case"order":this.$router.push({path:"/operation/order/createOrder"});break;case"orgCount":this.addDriverShow?this.addDoTotVisible=!0:(this.addDoTotShow=!0,setTimeout(function(){o.addDoTotVisible=!0}));break;case"roleCount":this.addDriverShow1?this.addDoTotVisible1=!0:(this.addDoTotShow1=!0,setTimeout(function(){o.addDoTotVisible1=!0}));break;case"userCount":this.addDriverShow2?this.addDoTotVisible2=!0:(this.addDoTotShow2=!0,setTimeout(function(){o.addDoTotVisible2=!0}));break;case"senderCustomerCount":this.addDriverShow3?this.addDoTotVisible3=!0:(this.addDoTotShow3=!0,setTimeout(function(){o.addDoTotVisible3=!0}));break;case"receiverCustomerCount":this.addDriverShow4?this.addDoTotVisible4=!0:(this.addDoTotShow4=!0,setTimeout(function(){o.addDoTotVisible4=!0}));break;case"driverCount":this.addDriverShow5?this.addDoTotVisible5=!0:(this.addDoTotShow5=!0,setTimeout(function(){o.addDoTotVisible5=!0}));break;case"truckCount":this.addDriverShow6?this.addDoTotVisible6=!0:(this.addDoTotShow6=!0,setTimeout(function(){o.addDoTotVisible6=!0}));break;case"carrierCount":this.addDriverShow7?this.addDoTotVisible7=!0:(this.addDoTotShow7=!0,setTimeout(function(){o.addDoTotVisible7=!0}));break;case"settingCount":this.$router.push({path:"../../company/systemSetup"});break;case"smsTemplateCount":this.$router.push({path:"../../company/smsManage/customized"});break;case"fiSubjectCount":this.$router.push({path:"../../finance/financeInfo/subjectInfo"})}},changeTitle:function(e){console.log(e+"uuuuu"),this.initSystem()},initSystem:function(){var c=this;this.viewKey=(new Date).getTime(),this.type=2,this.dataset={},this.countList=this.$options.data().countList,Object(a.h)().then(function(e){for(var t in c.showani=!0,c.dataset=e,c.countList)c.countList[t].value=e[c.countList[t].label],c.countList[t].message=c.countList[t].message.replace(/undefined/,String(c.countList[t].value));var o=0;for(var i in e)"roleCount"!==i&&0===e[i]&&o++;"2"===e.isNeededVoucher&&(c.countList=c.countList.filter(function(e,t){return"fiSubjectCount"!==e.label}));var r=0,a=c.countList,s=c.countList.length,n=0,l=c;l.timer=setInterval(function(){r<s?(l.contTitle=a[n++].title,r++):(clearInterval(l.timer),r=0)},150),c.$set(c.dataset,"totals",o)}).catch(function(e){c._handlerCatchMsg(e)})},checkSystem:function(){this.viewKey=Math.random(),this.type=1}}}},"5CI6":function(e,t,o){"use strict";t.e=function(e){return a.b.post("/api-system/system/role/v1/",e).then(function(e){return e.data?e.data:{}})},t.f=function(e){return a.b.put("/api-system/system/role/v1/",e).then(function(e){return e.data?e.data:{}})},t.a=function(e){return a.b.delete("/api-system/system/role/v1/"+e).then(function(e){return e.data?e.data:{}})},t.b=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100,r=arguments[4];return a.b.post("/api-system/system/role/v1/findAllInfo",{currentPage:o,pageSize:i,vo:{orgid:e,rolesName:t},searchVo:r}).then(function(e){return e.data||{total:0,list:[]}})},t.d=function(e){return a.b.get("/api-system/system/menu/v1/menuTree/",{params:{role_id:e||0}}).then(function(e){return e.data||[]})},t.c=function(e){return Object(i.j)("menu_type",e)};var a=o("Vo7i"),i=o("t5DY")},"5F+j":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("voDd"),r=o("/v6R");var a=function(e){o("sNUZ")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},"7sm4":function(e,t,o){"use strict";var i={render:function(){var o=this,e=o.$createElement,i=o._self._c||e;return i("div",[!o.ui&&o.text?i("span",[o._v("\n        "+o._s(o.itemProvince&&o.itemProvince.value)+o._s(o.itemCity&&o.itemCity.value)+o._s(o.itemArea&&o.itemArea.value)+o._s(o.itemTown&&o.itemTown.value)+"\n    ")]):o._e(),o._v(" "),o.text||o.ui||!o.province?o._e():i("select",{directives:[{name:"model",rawName:"v-model",value:o.nowProvince,expression:"nowProvince"}],class:o.className,on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});o.nowProvince=e.target.multiple?t:t[0]}}},[o.blank?i("option",{attrs:{value:""}},[o._v(o._s(o.lang.pleaseSelect))]):o._e(),o._v(" "),o._l(o.listProvince,function(e){return i("option",{key:e.key,domProps:{value:e.key}},[o._v(o._s(e.value))])})],2),o._v(" "),!o.text&&!o.ui&&o.city&&o.haveCity?i("select",{directives:[{name:"model",rawName:"v-model",value:o.nowCity,expression:"nowCity"}],class:o.className,on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});o.nowCity=e.target.multiple?t:t[0]}}},[o.blank?i("option",{attrs:{value:""}},[o._v(o._s(o.lang.pleaseSelect))]):o._e(),o._v(" "),o._l(o.listCity,function(e){return i("option",{key:e.key,domProps:{value:e.key}},[o._v(o._s(e.value))])})],2):o._e(),o._v(" "),!o.text&&!o.ui&&(o.area&&o.city||!o.haveCity)&&o.listArea.length?i("select",{directives:[{name:"model",rawName:"v-model",value:o.nowArea,expression:"nowArea"}],class:o.className,on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});o.nowArea=e.target.multiple?t:t[0]}}},[o.blank?i("option",{attrs:{value:""}},[o._v(o._s(o.lang.pleaseSelect))]):o._e(),o._v(" "),o._l(o.listArea,function(e){return i("option",{key:e.key,domProps:{value:e.key}},[o._v(o._s(e.value))])})],2):o._e(),o._v(" "),!o.text&&!o.ui&&o.town&&o.area&&o.city?i("select",{directives:[{name:"model",rawName:"v-model",value:o.nowTown,expression:"nowTown"}],class:o.className,on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});o.nowTown=e.target.multiple?t:t[0]}}},[o.blank?i("option",{attrs:{value:""}},[o._v(o._s(o.lang.pleaseSelect))]):o._e(),o._v(" "),o._l(o.listTown,function(e){return i("option",{key:e.key,domProps:{value:e.key}},[o._v(o._s(e.value))])})],2):o._e(),o._v(" "),o.ui?i("div",{ref:"caller",staticClass:"caller-container",on:{click:function(e){e.stopPropagation(),e.preventDefault(),o.showDropdown(!0)}}},[o._t("default")],2):o._e(),o._v(" "),o.ui?i("v-dropdown",{ref:"dropdown",on:{hidedropdown:o.hidedropdown}},[i("div",{staticClass:"rg-header"},[i("h3",[i("span",{directives:[{name:"show",rawName:"v-show",value:!(o.itemProvince||o.itemCity||o.itemArea||o.itemTown),expression:"!itemProvince&&!itemCity&&!itemArea&&!itemTown"}]},[o._v("行政区划选择器")]),o._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:o.itemProvince||o.itemCity||o.itemArea||o.itemTown,expression:"itemProvince||itemCity||itemArea||itemTown"}],staticClass:"rg-header-selected"},[o._v("\n                    "+o._s(o.itemProvince&&o.itemProvince.value)+o._s(o.itemCity&&o.itemCity.value)+o._s(o.itemArea&&o.itemArea.value)+o._s(o.itemTown&&o.itemTown.value)+"\n                ")])]),o._v(" "),i("button",{staticClass:"rg-removeall-button",attrs:{type:"button",title:"清除选择"},on:{click:o.clear}},[i("i",{staticClass:"iconfont icon-removeall"})]),o._v(" "),i("button",{staticClass:"rg-done-button",attrs:{type:"button",title:"完成"},on:{click:function(e){o.showDropdown(!1)}}},[i("i",{staticClass:"iconfont icon-selected"})])]),o._v(" "),o.search?i("div",{staticClass:"rg-search"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:o.query,expression:"query",modifiers:{trim:!0}}],ref:"input",staticClass:"rg-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:o.query},on:{input:function(e){e.target.composing||(o.query=e.target.value.trim())},blur:function(e){o.$forceUpdate()}}})]):o._e(),o._v(" "),i("div",{staticClass:"rg-level-tabs"},[i("ul",o._l(o.levels,function(e,t){return o.checkAvailable(t)?i("li",{key:t},[i("a",{class:{active:t===o.levelIndex},attrs:{href:"javascript:void(0);",tab_id:"selectmenu_tab_"+(t+1),data_index:t},on:{click:function(e){o.levelIndex=t}}},[o._v(o._s(e.title))])]):o._e()}))]),o._v(" "),i("div",{staticClass:"rg-results-container"},[i("ul",{staticClass:"rg-results"},[o._l(o.list,function(t,e){return i("li",{key:e,class:{"rg-item":!0,active:o.matchItem(t)},on:{click:function(e){o.itemSelect(t)}}},[o._v(o._s(t.value))])}),o._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:0===o.list.length,expression:"list.length === 0"}],staticClass:"rg-message-box"},[o._v("无匹配项目")])],2)])]):o._e()],1)},staticRenderFns:[]};t.a=i},"8Hxk":function(e,t){},"8sHD":function(e,t,o){var i=o("kM2E"),r=o("KpO7");i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},"9l6W":function(e,t,o){"use strict";var i=o("woOf"),a=o.n(i),r=o("Dd8w"),s=o.n(r),n=o("E4LH"),l=o("9ani"),c=o("P5Di"),m=o("QbVN"),d=o("o9X6"),u=o("9UCZ"),f=o("NYxO"),p=o("0xDb");t.a={components:{popRight:c.a,Upload:m.a,SelectTree:d.a,SelectType:u.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},info:{type:Object,default:function(){}},licenseTypes:{type:Array,default:function(){return[]}}},computed:s()({},Object(f.mapGetters)(["otherinfo"])),data:function(){return{searchTime:[],form:{bankCardNumber:"",bankName:"",certification:"",driverAddress:"",driverCardid:"",driverMobile:"",driverName:"",driverRemarks:"",drivingPicture:"",idcardPicture:"",licenseType:"",licenseTypeName:"",openBank:"",validityDate:"",validityStartdate:"",orgid:0},formLabelWidth:"100px",tooltip:!1,rules:{driverName:[{required:!0,message:"请输入司机名称"}],orgid:[{required:!0,message:"请选择所属机构"}],driverMobile:[{required:!0,trigger:"change",validator:function(e,t,o){""!==t&&null!==t&&t&&void 0!==t?n.a.MOBILE.test(t)?o():o(new Error("请输入有效的手机号码")):o(new Error("不能为空"))}}],driverCardid:[{pattern:n.a.ONLY_NUMBER_AND_LETTER,message:"身份证号码只能输入字母和数字"}]},popTitle:"新增司机",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,pickOption2:{firstDayOfWeek:1,disabledDate:function(e){return e.getTime()<Date.now()}}}},mounted:function(){this.form.orgid=this.orgid,this.inited||(this.inited=!0,this.initInfo())},watch:{popVisible:{handler:function(e,t){this.inited||(this.inited=!0,this.initInfo())},immediate:!0},orgid:function(e){this.form.orgid=e},info:{handler:function(e,t){if(this.isModify){this.popTitle="修改司机";var o=a()({},e);for(var i in this.form)this.form[i]=o[i];e.validityStartdate&&this.$set(this.searchTime,0,e.validityStartdate),e.validityDate&&this.$set(this.searchTime,1,e.validityDate),console.log(e.validityStartdate,e.validityDate),this.form.id=o.id}else{for(var r in this.popTitle="新增司机",this.form)this.form[r]="";this.searchTime=this.$options.data().searchTime,delete this.form.id,this.form.orgid=this.orgid}},deep:!0}},methods:{initInfo:function(){this.loading=!1},getOrgid:function(e){this.form.orgid=e},submitForm:function(e,i){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.loading=!0;var t=a()({},r.form);t.fixPhone=r.fixPhone,r.searchTime&&r.searchTime[0]&&r.searchTime[1]&&(t.validityStartdate=Object(p.parseTime)(r.searchTime[0],"{y}-{m}-{d} ")+" 00:00:00",t.validityDate=Object(p.parseTime)(r.searchTime[1],"{y}-{m}-{d} ")+" 23:59:59");var o=void 0;console.log(r.isModify),r.isModify?o=Object(l.e)(t):r.isModify||(o=Object(l.d)(t)),o.then(function(e){r.loading=!1,r.$message.success("保存成功"),r.reset(),i||r.closeMe(),r.$emit("success")}).catch(function(e){r._handlerCatchMsg(e),r.loading=!1})})},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),this.form.driverMobile="",this.form.idcardPicture="",this.form.drivingPicture="",this.form.certification="",this.form.orgid=e,this.searchTime=[]},closeMe:function(e){this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},ABFs:function(e,t,o){"use strict";var i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"add-dot"},[o("pop-right",{staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[o("template",{staticClass:"addEmployeerPop-content",slot:"content"},[t.companyId===t.form.id?o("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"公司名称","label-width":t.formLabelWidth,prop:"orgName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:t.companyId===t.form.id||31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网点类型","label-width":t.formLabelWidth}},[o("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.companyId===t.form.id||31===t.form.status},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"公司状态","label-width":t.formLabelWidth,disabled:"disabled"}},[o("el-select",{attrs:{disabled:!(!t.isModify&&t.companyId===t.form.id||31===t.form.status)},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[o("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),o("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"公司代码","label-width":t.formLabelWidth,prop:"networkCode"}},[o("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status||t.companyId===t.form.id,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[o("el-input",{attrs:{"auto-complete":"off",maxlength:30,disabled:31===t.form.status},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所在城市","label-width":t.formLabelWidth,prop:"city"}},[o("querySelect",{attrs:{filterable:"",show:"select",search:"longAddr",valuekey:"longAddr",disabled:t.companyId===t.form.id||31===t.form.status,type:"city",remote:!0,clearable:""},on:{change:t.getCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"园区名称","label-width":t.formLabelWidth,prop:"parkName"}},[o("el-input",{attrs:{disabled:31===t.form.status,placeholder:"选择所在园区"},on:{focus:t.doctionPark},model:{value:t.form.parkName,callback:function(e){t.$set(t.form,"parkName",e)},expression:"form.parkName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"统一社会信用代码","label-width":t.formLabelWidth,prop:"socialCreditCode"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.socialCreditCode,callback:function(e){t.$set(t.form,"socialCreditCode",e)},expression:"form.socialCreditCode"}})],1),t._v(" "),o("div",{staticClass:"rem-add-dot"},[o("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth,prop:""}},[o("el-input",{attrs:{type:"textarea",rows:2,disabled:31===t.form.status,maxlength:50,placeholder:"不可超300字","auto-complete":"off"},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1)],1)],1):o("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"网点名称","label-width":t.formLabelWidth,prop:"orgName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网点类型","label-width":t.formLabelWidth}},[o("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.isModify},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网点状态","label-width":t.formLabelWidth,disabled:"disabled"}},[o("el-select",{attrs:{disabled:!t.isModify},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[o("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),o("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"上级网点","label-width":t.formLabelWidth}},[o("SelectTree",{attrs:{disabled:t.isModify||31===t.form.status,orgid:t.form.parentId||t.otherinfo.orgid},on:{change:t.canadd},model:{value:t.form.parentId,callback:function(e){t.$set(t.form,"parentId",e)},expression:"form.parentId"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"经营类型","label-width":t.formLabelWidth}},[o("el-select",{attrs:{disabled:31===t.form.status},model:{value:t.form.manageType,callback:function(e){t.$set(t.form,"manageType",e)},expression:"form.manageType"}},[o("el-option",{attrs:{label:"自营",value:3}}),t._v(" "),o("el-option",{attrs:{label:"加盟",value:4}})],1)],1),t._v(" "),t.isModify?o("el-form-item",{attrs:{label:"创建时间","label-width":t.formLabelWidth}},[o("el-input",{attrs:{value:t._f("parseTime")(t.form.createTime,"{y}/{m}/{d}"),disabled:t.isModify||31===t.form.status}})],1):t._e(),t._v(" "),o("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[o("el-input",{attrs:{maxlength:11,"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所在城市","label-width":t.formLabelWidth,prop:"city"}},[o("querySelect",{attrs:{filterable:"",show:"select",search:"longAddr",valuekey:"longAddr",disabled:31===t.form.status,type:"city",remote:!0,clearable:""},on:{change:t.getCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:30},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网点ID","label-width":t.formLabelWidth,prop:"networkCode"}},[o("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"代收款限额","label-width":t.formLabelWidth,prop:""}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.collectionFee,callback:function(e){t.$set(t.form,"collectionFee",e)},expression:"form.collectionFee"}},[o("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"提现基准","label-width":t.formLabelWidth,prop:""}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:9},model:{value:t.form.benchmark,callback:function(e){t.$set(t.form,"benchmark",e)},expression:"form.benchmark"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"预警额度","label-width":t.formLabelWidth,prop:""}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.warningQuota,callback:function(e){t.$set(t.form,"warningQuota",e)},expression:"form.warningQuota"}},[o("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"锁机额度","label-width":t.formLabelWidth,prop:""}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.lockMachineQuota,callback:function(e){t.$set(t.form,"lockMachineQuota",e)},expression:"form.lockMachineQuota"}},[o("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"园区名称","label-width":t.formLabelWidth,prop:"parkName"}},[o("el-input",{attrs:{disabled:31===t.form.status,placeholder:"选择所在园区"},on:{focus:t.doctionPark},model:{value:t.form.parkName,callback:function(e){t.$set(t.form,"parkName",e)},expression:"form.parkName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"统一社会信用代码","label-width":t.formLabelWidth,prop:"socialCreditCode"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.socialCreditCode,callback:function(e){t.$set(t.form,"socialCreditCode",e)},expression:"form.socialCreditCode"}})],1),t._v(" "),o("div",{staticClass:"ad-add-dot-admin"},[t.isModify?t._e():o("div",{staticClass:"ad-add-dot"},[o("el-checkbox",{attrs:{checked:""},model:{value:t.form.accountStatus,callback:function(e){t.$set(t.form,"accountStatus",e)},expression:"form.accountStatus"}},[t._v("开通管理员账号")]),t._v(" "),o("p",[t._v(" 密码：123456")])],1),t._v(" "),t.form.accountStatus&&!t.isModify?o("el-form-item",{attrs:{"label-width":t.formLabelWidth,prop:"accountName"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip,tabindex:"-1"}},[o("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由字母、数字组成\n                "),o("br"),t._v("长度范围2~15个字符")]),t._v(" "),o("el-input",{staticStyle:{width:"307px"},attrs:{"auto-complete":"off"},on:{focus:function(e){t.tooltip=!0},blur:function(e){t.tooltip=!1}},model:{value:t.form.accountName,callback:function(e){t.$set(t.form,"accountName","string"==typeof e?e.trim():e)},expression:"form.accountName"}})],1)],1):t._e()],1),t._v(" "),o("div",{staticClass:"rem-add-dot"},[o("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth}},[o("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"off",disabled:31===t.form.status,maxlength:30,placeholder:"不可超30字"},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth,prop:""}},[o("el-input",{attrs:{type:"textarea",rows:2,placeholder:"不可超300字","auto-complete":"off",maxlength:300},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保存")]),t._v(" "),o("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2),t._v(" "),o("AddPark",{attrs:{isMatreg:t.isMatreg,centerDialogVisible:t.centerDialogVisible},on:{close:t.closeAddReg,success:t.getsuccess}})],1)},staticRenderFns:[]};t.a=i},AfEI:function(e,t,o){"use strict";var i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addDriverPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[o("template",{staticClass:"addDriverPop-content",slot:"content"},[o("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":t.formLabelWidth,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"司机姓名",prop:"driverName"}},[o("el-input",{attrs:{maxlength:10,"auto-complete":"off"},model:{value:t.form.driverName,callback:function(e){t.$set(t.form,"driverName","string"==typeof e?e.trim():e)},expression:"form.driverName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机号码",prop:"driverMobile"}},[o("el-input",{attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.driverMobile,callback:function(e){t.$set(t.form,"driverMobile",e)},expression:"form.driverMobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"归属网点",prop:"orgid"}},[o("SelectTree",{attrs:{orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"身份证号",prop:"driverCardid"}},[o("el-input",{attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.driverCardid,callback:function(e){t.$set(t.form,"driverCardid",e)},expression:"form.driverCardid"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"驾驶证类型",prop:"licenseType"}},[o("SelectType",{attrs:{type:"driving_type",placeholder:"驾驶证类型"},model:{value:t.form.licenseType,callback:function(e){t.$set(t.form,"licenseType",e)},expression:"form.licenseType"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"银行卡号",prop:"bankCardNumber"}},[o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.bankCardNumber,callback:function(e){t.$set(t.form,"bankCardNumber",e)},expression:"form.bankCardNumber"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[o("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.bankName,callback:function(e){t.$set(t.form,"bankName",e)},expression:"form.bankName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"开户行",prop:"openBank"}},[o("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.openBank,callback:function(e){t.$set(t.form,"openBank",e)},expression:"form.openBank"}})],1),t._v(" "),o("el-form-item",{staticClass:"blockInput",attrs:{label:"驾驶证有效期",prop:"validityDate"}},[o("el-date-picker",{attrs:{type:"daterange","unlink-panels":"",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),o("el-form-item",{staticClass:"blockInput",attrs:{label:"司机地址",prop:"driverAddress"}},[o("el-input",{attrs:{maxlength:50,"auto-complete":"off"},model:{value:t.form.driverAddress,callback:function(e){t.$set(t.form,"driverAddress",e)},expression:"form.driverAddress"}})],1),t._v(" "),o("el-form-item",{staticClass:"driverRemarks",attrs:{label:"备注",prop:"driverRemarks"}},[o("el-input",{attrs:{type:"textarea",maxlength:300},model:{value:t.form.driverRemarks,callback:function(e){t.$set(t.form,"driverRemarks","string"==typeof e?e.trim():e)},expression:"form.driverRemarks"}})],1),t._v(" "),o("el-form-item",{staticClass:"clearfix uploadcard"},[o("div",{staticClass:"idcard"},[o("upload",{attrs:{title:"身份证"},model:{value:t.form.idcardPicture,callback:function(e){t.$set(t.form,"idcardPicture",e)},expression:"form.idcardPicture"}})],1),t._v(" "),o("div",{staticClass:"drviercard"},[o("upload",{attrs:{title:"驾驶证"},model:{value:t.form.drivingPicture,callback:function(e){t.$set(t.form,"drivingPicture",e)},expression:"form.drivingPicture"}})],1),t._v(" "),o("div",{staticClass:"certcard"},[o("upload",{attrs:{title:"从业资格证"},model:{value:t.form.certification,callback:function(e){t.$set(t.form,"certification",e)},expression:"form.certification"}})],1)])],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并新增")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保 存")]),t._v(" "),o("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=i},BB2Z:function(e,t,o){"use strict";var i={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"v-dropdown-container",style:[e.styleSheet]},[e._t("default")],2)},staticRenderFns:[]};t.a=i},DAQk:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("wO8r"),r=o("Q5/P");var a=function(e){o("whtI")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},FKPH:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("9l6W"),r=o("AfEI");var a=function(e){o("grrk")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},Ftci:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("1IKb"),r=o("pMJc");var a=function(e){o("NOu1")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},IEVd:function(e,t){},KpO7:function(e,t,o){var i=o("7KvD").parseInt,r=o("mnVu").trim,a=o("hyta"),s=/^[-+]?0[xX]/;e.exports=8!==i(a+"08")||22!==i(a+"0x16")?function(e,t){var o=r(String(e),3);return i(o,t>>>0||(s.test(o)?16:10))}:i},LaJi:function(e,t){},NOu1:function(e,t){},O85W:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("rAXf"),r=o("jp/2");var a=function(e){o("ttyY")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},PN7R:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("s7/i"),r=o("kX6U");var a=function(e){o("IEVd")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},"Q5/P":function(e,t,o){"use strict";var i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[o("template",{staticClass:"addEmployeerPop-content",slot:"content"},[o("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"用户姓名","label-width":t.formLabelWidth,prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机号码","label-width":t.formLabelWidth,prop:"mobilephone"}},[o("el-input",{attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.mobilephone,callback:function(e){t.$set(t.form,"mobilephone",e)},expression:"form.mobilephone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"登录账号","label-width":t.formLabelWidth,prop:"username"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip,tabindex:"-1"}},[o("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由小写字母、数字组成"),o("br"),t._v("长度范围2~30个字符")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.username,expression:"form.username",modifiers:{trim:!0}},{name:"onlyNumberAndLetter",rawName:"v-onlyNumberAndLetter"}],staticClass:"nativeinput",attrs:{type:"text","auto-complete":"off",maxlength:"30"},domProps:{value:t.form.username},on:{focus:function(e){t.tooltip=!0},blur:[function(e){t.tooltip=!1},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value.trim())}}})])],1),t._v(" "),o("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth,prop:"password"}},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.password,expression:"form.password",modifiers:{trim:!0}},{name:"onlyNumberAndLetter",rawName:"v-onlyNumberAndLetter"}],staticClass:"nativeinput",attrs:{type:"text",maxlength:"15","auto-complete":"off"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),o("el-form-item",{attrs:{label:"职位","label-width":t.formLabelWidth,prop:"position"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"员工号","label-width":t.formLabelWidth,prop:"jobNumber"}},[o("el-input",{attrs:{"auto-complete":"off",maxlength:20},model:{value:t.form.jobNumber,callback:function(e){t.$set(t.form,"jobNumber",e)},expression:"form.jobNumber"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"sexFlag","label-width":t.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.form.sexFlag,callback:function(e){t.$set(t.form,"sexFlag",e)},expression:"form.sexFlag"}},[o("el-option",{attrs:{label:"男",value:"0"}}),t._v(" "),o("el-option",{attrs:{label:"女",value:"1"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{required:"",prop:"orgid",label:"归属网点","label-width":t.formLabelWidth}},[o("SelectTree",{attrs:{filterable:"",orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"权限角色","label-width":t.formLabelWidth,prop:"rolesId"}},[o("el-select",{attrs:{"collapse-tags":"",filterable:"",multiple:"","filter-method":t.makefilter,placeholder:"请选择权限"},model:{value:t.form.rolesId,callback:function(e){t.$set(t.form,"rolesId",e)},expression:"form.rolesId"}},t._l(t.roleslist,function(e){return o("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}},[o("span",{staticClass:"query-input-myautocomplete",domProps:{innerHTML:t._s(t.highLight(e,"roleName"))}})])}))],1),t._v(" "),o("el-form-item",{attrs:{label:"归属部门","label-width":t.formLabelWidth,prop:"departmentId"}},[o("SelectType",{attrs:{orgid:t.otherinfo.orgid,type:"department_type",filterable:"",placeholder:"请选择部门"},model:{value:t.form.departmentId,callback:function(e){t.$set(t.form,"departmentId",e)},expression:"form.departmentId"}})],1)],1),t._v(" "),t.isModify?t._e():o("div",{staticClass:"info"},[t._v("注：密码默认为：123456")])],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("确 定")]),t._v(" "),o("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=i},Q9eS:function(e,t){},TyhB:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABOklEQVQ4T8WTsUoDURBF77xNRAt3U6QQIRCFNPoL7ib+gHWIICSktrEQa2PhFwgib0VEBE1rFSGYhTTxD0TExkb0uRol8e2OJJWgyQohONUUM4c7lzuEEYtG3Mf4AbkTPxl0eBvMMWNSbNUL5uN31UMVOEcfcwg6l2DcgUgDSIu0uVBf7vf9GgjIuW8zIXSLGTuNUmKvN2y76pwhLryiKSMBtlS7AMU10b7BYdcrJW5t+XIKUK1RMg8GAhz5noLBSQ4+8z0AEVoA8ixQoRDHkSfYUtVJ0Jlgoxog8B5ezcXZaV+JeDyjqdv2VhPPQ020pWrrkFLNsvXUG3QO/Q0wZ6+K1spvmflhou2qGhjXIVsVg/xNBoo6RLZZtm7+BFiSal4QqgAyzFTj2MS6tzZ1Pyix409i1K/8v4IvMT9zEV3+DDMAAAAASUVORK5CYII="},UZPH:function(e,t,o){"use strict";t.a={cn:{pleaseSelect:"请选择"},en:{pleaseSelect:"Please select"}}},XCyX:function(e,t,o){"use strict";var i=o("woOf"),r=o.n(i),a=o("P5Di"),s=o("5CI6"),n=o("0xDb");t.a={components:{popRight:a.a},props:{popVisible:{type:Boolean,default:!1},isModify:{type:Boolean,default:!1},reference:{type:Boolean,default:!1},dotInfo:Array,theUser:Object,createrId:[Number,String]},watch:{dotInfo:function(e){this.treeData=this.dotInfo,this.$refs.tree&&this.$refs.tree.setCheckedKeys(function t(e){var o=[];return e.map(function(e){e.isSelected?o.push(e.id):e.children&&(o=o.concat(t(e.children)))}),o}(this.treeData))},theUser:function(e){this.isModify&&(this.popTitle="修改角色",this.formInline=Object(n.objectMerge2)(this.theUser||{}),this.$refs.tree.setCheckedKeys(this.formInline.menusId)),this.reference?(this.formInline.menusId=this.theUser.id,this.$refs.tree.setCheckedKeys(this.formInline.menusId)):(this.popTitle="新增角色",this.result()),this.roleKey=Math.random()},reference:function(){this.reference&&(this.formInline={roleName:"",remark:"",menusId:this.theUser.id,createrId:this.createrId},this.popTitle="新增角色")}},computed:{isShow:{get:function(){return this.popVisible},set:function(){}}},data:function(){return{rules:{roleName:[{required:!0,message:"请输入角色名称",validator:function(e,t,o){if(!t)return o(new Error("请输入角色名称"));o()},trigger:"blur"},{max:12,message:"最多可输入12个字符"}],remarks:[{validator:function(e,t,o){o()},trigger:"blur"},{max:250,message:"最多可输入250个字符",trigger:"blur"}]},roleKey:"",treeData:[],defaultProps:{children:"children",label:"name"},formInline:{roleName:"",remark:"",menusId:[],createrId:this.createrId},popTitle:"新增角色",loading:!1}},mounted:function(){},methods:{newInfoData:function(){this.formInline={roleName:"",remark:"",menusId:"",createrId:this.createrId}},result:function(){this.newInfoData(),this.roleKey=Math.random()},closeMe:function(e){this.result(),this.$emit("close"),this.$refs.formName.resetFields(),"function"==typeof e&&e()},getCheckedNodes:function(e,t){var i=this;this.$refs[e].validate(function(e){if(!e)return!1;i.loading=!0;var t=i.$refs.tree.getCheckedNodes();i.formInline.menusId=t.map(function(e){return e.id});var o=r()({},i.formInline);(i.isModify?Object(s.f)(o):(i.reference,Object(s.e)(o))).then(function(e){i.$emit("success"),i.loading=!1,i.closeMe(),i.$message.success("保存成功")}).catch(function(e){i._handlerCatchMsg(e),i.loading=!1})})}}}},XRGj:function(e,t,o){"use strict";var i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addCustomerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[o("template",{staticClass:"addCustomerPop-content",slot:"content"},[o("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":t.formLabelWidth,inline:!0,"label-position":"right",size:"mini"}},[t.isModify?t._e():o("el-form-item",{staticClass:"clearfix"},[o("div",{staticClass:"selectType",class:{checked:2===t.form.companyType},on:{click:function(e){e.stopPropagation(),t.form.companyType=2}}},[o("span",{staticClass:"icon"},[o("icon-svg",{attrs:{"icon-class":"qiye"}})],1),t._v(" "),o("strong",[t._v("企业")]),t._v(" "),o("p",[t._v("有合法营业执照等企业")])]),t._v(" "),o("div",{staticClass:"selectType single",class:{checked:1===t.form.companyType},on:{click:function(e){e.stopPropagation(),t.form.companyType=1}}},[o("span",{staticClass:"icon"},[o("icon-svg",{attrs:{"icon-class":"geren"}})],1),t._v(" "),o("strong",[t._v("个人")]),t._v(" "),o("p",[t._v("具备有效身份的自然人")])])]),t._v(" "),2===t.form.companyType?[o("div",{staticClass:"info"},[t._v("公司名称")]),t._v(" "),o("el-form-item",{attrs:{prop:"companyName"}},[o("el-input",{attrs:{maxlength:25,placeholder:"公司全称"},model:{value:t.form.companyName,callback:function(e){t.$set(t.form,"companyName","string"==typeof e?e.trim():e)},expression:"form.companyName"}})],1),t._v(" "),o("el-form-item",[o("upload",{staticClass:"licensePicture",attrs:{twocode:"",tip:"（有年检章，jpg/png。小于5M）"},model:{value:t.form.licensePicture,callback:function(e){t.$set(t.form,"licensePicture",e)},expression:"form.licensePicture"}})],1),t._v(" "),o("div",{staticClass:"info"},[t._v("公司法人信息")]),t._v(" "),o("el-form-item",{attrs:{prop:"legalPersonname"}},[o("el-input",{attrs:{maxlength:25,placeholder:"公司法人名称","auto-complete":"off"},model:{value:t.form.legalPersonname,callback:function(e){t.$set(t.form,"legalPersonname","string"==typeof e?e.trim():e)},expression:"form.legalPersonname"}})],1)]:t._e(),t._v(" "),o("el-form-item",{staticClass:"clearfix"},[o("div",{staticClass:"idcard-pos"},[o("upload",{attrs:{twocode:"",title:1===t.form.companyType?"自然人身份证正面":"法人身份证正面"},model:{value:t.form.idcardPositive,callback:function(e){t.$set(t.form,"idcardPositive",e)},expression:"form.idcardPositive"}})],1),t._v(" "),o("div",{staticClass:"idcard-ver"},[o("upload",{attrs:{twocode:"",title:1===t.form.companyType?"自然人身份证反面":"法人身份证反面"},model:{value:t.form.idcardVerso,callback:function(e){t.$set(t.form,"idcardVerso",e)},expression:"form.idcardVerso"}})],1)]),t._v(" "),o("div",{staticClass:"info"},[t._v(t._s(t.issender?"发":"收")+"货信息")]),t._v(" "),o("el-form-item",{attrs:{label:(t.issender?"发":"收")+"货方",prop:"customerUnit"}},[o("el-input",{attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.customerUnit,callback:function(e){t.$set(t.form,"customerUnit",e)},expression:"form.customerUnit"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"联系人",prop:"customerName"}},[o("el-input",{attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.customerName,callback:function(e){t.$set(t.form,"customerName",e)},expression:"form.customerName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"customerMobile"}},[o("input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"},{name:"model",rawName:"v-model.trim",value:t.form.customerMobile,expression:"form.customerMobile",modifiers:{trim:!0}}],staticClass:"nativeinput",attrs:{type:"text","auto-complete":"off",maxlength:"20"},domProps:{value:t.form.customerMobile},on:{input:function(e){e.target.composing||t.$set(t.form,"customerMobile",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),o("el-form-item",{staticClass:"customerPhone",attrs:{label:"电话",prop:"customerPhone"}},[o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],staticClass:"phoneshort",attrs:{maxlength:4,"auto-complete":"off"},model:{value:t.phoneshort,callback:function(e){t.phoneshort=e},expression:"phoneshort"}}),t._v(" - "),o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],staticClass:"phonelong",attrs:{maxlength:8,"auto-complete":"off"},model:{value:t.phonelong,callback:function(e){t.phonelong=e},expression:"phonelong"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"归属网点",prop:"orgid"}},[o("SelectTree",{attrs:{filterable:"",orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客户VIP号",prop:"vipNum"}},[o("el-input",{attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.vipNum,callback:function(e){t.$set(t.form,"vipNum",e)},expression:"form.vipNum"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"身份证号码",prop:"idcard"}},[o("el-input",{attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.idcard,callback:function(e){t.$set(t.form,"idcard",e)},expression:"form.idcard"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"开户行",prop:"openBank"}},[o("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.openBank,callback:function(e){t.$set(t.form,"openBank",e)},expression:"form.openBank"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[o("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.bankName,callback:function(e){t.$set(t.form,"bankName",e)},expression:"form.bankName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"银行卡号",prop:"bankCardNumber"}},[o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.bankCardNumber,callback:function(e){t.$set(t.form,"bankCardNumber","string"==typeof e?e.trim():e)},expression:"form.bankCardNumber"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"详细地址",prop:"detailedAddress"}},[o("el-input",{attrs:{type:"textarea",placeholder:"最多输入50个字符",maxlength:50,"auto-complete":"off"},model:{value:t.form.detailedAddress,callback:function(e){t.$set(t.form,"detailedAddress",e)},expression:"form.detailedAddress"}})],1)],2)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并新增")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保 存")]),t._v(" "),o("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=i},bZax:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("frTf"),r=o("ubb7");var a=function(e){o("8Hxk")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},"f/K7":function(e,t,a){"use strict";var o={render:function(){var i=this,e=i.$createElement,r=i._self._c||e;return r("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:i.loading,expression:"loading"}],staticClass:"add-role-pop-content",attrs:{title:i.popTitle,isShow:i.popVisible},on:{close:i.closeMe}},[r("template",{staticClass:"addEmployeerPop-content",slot:"content"},[r("div",{staticClass:"add-role"},[r("div",{staticClass:"add-role-top"},[r("el-form",{ref:"formName",staticClass:"demo-form-inline",attrs:{inline:!0,rules:i.rules,model:i.formInline}},[r("el-form-item",{attrs:{label:"角色名称：",prop:"roleName"}},[r("el-input",{attrs:{clearable:""},model:{value:i.formInline.roleName,callback:function(e){i.$set(i.formInline,"roleName",e)},expression:"formInline.roleName"}})],1),i._v(" "),r("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"",maxlength:300},model:{value:i.formInline.remark,callback:function(e){i.$set(i.formInline,"remark",e)},expression:"formInline.remark"}})],1)],1)],1),i._v(" "),r("div",{staticClass:"add-role-tree"},[r("el-tree",{key:i.roleKey,ref:"tree",attrs:{data:i.treeData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:i.defaultProps},scopedSlots:i._u([{key:"default",fn:function(e){var t=e.node,o=e.data;return r("span",{staticClass:"custom-tree-node"},[0===o.status?r("span",[r("img",{attrs:{src:a("TyhB"),alt:""}}),i._v("\n                  "+i._s(t.label)+"\n                  ")]):r("span",[r("img",{attrs:{src:a("vzGk"),alt:""}}),i._v("\n                  "+i._s(t.label)+"\n                  ")])])}}])})],1)])]),i._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){i.getCheckedNodes("formName")}}},[i._v("保存")]),i._v(" "),r("el-button",{on:{click:i.closeMe}},[i._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=o},frTf:function(e,t,o){"use strict";var i=o("woOf"),r=o.n(i),a=o("Dd8w"),s=o.n(a),n=o("E4LH"),l=o("4UdH"),c=o("P5Di"),m=o("QbVN"),d=o("o9X6"),u=o("NYxO");t.a={components:{popRight:c.a,Upload:m.a,SelectTree:d.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},info:{type:Object,default:function(){}},issender:{type:Boolean,dafault:!1}},computed:s()({},Object(u.mapGetters)(["otherinfo"])),data:function(){var t=this;return{form:{carrierAddr:"",carrierMobile:"",carrierName:"",carrierRemarks:"",carrierSn:"",contractEndtime:"",contractStarttime:"",customerServicePhone:"",liableName:"",liablePhone:"",orgid:0},formLabelWidth:"100px",tooltip:!1,rules:{carrierName:[{required:!0,message:"请输入承运商名称"}],orgid:[{required:!0,message:"请选择所属机构"}],carrierMobile:[{required:!0,trigger:"change",validator:function(e,t,o){""!==t&&null!==t&&t&&void 0!==t?n.a.MOBILE.test(t)?o():o(new Error("请输11位手机号码")):o(new Error("不能为空"))}}],liablePhone:[],carrierSn:[{message:"仅限字母或数字组合",pattern:n.a.ONLY_NUMBER_AND_LETTER}]},popTitle:"新增承运商",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,pickOption:{firstDayOfWeek:1,disabledDate:function(e){return!!t.form.contractEndtime&&e.getTime()>t.form.contractEndtime}},pickOption2:{firstDayOfWeek:1,disabledDate:function(e){return!!t.form.contractStarttime&&e.getTime()<t.form.contractStarttime}}}},mounted:function(){this.form.orgid=this.orgid,this.inited||(this.inited=!0,this.initInfo())},watch:{popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo()),e&&!this.isModify&&this.getCarrierSn()},orgid:function(e){this.form.orgid=e},info:function(){if(this.isModify){this.popTitle="修改承运商";var e=r()({},this.info);for(var t in this.form)this.form[t]=e[t];this.form.carrierId=e.carrierId}else{for(var o in this.popTitle="新增承运商",this.getCarrierSn(),this.form)this.form[o]="";delete this.form.carrierId,this.form.orgid=this.orgid}}},methods:{getCarrierSn:function(){var t=this;return this.loading=!0,Object(l.c)().then(function(e){t.form.carrierSn=e.data,console.log(e.data),t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})},initInfo:function(){this.loading=!1},getOrgid:function(e){this.form.orgid=e},submitForm:function(e,o){var i=this;this.$refs[e].validate(function(e){if(!e)return!1;i.loading=!0;var t=r()({},i.form);t.fixPhone=i.fixPhone;(i.isModify?Object(l.e)(t):Object(l.d)(t)).then(function(e){i.loading=!1,i.$message.success("保存成功"),i.reset(),o?(i.form.orgid=i.orgid,i.getCarrierSn()):i.closeMe(),i.$emit("success")}).catch(function(e){i._handlerCatchMsg(e),i.loading=!1})})},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),this.form.orgid=e},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},ftoq:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("//Ie"),r=o("XRGj");var a=function(e){o("nveU")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},gBtx:function(e,t,o){e.exports={default:o("qrpI"),__esModule:!0}},grrk:function(e,t){},hyta:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"jp/2":function(e,t,o){"use strict";var i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progressContainer"},[t("div",{staticClass:"progressItem",class:{showani:this.isani,cancelAni:this.cancelAni}})])},staticRenderFns:[]};t.a=i},kX6U:function(e,t,o){"use strict";var i={render:function(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",{staticClass:"wzlReg"},[r("el-dialog",{attrs:{title:i.popTitle,visible:i.isShow,width:"30%",center:"","close-on-click-modal":!1,"before-close":i.closeMe},on:{"update:visible":function(e){i.isShow=e},close:i.closeMe}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:i.formAllData,rules:i.rules,inline:!0,"label-position":"right","label-width":"100px"}},[r("div",{staticClass:"search_warrper"},[r("el-form-item",{attrs:{label:"",prop:"belongCityName"}},[r("vregion",{staticClass:"form-control",attrs:{ui:!0},on:{values:i.regionChange}},[r("el-input",{attrs:{placeholder:"请选择园区所在地"},model:{value:i.formAllData.belongCityName,callback:function(e){i.$set(i.formAllData,"belongCityName",e)},expression:"formAllData.belongCityName"}})],1)],1),i._v(" "),r("el-form-item",{attrs:{label:"",prop:"recommendFee"}},[r("el-input",{attrs:{maxlength:20,placeholder:"请输入园区名称","auto-complete":"off",clearable:""},model:{value:i.formAllData.parkName,callback:function(e){i.$set(i.formAllData,"parkName","string"==typeof e?e.trim():e)},expression:"formAllData.parkName"}})],1),i._v(" "),r("el-form-item",{staticClass:"staff_searchinfo--btn"},[r("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:function(e){i.handleSearch("searchForm")}}},[i._v("搜索")]),i._v(" "),r("el-button",{attrs:{size:"mini",icon:"el-icon-close",type:"info",plain:""},on:{click:function(e){i.handleSearch("clearForm")}}},[i._v("重置")])],1)],1),i._v(" "),r("div",{staticClass:"classify_info"},[r("ul",{staticClass:"addlist"},i._l(i.dataset,function(t,o){return r("li",{key:o,class:{itemHover:i.itemIndex===o},on:{click:function(e){i.selectList(t)},mouseenter:function(e){i.enter(t,o),i.dataset}}},[r("h4",[i._v(i._s(t.parkName))]),i._v(" "),r("span",[i._v(i._s(t.locationProvince+t.locationCity+t.locationArea+t.parkAddress))])])}))])]),i._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("div",{staticClass:"info_tab_footer"},[i._v("共计:"+i._s(i.dataTotal)+"\n        "),r("div",{staticClass:"show_pager"},[r("Pager",{attrs:{total:i.dataTotal,sizes:i.sizes},on:{change:i.handlePageChange}})],1)])])],1)],1)},staticRenderFns:[]};t.a=i},m59D:function(e,t,o){"use strict";var i=o("woOf"),r=o.n(i),a=o("//Fk"),s=o.n(a),n=o("Dd8w"),l=o.n(n),c=o("T8y6"),m=o("P5Di"),d=o("o9X6"),u=o("PN7R"),f=o("hq98"),p=o("E4LH"),h=(o("0xDb"),o("NYxO")),v=o("9UCZ");t.a={components:{popRight:m.a,SelectTree:d.a,querySelect:f.a,SelectType:v.a,AddPark:u.default},computed:l()({},Object(h.mapGetters)(["otherinfo"]),{isShow:{get:function(){return this.popVisible},set:function(){}}}),props:{popVisible:{type:Boolean,default:!1},isModify:{type:Boolean,default:!1},dotInfo:Object,orgid:{type:Number},companyId:{type:Number},getCheckedKeyId:{type:[Number,String]}},watch:{"form.accountStatus":{handler:function(){this.form.accountName=""}},popVisible:function(e){e&&(this.formKey=Math.random(),this.fetchData()),console.log("dotinfo",this.dotInfo),this.watchDate(this.dotInfo)},getCheckedKeyId:function(e){this.watchDate()},dotInfo:{handler:function(e,t){this.checkShowMessage=!1,this.watchDate(this.dotInfo)},immediate:!0,deep:!0},isModify:{handler:function(){this.watchDate()},immediate:!0}},data:function(){var e=function(e,t,o){o()};return{centerDialogVisible:!1,isMatreg:!1,parkList:[],tooltip:!1,formKey:"",popTitle:"新增网点",checked:!0,loading:!1,checkShowMessage:!1,netWorkType:[],newnNetWorkType:[],manageType:[],netWorkStatus:[],isChecked:!1,isCheckedShow:!1,form:{parkId:"",parkName:"",orgName:"",orgType:1,status:32,responsibleTelephone:"",responsibleName:"",city:"",serviceName:"",parentName:"",servicePhone:"",detailedAddr:"",networkCode:"",collectionFee:"",benchmark:"",warningQuota:"",lockMachineQuota:"",manageType:3,remarks:"",accountStatus:!0,parentId:0,createTime:"",id:"",accountName:""},rules:{orgName:[{required:!0,message:"请输入网点名称"}],servicePhone:[{required:!0,pattern:p.a.TELANDPHONE,message:"客服号码格式不正确"}],responsibleName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],responsibleTelephone:[{pattern:p.a.MOBILE,message:"请输入正确的电话号码",trigger:["blur","change"]}],serviceName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],networkCode:[{required:!0,message:"请输入网点代码"},{max:10,message:"不可超过10个字符",trigger:"blur"}],city:[{required:!0,message:"请选择城市"}],accountName:[{required:!0,message:"请输入有效的登录账号",pattern:p.a.USERNAME_NOUP},{max:15,message:"不能超过15个字符",trigger:"blur"}]},dialogVisible:!1,formLabelWidth:"120px"}},mounted:function(){},methods:{doctionPark:function(){console.log("doctionPark"),this.centerDialogVisible=!0,this.isMatreg=!0},closeAddReg:function(){this.centerDialogVisible=!1,this.isMatreg=!1},getsuccess:function(e){this.$set(this.form,"parkName",e.parkName),this.$set(this.form,"parkId",e.id),this.$set(this.form,"socialCreditCode",e.substationCode||"")},changePark:function(t){console.log("park",t,this.parkList.filter(function(e){return e.id===t})[0]),this.form.parkName=this.parkList.filter(function(e){return e.id===t})[0].parkName},fetchParks:function(){var t=this;return Object(c.i)({pageSize:500,currentPage:1}).then(function(e){e&&(t.parkList=e.list||[])}).catch(function(e){t._handlerCatchMsg(e)})},fetchData:function(){var t=this;this.loading=!0,this.form.parentId=this.orgid||this.companyId,s.a.all([Object(c.c)(this.form.parentId),Object(c.b)(this.form.parentId),Object(c.d)(this.form.parentId)]).then(function(e){t.manageType=e[1],t.netWorkStatus=e[2],t.netWorkType=e[0],t.loading=!1}).catch(function(e){t._handlerCatchMsg(e),t.loading=!1})},canadd:function(e,t){t&&t.index&&5<=t.index&&(this.$message.info("添加的层级数不能超过5层，请重新选择~"),this.form.parentId=this.otherinfo.companyId)},watchDate:function(){for(var e in this.form)this.form[e]="";this.isModify?(this.popTitle="修改网点",this.form=r()({},this.dotInfo),this.changeDate(this.dotInfo),this.form.id=this.dotInfo.id,this.form.parentId=this.dotInfo.parentId||this.companyId):(this.popTitle="新增网点",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid)},getCity:function(e){this.form.city=e?e.longAddr:e},getOrgid:function(e){this.form.parentId=e},newDate:function(){},reset:function(){for(var e in this.$refs.ruleForm.resetFields(),this.form)this.form[e]="",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid},closeMe:function(e){this.$emit("close"),this.reset(),"function"==typeof e&&e()},submitForm:function(e,o){var i=this;this.$refs[e].validate(function(e){if(i.isChecked=!1,i.isCheckedShow=!1,!e)return i.$message({type:"error",message:"保存失败"}),!1;i.loading=!0;var t=void 0;i.isModify?(i.form.id===i.form.parentId&&i.form.parentId===i.otherinfo.companyId&&(i.form.parentId=0),i.form.id=i.dotInfo.id,i.form.createTime=+new Date(i.form.createTime),"总公司"===i.form.orgType&&(i.form.orgType=5),t=Object(c.k)(i.form)):(!0===i.form.accountStatus?i.form.accountStatus=0:i.form.accountStatus=1,t=Object(c.h)(i.form)),t.then(function(e){i.$emit("success",i.isModify),i.$message.success("保存成功"),i.formKey=Math.random(),i.reset(),o||i.closeMe(),i.popTitle="新增网点",i.loading=!1,i.$emit("update:isModify",!1)}).catch(function(e){i._handlerCatchMsg(e),i.loading=!1})})},changeDate:function(e){this.form.orgName=e.orgName,this.form.responsibleTelephone=e.responsibleTelephone,this.form.responsibleName=e.responsibleName,this.form.city=e.city,this.form.serviceName=e.serviceName,this.form.parentName=e.parentName,this.form.servicePhone=e.servicePhone,this.form.detailedAddr=e.detailedAddr,this.form.networkCode=e.networkCode,this.form.collectionFee=e.collectionFee,this.form.benchmark=e.benchmark,this.form.warningQuota=e.warningQuota,this.form.lockMachineQuota=e.lockMachineQuota,this.form.remarks=e.remarks,this.form.status=e.status,this.form.accountStatus=e.accountStatus,this.form.manageType=e.manageType,this.form.createTime=e.createTime,5===e.orgType?this.form.orgType="总公司":this.form.orgType=e.orgType}}}},mcg1:function(e,t,o){"use strict";var i=o("oCPT"),r=o("7sm4");var a=function(e){o("Q9eS")},s=o("VU/8")(i.a,r.a,a,null,null);t.a=s.exports},mnVu:function(e,t,o){var s=o("kM2E"),i=o("52gC"),n=o("S82l"),l=o("hyta"),r="["+l+"]",a=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),m=function(e,t,o){var i={},r=n(function(){return!!l[e]()||"​"!="​"[e]()}),a=i[e]=r?t(d):l[e];o&&(i[o]=a),s(s.P+s.F*r,"String",i)},d=m.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(c,"")),e};e.exports=m},nveU:function(e,t){},oCPT:function(e,t,o){"use strict";var i=o("//Fk"),a=o.n(i),r=o("gBtx"),s=o.n(r),n=o("fZjL"),l=o.n(n),c=o("t5DY"),m=o("/OH/"),d=o("UZPH");t.a={name:"vregion",components:{"v-dropdown":m.a},props:{blank:{type:Boolean,default:!0},province:{type:Boolean,default:!0},city:{type:Boolean,default:!0},area:{type:Boolean,default:!0},town:{type:Boolean,default:!1},i18n:{type:String,default:"cn"},selected:Object,ui:{type:Boolean,default:!1},search:{type:Boolean,default:!0},text:{type:Boolean,default:!1},ifAera:{type:Boolean,default:!1}},data:function(){return{listProvince:[],listCity:[],listArea:[],listTown:[],nowProvince:"",nowCity:"",nowArea:"",nowTown:"",haveCity:!0,className:"",lang:{},init:this.selected,pauseWatch:!1,query:"",levels:[{index:0,title:"省/直辖市"},{index:1,title:"市"},{index:2,title:"区/县"},{index:3,title:"乡/镇/街道"}],levelIndex:-1,list:[],itemProvince:null,itemCity:null,itemArea:null,itemTown:null}},watch:{query:function(t){var e=this.getList(this.levelIndex),o=[];0===(o=e.filter(function(e){return e.value.toLowerCase().includes(t.toLowerCase())})).length&&(o=e.filter(function(e){return e.key.includes(t)})),this.list=o},nowProvince:function(o){var i=this;this.pauseWatch||this.city&&this.fetchCity(o,"city").then(function(e){if(e.code===i.nowProvince){var t=e.data;i.listArea.length&&i.listArea.splice(0,i.listArea.length),i.listCity=t,i.nowCity="",i.haveCity||(i.nowArea=""),i.itemProvince=i.listProvince.find(function(e){return e.key===o}),i.haveCity=!!i.listCity.length,i.$nextTick(function(){!i.haveCity&&i.area?i.changeCity():i.initSelected(2),i.ui&&(i.levelIndex=i.haveCity?1:2)}),i.changeValues()}})},nowCity:function(t){this.pauseWatch||(this.changeCity(),this.itemCity=this.listCity.find(function(e){return e.key===t}),this.ui&&(this.levelIndex=2),this.changeValues())},nowArea:function(t){if(!this.pauseWatch){if(t&&this.town){var e=[];this.listTown=e}else this.listTown=[];this.town&&(this.nowTown=""),console.log("nowArea:",t,this.listArea),this.itemArea=this.listArea.find(function(e){return e.key===t}),this.initSelected(4),this.ui&&this.town&&(this.levelIndex=3),this.changeValues()}},nowTown:function(t){this.pauseWatch||(this.itemTown=this.listTown.find(function(e){return e.key===t}),this.changeValues())},selected:{handler:function(e){e&&l()(e).length&&(this.init=e,this.initSelected(1))},deep:!0},levelIndex:function(e){this.list=this.getList(e)}},methods:{hidedropdown:function(e){this.showDropdown(!1),this.$emit("hidedropdown",e)},changeCity:function(){var o=this;if(this.area||!this.haveCity&&this.province){if(this.haveCity&&!this.nowCity||!this.haveCity&&!this.nowProvince)console.log("2222222222:",this.haveCity,this.nowProvince,this.nowCity),this.listArea=[];else{var e=s()(this.haveCity?this.nowCity:this.nowProvince),i=this.haveCity;this.fetchCity(e).then(function(e){var t=e.data;if(i){if(o.nowCity!==e.code)return}else if(o.nowProvince!==e.code)return;o.listArea=t,console.log("333333333:",o.haveCity,o.nowProvince,o.nowCity,i,e.code,t),t.length&&(o.list=o.getList(2),o.initSelected(3))})}this.nowArea=""}else this.initSelected(3)},changeValues:function(){var e=this;this.$nextTick(function(){e.$emit("values",{province:e.itemProvince,city:e.itemCity,area:e.itemArea,town:e.itemTown})})},initSelected:function(e){var t=this,o=this.init,i=0;if(o&&l()(o).length){switch(e){case 1:t.province&&o.province&&(t.nowProvince=o.province);break;case 2:t.city&&o.city&&(t.nowCity=o.city);break;case 3:t.area&&o.area&&(t.nowArea=o.area);break;case 4:t.town&&o.town&&(t.nowTown=o.town)}t.province&&o.province&&i++,t.city&&(o.city||!o.city&&!t.haveCity&&t.area&&o.area)&&i++,t.area&&o.area&&i++,t.town&&o.town&&i++,e===i&&(this.init=null)}},getList:function(e){var t=[];switch(e){case 0:t=this.listProvince;break;case 1:t=this.listCity;break;case 2:t=this.listArea;break;case 3:t=this.listTown}return t},checkAvailable:function(e){var t=!1;switch(e){case 0:this.province&&(t=!0);break;case 1:this.city&&this.haveCity&&(t=!0);break;case 2:this.area&&(t=!0);break;case 3:this.town&&(t=!0)}return t},matchItem:function(e){return e.key===this.nowProvince||e.key===this.nowCity||e.key===this.nowArea||e.key===this.nowTown},itemSelect:function(e){switch(console.log("223434343",e),this.levelIndex){case 0:this.nowProvince=e.key,this.itemProvince=e,console.log("111111",e);break;case 1:this.nowCity=e.key,this.itemCity=e;break;case 2:this.nowArea=e.key,this.itemArea=e;break;case 3:this.nowTown=e.key,this.itemTown=e}},showDropdown:function(e){var t=this;if(console.log(e),"boolean"==typeof e){var o=this;this.$refs.dropdown.$emit("show",e,this.$refs.caller);var i=!1;!1===e&&this.ifAera&&(["北京","天津","重庆","上海","香港","澳门","台湾"].forEach(function(e){0===t.itemProvince.name.indexOf(e)&&(i=!0)}),null==this.itemCity&&!1===i&&this.$emit("testCity")),e&&(this.query="",this.$nextTick(function(){return o.$refs.input.focus({preventScroll:!0})}))}},clear:function(){var e=this;this.pauseWatch=!0,this.nowProvince="",this.nowCity="",this.nowArea="",this.nowTown="",this.itemProvince=null,this.itemCity=null,this.itemArea=null,this.itemTown=null,this.listCity=[],this.listArea=[],this.listTown=[],this.levelIndex=0,this.$nextTick(function(){e.pauseWatch=!1,e.changeValues()})},fetchCity:function(){var o=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=arguments[1];return new a.a(function(t){if("city"===r){var e=void 0;if(11e4===i&&(e="北京"),12e4===i&&(e="天津"),31e4===i&&(e="上海"),5e5===i&&(e="重庆"),81e4===i&&(e="香港"),82e4===i&&(e="澳门"),e)return t({code:i,data:[{key:i,value:e,id:i,name:e}]})}return Object(c.e)(i).then(function(e){return e.code=e.data.pid,e.data=e.data.regionQueryList,e.data=o.formatCity(e.data),t(e),e}).catch(function(e){console.log("err:",e),t({code:i,data:[]})})})},formatCity:function(e){return e.map(function(e){return e.key=e.id,e.value=e.name,e})}},beforeMount:function(){this.lang=d.a[this.i18n]},mounted:function(){var o=this;this.fetchCity().then(function(e){console.log("fetchCity::",e);var t=e.data.filter(function(e){return e});o.listProvince=o.ui?t.concat().sort(function(e,t){var o=e.value.length-t.value.length;return 0===o?Number(e.key)-Number(t.key):o}):t.concat(),o.className=o.$el.className,o.$el.className="v-region",o.selected&&o.selected.province&&(o.nowProvince=o.selected.province),o.ui&&(o.levelIndex=0)})}}},pMJc:function(e,t,o){"use strict";var i={render:function(){var o=this,e=o.$createElement,i=o._self._c||e;return i("el-container",{staticClass:"check_box"},[i("el-header",{key:o.viewKey,staticStyle:{height:"87px"}},[i("div"),o._v(" "),1===o.type?i("div",{staticClass:"top_content"},[i("h6",[o._v("系统体检：能帮助你在使用系统时检查哪些需要维护的数据，保证系统的完整性，帮您更好的使用系统。")]),o._v(" "),i("p",{staticClass:"top_ts"},[o._v("（上次检查还有"),i("span",{staticClass:"top_num"},[o._v(o._s(o.dataset.totals)+"项")]),o._v("基础数据未维护）")])]):2===o.type?i("div",{staticClass:"box_top"},[i("div",{staticClass:"top_content2"},[i("i",{staticClass:"wzlicon"}),o._v(" "),o.ischecked?o._e():i("h6",[o._v("初始化检查中"),i("el-button",{staticClass:"btn_qx",attrs:{type:"primary",plain:""},on:{click:function(e){o.doAction("check")}}},[o._v(o._s(o.cancelAni?"继续检查":"取消"))])],1),o._v(" "),o.ischecked?i("h6",[o._v("初始化检查已完成，有"),i("span",{staticClass:"top_num"},[o._v(o._s(o.dataset.totals))]),o._v("项基础功能没维护"),i("el-button",{staticClass:"btn_qx",attrs:{type:"primary",plain:""},on:{click:function(e){o.doAction("agane")}}},[o._v("重新检查")])],1):o._e(),o._v(" "),i("div",{staticClass:"top_ts",attrs:{id:"oTitle"}},[i("ul",[o.contTitleNull?i("li",[o._v(o._s(o.contTitle))]):o._e()])])]),o._v(" "),i("progressbar",{attrs:{cancelAni:o.cancelAni,isani:o.showani}})],1):i("div",{staticClass:"top_content"},[i("h6",[o._v("初始化检查已完成，有"+o._s(o.dataset.totals)+"项基础功能没维护")])])]),o._v(" "),i("el-main",[1===o.type?i("div",{staticClass:"main_checker"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){o.doAction("init")}}},[o._v("初始化检查")])],1):2===o.type?i("div",{staticClass:"main_checker2"},[i("h6",[o._v("公司管理")]),o._v(" "),i("div",{key:o.viewKey,staticClass:"company_content"},[i("ul",{class:{showani:o.showani,cancelAni:o.cancelAni},on:{animationend:function(e){o.ischecked=!0}}},[o._l(o.countList,function(t,e){return i("li",{key:e},[0<t.value?i("p",[i("i",{class:0<t.value?"el-icon-success ":""}),o._v(o._s(t.title)+": "+o._s(t.message?t.message+"，":"")+o._s(t.message2)+"\n              "),i("el-button",{staticClass:"btn_qx1",attrs:{type:"primary",plain:""},on:{click:function(e){o.doAction(t.label,t)}}},[o._v(o._s(t.button1))])],1):t.value<1&&"orgCount"===t.label&&o.iscompany?i("p",[i("i",{staticClass:"el-icon-warning"}),o._v(o._s(t.title)+"："+o._s(t.message1)+"。\n              "),i("el-button",{staticClass:"btn_qx",attrs:{type:"error",plain:""},on:{click:function(e){o.doAction(t.label,t)}}},[o._v(o._s(t.button2))])],1):t.value<1&&"orgCount"!==t.label?i("p",[i("i",{staticClass:"el-icon-warning"}),o._v(o._s(t.title)+"："+o._s(t.message1)+"。\n              "),i("el-button",{staticClass:"btn_qx",attrs:{type:"primary",plain:""},on:{click:function(e){o.doAction(t.label,t)}}},[o._v(o._s(t.button2))])],1):o._e()])}),o._v(" "),i("div",{staticClass:"btn_content"},[o.flog?i("p",[o._v("所有的基础数据已经维护好了，我们去开一张单吧！\n              "),i("el-button",{staticClass:"btn_kd",attrs:{type:"primary"},on:{click:function(e){o.doAction("order")}}},[o._v("开单")])],1):i("p",[i("el-button",{staticClass:"btn_h",attrs:{type:"primary"}},[o._v("开单")])],1)])],2)]),o._v(" "),o.addDoTotShow?i("NewOrg",{attrs:{orgid:o.otherinfo.orgid,companyId:o.otherinfo.companyId,isModify:!1,popVisible:o.addDoTotVisible,checkSystem:!0},on:{close:o.closeAddDot,success:function(e){o.fetchData("addOrg")}}}):o._e(),o._v(" "),o.addDoTotShow1?i("Newrole",{attrs:{orgid:o.otherinfo.orgid,createrId:o.otherinfo.id,companyId:o.otherinfo.companyId,isModify:!1,popVisible:o.addDoTotVisible1,checkSystem:!0},on:{"update:popVisible":function(e){o.addDoTotVisible1=e},close:o.closeAddDot,success:function(e){o.fetchData("addRole")}}}):o._e(),o._v(" "),o.addDoTotShow2?i("Newuser",{attrs:{orgid:o.otherinfo.orgid,companyId:o.otherinfo.companyId,isModify:!1,popVisible:o.addDoTotVisible2,checkSystem:!0},on:{"update:popVisible":function(e){o.addDoTotVisible2=e},success:function(e){o.fetchData("addUser")}}}):o._e(),o._v(" "),o.addDoTotShow3?i("AddCustomer",{attrs:{issender:!0,orgid:o.otherinfo.orgid,info:o.info,companyId:o.otherinfo.companyId,isModify:!1,popVisible:o.addDoTotVisible3,checkSystem:!0},on:{"update:popVisible":function(e){o.addDoTotVisible3=e},success:function(e){o.fetchData("addReciveCustomer")}}}):o._e(),o._v(" "),o.addDoTotShow4?i("AddCustomer",{attrs:{orgid:o.otherinfo.orgid,info:o.info,companyId:o.otherinfo.companyId,isModify:!1,popVisible:o.addDoTotVisible4,checkSystem:!0},on:{"update:popVisible":function(e){o.addDoTotVisible4=e},success:function(e){o.fetchData("addSendCustomer")}}}):o._e(),o._v(" "),o.addDoTotShow5?i("Newdriver",{attrs:{companyId:o.otherinfo.companyId,orgid:o.otherinfo.orgid,popVisible:o.addDoTotVisible5,checkSystem:!0},on:{"update:popVisible":function(e){o.addDoTotVisible5=e},success:function(e){o.fetchData("addDiver")}}}):o._e(),o._v(" "),o.addDoTotShow6?i("Newtruck",{attrs:{issender:!0,orgid:o.otherinfo.orgid,companyId:o.otherinfo.companyId,isModify:!1,popVisible:o.addDoTotVisible6,checkSystem:!0},on:{"update:popVisible":function(e){o.addDoTotVisible6=e},success:function(e){o.fetchData("addTruck")}}}):o._e(),o._v(" "),o.addDoTotShow7?i("Newcarrier",{attrs:{issender:!0,orgid:o.otherinfo.orgid,companyId:o.otherinfo.companyId,isModify:!1,popVisible:o.addDoTotVisible7,checkSystem:!0},on:{"update:popVisible":function(e){o.addDoTotVisible7=e},success:function(e){o.fetchData("addCarrier")}}}):o._e()],1):i("div",{staticClass:"main_checker"},[i("el-button",{attrs:{type:"primary"},on:{click:o.initSystem}},[o._v("初始化检查")])],1)])],1)},staticRenderFns:[]};t.a=i},qrpI:function(e,t,o){o("8sHD"),e.exports=o("FeBl").Number.parseInt},rAXf:function(e,t,o){"use strict";t.a={props:{isani:{type:Boolean,default:!1},cancelAni:{type:Boolean,default:!1}},components:{},computed:{},data:function(){return{}},methods:{}}},"s7/i":function(e,t,o){"use strict";var i=o("T8y6"),r=o("1onU"),a=o("mcg1");t.a={components:{Pager:r.a,vregion:a.a},props:{centerDialogVisible:{type:Boolean,default:!1},isMatreg:{type:Boolean,default:!1},isComreg:{type:Boolean,default:!1},selectInfo:{type:[Array,Object],default:function(){}},belongCity:{type:[Number,String]}},data:function(){return{popTitle:"",btnsize:"mini",sizes:[20,50,100],dataset:[],dataTotal:0,pagesize:20,page:1,totalCount:null,value:"",itemIndex:null,checked:!1,optionsclaimType:[],optionsComplainatusType:[],searchCreatTime:[],value3:!0,value4:!0,options:[{value:"首页",label:"首页"},{value:"物流专线栏目",label:"物流专线栏目"},{value:"专线详情页",label:"专线详情页"}],options1:[{value:"找物流专线",label:"找物流专线"},{value:"物流专线列表",label:"物流专线列表"},{value:"右侧专线列表",label:"右侧专线列表"},{value:"此路线其他专线",label:"此路线其他专线"}],form:{},rules:{recommendColumn:[{required:!0,message:"请选择推荐栏目"}],claimPic1:[{required:!0,message:"至少上传一张图片"}]},formAllData:{pageSize:100,currentPage:1,belongCityName:"",parkName:"",locationProvince:"",locationCity:"",locationArea:""}}},watch:{centerDialogVisible:{handler:function(e,t){this.$refs.ruleForm&&this.$refs.ruleForm.resetFields(),e&&(this.popTitle="选择所在园区",this.fetchInfo())},deep:!0}},computed:{isShow:{get:function(){return this.centerDialogVisible},set:function(){}}},methods:{regionChange:function(e){console.log("data:",e),this.formAllData.belongCityName=e.province||e.city||e.area||e.town?(""+this.getValue(e.province)+this.getValue(e.city)+this.getValue(e.area)+this.getValue(e.town)).trim():"",this.formAllData.locationProvince=e.province?e.province.name:"",this.formAllData.locationCity=e.city?e.city.name:"",this.formAllData.locationArea=e.area?e.area.name:"",console.log(e.province.name)},getValue:function(e){return e?e.value:""},selectList:function(e){this.$emit("success",e),this.$emit("close")},enter:function(e,t){this.itemIndex=t},leave:function(){},reset:function(){this.$refs.ruleForm.resetFields()},closeMe:function(e){this.$emit("close"),this.reset(),"function"==typeof e&&e()},handleSearch:function(e){switch(e){case"searchForm":this.fetchInfo();break;case"clearForm":this.formAllData={parkName:""},this.fetchInfo();break;case"add":this.isVisibleDialog=!0,this.isModify=!1,this.selectedInfo={}}},fetchInfo:function(){var t=this;return Object(i.i)(this.formAllData).then(function(e){e&&(t.dataset=e.list,t.dataTotal=e.total)}).catch(function(e){t._handlerCatchMsg(e)})},handlePageChange:function(e){this.formAllData.pageSize=e.pageSize,this.formAllData.currentPage=e.pageNum,this.fetchInfo()}}}},sNUZ:function(e,t){},ttFD:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("m59D"),r=o("ABFs");var a=function(e){o("LaJi")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},ttyY:function(e,t){},ubb7:function(e,t,o){"use strict";var i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addCarrierPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[o("template",{staticClass:"addCarrierPop-content",slot:"content"},[o("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":t.formLabelWidth,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"归属网点",prop:"orgid"}},[o("SelectTree",{attrs:{orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"承运商编码",prop:"carrierSn"}},[o("el-input",{attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.carrierSn,callback:function(e){t.$set(t.form,"carrierSn","string"==typeof e?e.trim():e)},expression:"form.carrierSn"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"承运商",prop:"carrierName"}},[o("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.carrierName,callback:function(e){t.$set(t.form,"carrierName","string"==typeof e?e.trim():e)},expression:"form.carrierName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"承运商电话",prop:"carrierMobile"}},[o("el-input",{attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.carrierMobile,callback:function(e){t.$set(t.form,"carrierMobile",e)},expression:"form.carrierMobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"负责人",prop:"liableName"}},[o("el-input",{attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.liableName,callback:function(e){t.$set(t.form,"liableName",e)},expression:"form.liableName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"负责人手机",prop:"liablePhone"}},[o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.liablePhone,callback:function(e){t.$set(t.form,"liablePhone",e)},expression:"form.liablePhone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"合同起始日",prop:"contractStarttime"}},[o("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","value-format":"timestamp","picker-options":t.pickOption},model:{value:t.form.contractStarttime,callback:function(e){t.$set(t.form,"contractStarttime",e)},expression:"form.contractStarttime"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"合同终止日",prop:"contractEndtime"}},[o("el-date-picker",{attrs:{align:"right",type:"date","picker-options":t.pickOption2,placeholder:"选择日期","value-format":"timestamp"},model:{value:t.form.contractEndtime,callback:function(e){t.$set(t.form,"contractEndtime",e)},expression:"form.contractEndtime"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客服电话",prop:"customerServicePhone"}},[o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.customerServicePhone,callback:function(e){t.$set(t.form,"customerServicePhone",e)},expression:"form.customerServicePhone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"地址",prop:"carrierAddr"}},[o("el-input",{attrs:{maxlength:50,"auto-complete":"off"},model:{value:t.form.carrierAddr,callback:function(e){t.$set(t.form,"carrierAddr","string"==typeof e?e.trim():e)},expression:"form.carrierAddr"}})],1),t._v(" "),o("el-form-item",{staticClass:"carrierRemarks",attrs:{label:"备注",prop:"carrierRemarks"}},[o("el-input",{attrs:{type:"textarea",maxlength:300},model:{value:t.form.carrierRemarks,callback:function(e){t.$set(t.form,"carrierRemarks",e)},expression:"form.carrierRemarks"}})],1)],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保 存")]),t._v(" "),o("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=i},voDd:function(e,t,o){"use strict";var i=o("woOf"),r=o.n(i),a=o("Dd8w"),s=o.n(a),n=o("E4LH"),l=o("QBRH"),c=o("9ani"),m=o("P5Di"),d=o("QbVN"),u=o("o9X6"),f=o("NYxO"),p=o("9UCZ");t.a={components:{popRight:m.a,Upload:d.a,SelectTree:u.a,SelectType:p.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},info:{type:Object,default:function(){}},truckTypes:{type:Array,default:function(){return[]}},truckSources:{type:Array,default:function(){return[]}}},computed:s()({},Object(f.mapGetters)(["otherinfo"])),data:function(){var t=this,e=function(i,r){return function(e,t,o){i<t?o(new Error(r)):o()}};return{form:{dirverMobile:"",driverId:"",orgid:"",truckBrand:"",truckHeight:"",truckIdNumber:"",truckLength:"",truckLoad:"",truckRegisterDate:"",truckRemarks:"",truckScrapDate:"",truckSource:"",truckType:"",truckUnit:"",truckUnitMobile:"",truckVolume:"",truckWidth:"",drivingLicense:"",operatingLicense:"",vehiclePic:"",frameNum:"",engineNum:""},formLabelWidth:"100px",tooltip:!1,rules:{truckIdNumber:[{required:!0,message:"请输入车牌号码",trigger:"blur"}],orgid:[{required:!0,message:"请选择所属机构"}],driverMobile:[{message:"请输入手机号码",trigger:"blur",pattern:n.a.MOBILE}],truckLoad:[{validator:e(1e5,"不能超过100000千克"),type:"number"}],truckVolume:[{validator:e(1e3,"体积不能超过1000方"),type:"number"}],truckLength:[{validator:e(100,"车长不能超过100米"),type:"number"}],truckHeight:[{validator:e(20,"车高不能超过20米"),type:"number"}],truckWidth:[{validator:e(10,"车宽不能超过10米"),type:"number"}]},popTitle:"新增车辆",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,cacheDriverList:{},DriverList:[],pickOption:{firstDayOfWeek:1,disabledDate:function(e){return!!t.form.truckScrapDate&&e.getTime()>t.form.truckScrapDate}},pickOption2:{firstDayOfWeek:1,disabledDate:function(e){return!!t.form.truckRegisterDate&&e.getTime()<t.form.truckRegisterDate}}}},mounted:function(){this.form.orgid=this.otherinfo.orgid,this.inited||(this.inited=!0,this.initInfo(),this.getDriverPhone()),this.isModify&&this.initPanel()},watch:{popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo(),this.getDriverPhone())},orgid:function(e,t){this.form.orgid=e},info:{handler:function(){this.initPanel()},deep:!0}},activated:function(){this.initDriverList()},methods:{initDriverList:function(){this.DriverList=this.$options.data().DriverList,this.cacheDriverList=[],this.getTreeOrgid(this.orgid)},getDriverPhone:function(t){var e=this.DriverList.filter(function(e){return e.id===t});e[0]&&(this.form.dirverMobile=e[0].driverMobile)},initPanel:function(){if(this.isModify){this.popTitle="修改车辆";var e=r()({},this.info);for(var t in this.form)this.form[t]=e[t];this.form.truckRegisterDate&&(this.form.truckRegisterDate=+new Date(this.form.truckRegisterDate)),this.form.truckScrapDate&&(this.form.truckScrapDate=+new Date(this.form.truckScrapDate)),this.form.truckId=e.truckId}else{for(var o in this.popTitle="新增车辆",this.form)this.form[o]=(this.form[o],"");delete this.form.truckId,this.form.orgid=this.orgid,this.form.truckSource=143}},getTreeOrgid:function(e){this.getDriverList(e)},initInfo:function(){this.loading=!1,this.getTreeOrgid(this.orgid)},getOrgid:function(e){this.form.orgid=e},submitForm:function(e,o){var i=this;this.$refs[e].validate(function(e){if(!e)return!1;i.loading=!0;var t=r()({},i.form);(i.isModify?Object(l.f)(t):Object(l.e)(t)).then(function(e){i.loading=!1,i.$message.success("保存成功"),i.reset(),o||i.closeMe(),i.$emit("success")}).catch(function(e){i._handlerCatchMsg(e),i.loading=!1})})},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),this.form.orgid=e,this.form.drivingLicense="",this.form.operatingLicense="",this.form.vehiclePic=""},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()},getDriverList:function(t){var o=this;this.cacheDriverList[t]?this.DriverList=this.cacheDriverList[t]:(this.loading=!0,Object(c.b)({currentPage:1,pageSize:200,vo:{orgid:t}}).then(function(e){o.DriverList=e.list,o.cacheDriverList[t]=e.list,o.loading=!1}).catch(function(e){o.loading=!1,o._handlerCatchMsg(e)}))}}}},vzGk:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACL0lEQVQ4T6WTP0xTURTGv3NuXxX0vSqDmxsxQQY1RjSR1nQwBgeNg4MSiS0kuuDgwkBMjEYGYkwMCybaAoZFF2EyBgdeUyQYXdT4Z/DPpMGl71GgvL57jymCsbQmJN7t3nPuL9937ncJ/7mo3v1jWT8ukEEAR9bqsyDucy/a7sb+aoAIxUe8exC0EasrJZJ3umSHjVZxP6DvgjCX+xa7jOtk1kFVgPasf5XEdBShzm+HHgD4J8hEBPxjObCHtkX95xCadNPO7bqARLbwucR8aKs2A2FEXZvpsufXGyu2QoN5RWbKTe/YXQNoH/X3sJbxgKJnLQnO6AiPq1DPgagBwkli6SiHMmEpeVwGn3uRcj5UIH8stI8UDrJBvxY1pEjvAkNE6DAJlsH4BCMrYPVdjO5losHpVOxlNWC8sJMCml0KnAMArMao3yGgfQxZEVl9jZJh7ldGP1wsx5KvLpFXBahsElnvmQCZ3wXpM+CnLOarAE0A7QUkXrFkjNOc76aFWsDYQouEZgqEIgShEE0abQ2HVrlohXYA9lsV0Eug4emUk6sBVA7io14bDJ4sBU5zo7VwPJd2Jv4OTyLjjQo4k0vb03UBq5CMdwdAIZeO3diYvHjWGyPi++uprBvlow/EZvLeUGRL0u1q+FKtoPAaEdXpdtnv/6lgbaAnAbkVanVhpsd+2/pIok1F7yYRnXJTsZa6SayRm/FPE5lOAU4AZEOQN0I9+W7n46YAm/npvwB8uekRXlNOoQAAAABJRU5ErkJggg=="},wO8r:function(e,t,o){"use strict";var i=o("mvHQ"),a=o.n(i),r=o("//Fk"),s=o.n(r),n=o("woOf"),l=o.n(n),c=o("Dd8w"),m=o.n(c),d=o("E4LH"),u=o("u8ra"),f=o("P5Di"),p=o("o9X6"),h=o("NYxO"),v=o("9UCZ"),b=o("pAQG");t.a={components:{popRight:f.a,SelectTree:p.a,SelectType:v.a,querySelect:b.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},userInfo:{type:Object,default:function(){}}},computed:m()({},Object(h.mapGetters)(["otherinfo"])),data:function(){return{querykey:"11",form:{name:"",mobilephone:"",username:"",password:"123456",position:"",sexFlag:"",orgid:"",rolesId:[],departmentId:""},formLabelWidth:"80px",tooltip:!1,rules:{name:[{required:!0,message:"请输入用户姓名"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"change"}],mobilephone:[{required:!0,trigger:"change",validator:function(e,t,o){""!==t&&null!==t&&t&&void 0!==t?d.a.MOBILE.test(t)?o():o(new Error("请输入有效的手机号码")):o(new Error("不能为空"))}}],orgid:[{required:!0,message:"请选择归属网点"}],username:[{required:!0,message:"请输入有效的登录账号",pattern:d.a.USERNAME_NOUP},{max:30,message:"不能超过30个字符",trigger:"change"}],position:[{max:10,message:"不能超过10个字符",trigger:"blur"}]},popTitle:"新增员工",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,query:"",roleslist:[]}},mounted:function(){this.form.orgid=this.orgid,console.log("orgid2222::::::",this.orgid)},watch:{popVisible:function(e,t){this.initInfo()},orgid:function(e){console.log("orgid::::::",e),this.form.orgid=e},userInfo:function(){var e=this;if(this.isModify){this.popTitle="修改员工";l()({},this.userInfo);for(var t in this.form)this.form[t]=this.userInfo[t];this.form.rolesId="0"===this.userInfo.rolesId?[]:this.userInfo.rolesIdList,this.form.password=""}else{for(var o in this.popTitle="新增员工",this.form)this.form[o]="password"===o?"123456":"rolesId"===o?[]:"";this.$nextTick(function(){console.log("orgid333333",e.orgid),e.form.orgid=e.orgid})}},"form.username":function(e){e&&this.$refs.ruleForm.validate(function(e){})},"form.password":function(e){e&&this.$refs.ruleForm.validate(function(e){})}},methods:{highLight:function(e,t){return""!==this.query?this.setHightLight(e[t],this.query):e[t]},setHightLight:function(e,t){return e.replace(new RegExp(t,"igm"),'<i class="highlight">'+t+"</i>")},makefilter:function(e){this.query=e;var t=new RegExp(e,"i");this.roleslist=this.roles.filter(function(e){return t.test(e.roleName)})},initInfo:function(){var t=this;return this.loading=!0,s.a.all([Object(u.e)(this.otherinfo.companyId),Object(u.f)(this.otherinfo.companyId)]).then(function(e){t.loading=!1,t.roles=e[0].list,t.roleslist=t.roles,t.departments=e[1]}).catch(function(e){t.$message.error("错误1："+(e.text||e.errInfo||e.data||a()(e))),t.loading=!1,t.inited=!1})},getOrgid:function(e){this.form.orgid=e},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),console.log("id",e,this.form.orgid),this.form.orgid=e},submitForm:function(e,i){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.loading=!0;var t=l()({},r.form),o=void 0;t.rolesId=t.rolesId.join(","),r.isModify?(t.id=r.userInfo.id,o=Object(u.k)(t)):o=Object(u.j)(t),o.then(function(e){r.loading=!1,r.$message({type:"success",message:"保存成功!"}),r.reset(),i||r.closeMe(),r.$emit("success")}).catch(function(e){r.$message.error("错误2："+(e.text||e.errInfo||e.data||a()(e))),r.loading=!1})})},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},whtI:function(e,t){},xbwg:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("XCyX"),r=o("f/K7");var a=function(e){o("0Qo4")},s=o("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},xoQy:function(e,t,o){"use strict";t.a={name:"v-dropdown",props:{position:{type:String,default:"left"}},data:function(){return{show:!1,styleSheet:{top:"",left:""}}},watch:{},methods:{visible:function(e,t){if("boolean"==typeof e){this.show=e;var o=this;this.$nextTick(function(){o.show&&o.adjust(t)})}},adjust:function(e){var t=e.getBoundingClientRect(),o=0,i=0,r=this.$el.getBoundingClientRect(),a=window.scrollY,s=document.body.clientHeight;if(this.rightClick){var n=this.y;this.y+r.height>a+s&&(n=this.y-r.height),i=this.x,o=n}else switch(o=t.top+t.height+5+a,this.position){case"left":i=t.left;break;case"center":i=t.left+t.width/2-r.width/2;break;case"right":i=t.left+t.width-r.width}this.styleSheet.top=o+"px",this.styleSheet.left=i+"px"},whole:function(e){this.show&&(-1===e.path.findIndex(function(e){return e.className&&e.className.includes("v-dropdown-container")})&&(this.show=!1,this.$emit("hidedropdown",!0)))}},mounted:function(){this.$on("show",this.visible),document.addEventListener("mousedown",this.whole)},destroyed:function(){this.$off("show",this.visible),document.removeEventListener("mousedown",this.whole)}}},z6yh:function(e,t){}});