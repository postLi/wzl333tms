webpackJsonp([193],{"/n+A":function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popRight-center",class:{showPopRight:t.isShow},style:{zIndex:t.zIndex}},[n("div",{staticClass:"popRight-header"},[t._t("title",[t._v(t._s(t.title))]),t._v(" "),n("i",{staticClass:"el-icon-close",attrs:{title:"关闭"},on:{click:t.close}})],2),t._v(" "),t.shouldRender?n("div",{staticClass:"popRight-content"},[t._t("content",[t._v("内容")])],2):t._e(),t._v(" "),n("div",{staticClass:"popRight-footer"},[t._t("footer",[t._v("底部")])],2)])},staticRenderFns:[]};e.a=i},"3EPC":function(t,e,n){"use strict";var i=n("qYK6"),s=n("/n+A");var o=function(t){n("f3wf")},a=n("VU/8")(i.a,s.a,o,null,null);e.a=a.exports},Llvd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("romu"),s=n("t0LO");var o=function(t){n("SSoI")},a=n("VU/8")(i.a,s.a,o,null,null);e.default=a.exports},SSoI:function(t,e){},ayAl:function(t,e,n){"use strict";e.n=function(t){return i.b.post("/api-order/order/load/v1/selectLoadMainInfoList",t).then(function(t){return t.data||{}})},e.q=function(t,e,n){return i.b.put("/api-order/order/load/v1/loadDepart?loadIds="+t+"&loadTypeId="+e+"&actualSendtime="+n)},e.p=function(t,e){return i.b.put("/api-order/order/load/v1/cancelLoadTruck?loadIds="+t+"&loadTypeId="+e)},e.o=function(t,e){return i.b.put("/api-order/order/load/v1/cancelLoadDepart/?loadIds="+t+"&loadTypeId="+e)},e.h=function(t){return i.b.get("/api-order/order/load/v1/contract/"+t)},e.d=function(t){return i.b.put("/api-order/order/load/v1/contract",t)},e.g=function(t){return i.b.get("/api-order/aitransport/tmsstandardcar/v1/",t).then(function(t){return t.data})},e.f=function(t){return i.b.post("/api-order/aitransport/intelligen/v1/init",t).then(function(t){return t.data})},e.j=function(t){return i.b.post("/api-order/order/load/v1/smartLoad",t)},e.e=function(t,e){return i.b.get("/api-order/aitransport/pzcarinfotms/v1/getCarInfo/?orgid="+t+"&sign="+e).then(function(t){return t.data})},e.l=function(t){return i.b.post("/api-order/aitransport/pzcarinfotms/v1/",t)},e.r=function(t){return i.b.put("/api-order/aitransport/pzcarinfotms/v1/",t)},e.a=function(t){return i.b.delete("/api-order/aitransport/pzcarinfotms/v1/"+t)},e.k=function(t){return i.b.post("/api-order/aitransport/tmssmartloadscheme/v1/loadSchemeList/",t).then(function(t){return t.data})},e.s=function(t){return i.b.put("/api-order/aitransport/tmssmartloadscheme/v1/updateScheme/",t).then(function(t){return t.data})},e.b=function(t){return i.b.delete("/api-order/aitransport/tmssmartloadscheme/v1/deleteScheme/?schemeGroup="+t.schemeGroup+"&orgid="+t.orgid).then(function(t){return t.data})},e.c=function(t){return i.b.delete("/api-order/aitransport/tmssmartloadscheme/v1/deleteSchemeById/?schemeId="+t.schemeId).then(function(t){return t.data})},e.m=function(t){return i.b.post("/api-order/aitransport/tmssmartloadscheme/v1/saveScheme/",t).then(function(t){return t.data})},e.t=function(t){return i.b.get("/api-order/aitransport/tmssmartloadscheme/v1/selectSchemeGroupDetail?schemeGroup="+t.schemeGroup+"&orgid="+t.orgid).then(function(t){return t.data})},e.i=function(t){return i.b.get("/api-order/aitransport/tmssmartloadscheme/v1/getRepertoryInfo?arriveOrgid="+t).then(function(t){return t.data})};var i=n("Vo7i")},f3wf:function(t,e){},qYK6:function(t,e,n){"use strict";e.a={props:{width:{type:String,default:"400"},title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1}},watch:{isShow:{handler:function(){this.isShow&&(this.shouldRender=!0)},immediate:!0}},data:function(){return{zIndex:(window.tmsPopZindex?window.tmsPopZindex+=1:window.tmsPopZindex=1e3,window.tmsPopZindex),shouldRender:!1}},methods:{close:function(){this.$emit("close")}}}},romu:function(t,e,n){"use strict";var i=n("woOf"),s=n.n(i),o=n("Dd8w"),a=n.n(o),r=(n("E4LH"),n("3EPC")),c=n("pAQG"),l=n("ayAl"),d=n("o9X6"),u=n("NYxO");e.a={components:{PopFrame:r.a,querySelect:c.a,SelectTree:d.a},props:{popVisible:{type:Boolean,default:!1},isDepMain:{type:Boolean,default:!1},dotInfo:{type:[Object,Boolean],default:!1},createrId:[Number,String],selectTruck:{type:[Array,Object],default:function(){}}},data:function(){return{activeName:"first",isSecond:!1,selectdCheck:!0,btnsize:"mini",selected:[],selectedSys:[],rules:{},formLabelWidth:"100",usersArr:[{num:10,date:"车型"},{num:10,date:"车型"},{num:10,date:"车型"},{num:10,date:"车型"}],checked1:!0,popTitle:"参数设置",loading:!1,isEditSuccess:0,formInline:{},infoGetSystemList:{sign:1,orgid:""},infoGetDefinedList:{sign:2,orgid:""},systemList:[],definedList:[]}},computed:a()({},Object(u.b)(["otherinfo"]),{isShow:{get:function(){return this.popVisible},set:function(){}}}),watch:{dotInfo:function(t){},popVisible:function(t){this.infoGetSystemList.orgid=this.otherinfo.orgid,this.infoGetDefinedList.orgid=this.otherinfo.orgid,this.fetchGetIntnteCarInfo(),this.fetchGetIntnteCarDefinedInfo()},selectTruck:{handler:function(t){}}},mounted:function(){this.popVisible},methods:{doAction:function(t){switch(t){case"addCar":this.addTruck();break;case"subCar":this.subTruck()}},addTruck:function(){var e=this;if(this.definedList&&4<this.definedList.length)this.$message({message:"自定义车型不能超过5种~",type:"warning"});else{Object(l.l)({name:"自定义车型",weight:8e3,vol:25}).then(function(t){e.fetchData(),e.$message.success("添加车型成功！")}).catch(function(t){e._handlerCatchMsg(t)})}},subTruck:function(){var e=this;1!==this.selected.length?this.$message({message:"请选择一项来进行操作",type:"warning"}):this.selected[0].cid?Object(l.a)(this.selected[0].cid).then(function(t){e.loading=!1,e.$message({message:"删除成功~",type:"success"}),e.fetchData()}):this.definedList=this.definedList.filter(function(t){return-1===e.selected.indexOf(t)})},fetchGetIntnteCarInfo:function(){var e=this;return this.loading=!0,Object(l.e)(this.infoGetSystemList.orgid,this.infoGetSystemList.sign).then(function(t){e.systemList=t,e.loading=!1})},fetchGetIntnteCarDefinedInfo:function(){var e=this;return this.loading=!0,Object(l.e)(this.infoGetDefinedList.orgid,this.infoGetDefinedList.sign).then(function(t){e.definedList=t,e.loading=!1})},changeFright:function(t,e,n){this.definedList[t][e]=Number(n),"name"===e?""!==this.definedList[t][e]&&void 0!==this.definedList[t][e]||this.$notify({title:"提示",message:"车型名不能为空",type:"warning"}):0===this.definedList[t][e]&&(this.$notify({title:"提示",message:"承载方和承载重不能为0",type:"warning"}),this.definedList[t][e]=1)},fetchData:function(){this.fetchGetIntnteCarDefinedInfo()},closeMe:function(t){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof t&&t()},reset:function(){this.formInline=s()({},this.formInline),this.formInline.shipSn="",this.formInline.shipGoodsSn="",this.formInline.pickupFee=""},submitForm:function(){var e=this,n=0;this.selectedSys&&0<this.selectedSys.length?(this.$emit("savaParamTruck",this.selectedSys),this.$message.success("参数设置成功！"),this.closeMe()):this.selected&&0<this.selected.length&&(console.log("selected",this.selected),this.selected.forEach(function(t){0!==t.weight&&0!==t.vol||n++,t&&t.cid&&Object(l.r)(t).then(function(t){}).catch(function(t){e._handlerCatchMsg(t)})}),0<n?this.$notify({title:"提示",message:"承载方和承载重不能为0",type:"warning"}):(this.closeMe(),this.$notify.success({title:"成功",message:"保存修改车型操作成功"}),this.$emit("savaParamTruck",this.selected)))},putPzcarinfotms:function(t){var e=this;Object(l.r)(t).then(function(t){}).catch(function(t){e.isEditSuccess++,e._handlerCatchMsg(t)})},handleCurChangeSystem:function(t){this.selectedSys=[],this.selected=[],this.selectedSys.push(t),console.log("system",t,this.selected)},handleCurChangeDefined:function(t){this.selected=[],this.selectedSys=[],this.selected.push(t),console.log("defined",t,this.selected)},clickDetail:function(t,e,n){var i=this;this.systemList.forEach(function(t){i.$set(t,"isSelect",!1)}),this.$refs.multipleTable1.setCurrentRow(t),this.$set(t,"isSelect",!0)},clickDetails:function(t,e,n){var i=this;this.definedList.forEach(function(t){i.$set(t,"isSelect",!1),t.selectdCheck=!0}),this.$refs.multipleTable.setCurrentRow(t),this.$set(t,"isSelect",!0),this.$set(t,"selectdCheck",!1)},handleClick:function(t,e){"second"===this.activeName?this.isSecond=!0:this.isSecond=!1}}}},t0LO:function(t,e,n){"use strict";var i={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"lntelligentPset-maintain"},[i("el-dialog",{staticClass:"pickpopDepMain",attrs:{icon:"el-icon-edit-outline",title:n.popTitle,isShow:n.popVisible,"close-on-click-modal":!1,"before-close":n.closeMe,visible:n.isShow},on:{"update:visible":function(t){n.isShow=t}}},[i("div",{staticClass:"depmain-div"},[n.isSecond?i("div",{staticClass:"carDiv"},[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(t){n.doAction("addCar")}}}),n._v(" "),i("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){n.doAction("subCar")}}})],1):n._e(),n._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"tabsDiv"},[i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":n.handleClick},model:{value:n.activeName,callback:function(t){n.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{name:"first"}},[i("span",{attrs:{slot:"label"},slot:"label"},[n._v(" 系统车型")]),n._v(" "),i("el-table",{ref:"multipleTable1",staticClass:"tableIntelligent",staticStyle:{width:"450px"},attrs:{data:n.systemList,stripe:"",border:"",height:"181","tooltip-effect":"dark","highlight-current-row":""},on:{"row-click":n.clickDetail,"current-change":n.handleCurChangeSystem}},[i("el-table-column",{attrs:{width:"50"},scopedSlots:n._u([{key:"default",fn:function(t){return[t.row.isSelect?i("i",{staticClass:"el-icon-success",staticStyle:{color:"#67C23A"}}):n._e()]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"name",label:"车型"}}),n._v(" "),i("el-table-column",{attrs:{prop:"weight",width:"120",label:"承载重(千克)"}}),n._v(" "),i("el-table-column",{attrs:{prop:"vol",width:"100",label:"承载方(方)"}})],1)],1),n._v(" "),i("el-tab-pane",{attrs:{label:"自定义车型",name:"second"}},[i("div",{staticClass:"tableIntelligentPSet"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"450px"},attrs:{data:n.definedList,stripe:"",border:"",height:"206","highlight-current-row":"","tooltip-effect":"dark"},on:{"row-click":n.clickDetails,"current-change":n.handleCurChangeDefined}},[i("el-table-column",{attrs:{width:"50"},scopedSlots:n._u([{key:"default",fn:function(t){return[t.row.isSelect?i("i",{staticClass:"el-icon-success",staticStyle:{color:"#67C23A"}}):n._e()]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"name",label:"车型"},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"车型",size:n.btnsize,disabled:e.row.selectdCheck,maxlength:8},on:{change:function(t){return n.changeFright(e.$index,"name",t)}},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault()}},model:{value:e.row.name,callback:function(t){n.$set(e.row,"name",n._n(t))},expression:"scope.row.name"}},[i("template",{slot:"append"},[n._v("米")])],2)]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"weight",width:"120",label:"承载重(千克)"},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"承载重",size:n.btnsize,disabled:e.row.selectdCheck,maxlength:8},on:{change:function(t){return n.changeFright(e.$index,"weight",t)}},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault()}},model:{value:e.row.weight,callback:function(t){n.$set(e.row,"weight",n._n(t))},expression:"scope.row.weight"}})]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"vol",width:"100",label:"承载方(方)"},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"承载方",size:n.btnsize,disabled:e.row.selectdCheck,maxlength:8},on:{change:function(t){return n.changeFright(e.$index,"vol",t)}},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault()}},model:{value:e.row.vol,callback:function(t){n.$set(e.row,"vol",n._n(t))},expression:"scope.row.vol"}})]}}])})],1)],1)])],1)],1),n._v(" "),i("p",[n._v("注：请填写车费，保证单车毛利的准确性。")])]),n._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){n.submitForm("formName")}}},[n._v("确 定")]),n._v(" "),i("el-button",{on:{click:n.closeMe}},[n._v("取 消")])],1)])],1)},staticRenderFns:[]};e.a=i}});