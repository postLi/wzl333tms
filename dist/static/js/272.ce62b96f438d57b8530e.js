webpackJsonp([272],{"9U9j":function(e,t,i){"use strict";var a={render:function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:i.loading,expression:"loading"}],staticClass:"feePopSetup",attrs:{title:"费用设置",visible:i.dialogVisible,"custom-class":"feeSetupDialog","close-on-click-modal":!1,"modal-append-to-body":!1,width:"300px","before-close":i.close},on:{open:i.getFeeSetup}},[a("div",{staticClass:"setup-info-fee"},[a("div",{staticClass:"searchinput"},[a("el-input",{attrs:{placeholder:"搜索",size:"mini","suffix-icon":"el-icon-search",clearable:""},model:{value:i.query,callback:function(e){i.query=e},expression:"query"}})],1),i._v(" "),a("draggable",{directives:[{name:"show",rawName:"v-show",value:!i.query,expression:"!!!query"}],staticClass:"dragArea",attrs:{move:i.canDragStart,list:i.feeData,options:i.sortOption}},i._l(i.feeData,function(t){return a("div",{key:t.id,staticClass:"list-complete-item"},[a("el-checkbox",{attrs:{"true-label":1,"false-label":0,title:t.fieldName},model:{value:t.ischeck,callback:function(e){i.$set(t,"ischeck",e)},expression:"element.ischeck"}},[i._v(i._s(t.fieldName))]),i._v(" "),a("span",{staticClass:"switch-box"},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"定"},model:{value:t.isfixed,callback:function(e){i.$set(t,"isfixed",e)},expression:"element.isfixed"}})],1)],1)})),i._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!!i.query,expression:"!!query"}],staticClass:"searchlist"},i._l(i.searchList,function(t){return a("div",{key:t.id,staticClass:"list-complete-item"},[a("el-checkbox",{attrs:{title:t.fieldName,"true-label":1,"false-label":0},model:{value:t.ischeck,callback:function(e){i.$set(t,"ischeck",e)},expression:"element.ischeck"}},[i._v(i._s(t.fieldName))]),i._v(" "),a("span",{staticClass:"switch-box"},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"定"},model:{value:t.isfixed,callback:function(e){i.$set(t,"isfixed",e)},expression:"element.isfixed"}})],1)],1)}))],1),i._v(" "),a("div",{staticClass:"tip-info"},[i._v("拖拽，可调整上下顺序。")]),i._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:i.close}},[i._v("取 消")]),i._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:i.submitFeeSetup}},[i._v("确 定")])],1)])},staticRenderFns:[]};t.a=a},"LPN+":function(e,t){},aIGe:function(e,t,i){"use strict";var a=i("OHys"),s=i("DAYN"),n=i.n(s);t.a={components:{draggable:n.a},props:{dialogVisible:{type:Boolean,default:!1}},computed:{searchList:function(){var t=this;return this.query?this.feeData.filter(function(e){return-1!==e.name.indexOf(t.query)}):[]}},data:function(){return{feeData:[],query:"",loading:!1,sortOption:{group:"item",sort:!0,dataIdAttr:""}}},methods:{close:function(e){this.$emit("update:dialogVisible",!1),this.$emit("close"),"function"==typeof e&&e()},getFeeSetup:function(){var t=this;return this.loading=!0,a.a.getCargoSetting(this.otherinfo.orgid).then(function(e){e.sort(function(e,t){return e.fieldOrder<t.fieldOrder?-1:1}),t.feeData=e,t.loading=!1})},submitFeeSetup:function(){var t=this;return this.loading=!0,this.feeData=this.feeData.map(function(e,t){return e.fieldOrder=t+1,e}),a.a.putCargoSetting(this.feeData).then(function(e){t.loading=!1,200===e.status&&(t.$message.info("修改成功！"),t.close())})},canDragStart:function(e){return!e.draggedContext.element.isfixed}}}},eRtJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("aIGe"),s=i("9U9j");var n=function(e){i("LPN+")},l=i("VU/8")(a.a,s.a,n,null,null);t.default=l.exports}});
//# sourceMappingURL=272.ce62b96f438d57b8530e.js.map