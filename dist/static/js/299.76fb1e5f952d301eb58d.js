webpackJsonp([299],{Mi2T:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("rX3k"),i=r("ukZM"),n=r("VU/8")(a.a,i.a,null,null,null);t.default=n.exports},rX3k:function(e,t,r){"use strict";var a=r("woOf"),i=r.n(a),n=(r("E4LH"),r("o9X6")),s=r("9UCZ"),o=r("pAQG"),c=r("0xDb");t.a={components:{SelectTree:n.a,selectBatchType:s.a,querySelect:o.a},props:{btnsize:{type:String,default:"mini"},orgid:{type:Number}},data:function(){var e=this;return{searchTime:[Object(c.parseTime)(new Date-5184e6),Object(c.parseTime)(new Date)],searchForm:{orgid:"",loadTypeId:38,arriveOrgid:e.orgid,batchTypeId:46,dirverName:"",truckIdNumber:""},rules:{},defaultTime:[Object(c.parseTime)(new Date-5184e6),Object(c.parseTime)(new Date)],pickerOptions2:{shortcuts:c.pickerOptions2}}},mounted:function(){this.onSubmit()},methods:{onSubmit:function(){this.searchTime&&(this.$set(this.searchForm,"beginTime",Object(c.parseTime)(this.searchTime[0],"{y}-{m}-{d} ")+"00:00:00"),this.$set(this.searchForm,"endTime",Object(c.parseTime)(this.searchTime[1],"{y}-{m}-{d} ")+"23:59:59")),this.$emit("change",this.searchForm)},filterfn:function(e){return 47!==e.id},clearForm:function(e){this.$refs[e].resetFields(),this.searchForm=i()({},this.$options.data().searchForm),this.searchTime=this.$options.data().searchTime,this.searchForm.arriveOrgid=this.orgid,void 0===this.searchForm.batchTypeId&&(this.searchForm.batchTypeId=46)}}}},ukZM:function(e,t,r){"use strict";var a={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{ref:"searchForm",staticClass:"staff_searchinfo clearfix",attrs:{inline:!0,size:t.btnsize,"label-position":"right",rules:t.rules,model:t.searchForm,"label-width":"70px"}},[r("div",{staticClass:"staff_searchinfo--input"},[r("el-form-item",{attrs:{label:"短驳时间"}},[r("el-date-picker",{attrs:{"default-value":t.defaultTime,type:"daterange",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","picker-options":t.pickerOptions2,"end-placeholder":"结束日期"},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"批次状态",prop:"batchTypeId"}},[r("selectBatchType",{attrs:{type:"short_batch_type",clearable:"",filterable:!1,filterfn:t.filterfn},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.batchTypeId,callback:function(e){t.$set(t.searchForm,"batchTypeId",e)},expression:"searchForm.batchTypeId"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"发车批次",prop:"batchNo"}},[r("el-input",{attrs:{maxlength:15,"auto-complete":"off",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.batchNo,callback:function(e){t.$set(t.searchForm,"batchNo",e)},expression:"searchForm.batchNo"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"车牌号"}},[r("querySelect",{attrs:{search:"truckIdNumber",remote:!0,maxlength:8,valuekey:"truckIdNumber",type:"trunk",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.truckIdNumber,callback:function(e){t.$set(t.searchForm,"truckIdNumber",e)},expression:"searchForm.truckIdNumber"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"司机名称"}},[r("querySelect",{attrs:{search:"driverName",type:"driver",maxlength:10,valuekey:"driverName",label:"driverName",remote:!0,clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.dirverName,callback:function(e){t.$set(t.searchForm,"dirverName",e)},expression:"searchForm.dirverName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"发车网点"}},[r("SelectTree",{attrs:{clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.orgid,callback:function(e){t.$set(t.searchForm,"orgid",e)},expression:"searchForm.orgid"}},[r("el-option",{attrs:{slot:"head",label:"全部",value:""},slot:"head"})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"到车网点"}},[r("SelectTree",{attrs:{clearable:"",orgid:t.otherinfo.orgid},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.arriveOrgid,callback:function(e){t.$set(t.searchForm,"arriveOrgid",e)},expression:"searchForm.arriveOrgid"}})],1)],1),t._v(" "),r("el-form-item",{staticClass:"staff_searchinfo--btn"},[r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),r("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){t.clearForm("searchForm")}}},[t._v("清空")])],1)],1)},staticRenderFns:[]};t.a=a}});