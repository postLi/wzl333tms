webpackJsonp([69,227,311,313],{"/n+A":function(e,t,o){"use strict";var i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"popRight-center",class:{showPopRight:e.isShow},style:{zIndex:e.zIndex}},[o("div",{staticClass:"popRight-header"},[e._t("title",[e._v(e._s(e.title))]),e._v(" "),o("i",{staticClass:"el-icon-close",attrs:{title:"关闭"},on:{click:e.close}})],2),e._v(" "),e.shouldRender?o("div",{staticClass:"popRight-content"},[e._t("content",[e._v("内容")])],2):e._e(),e._v(" "),o("div",{staticClass:"popRight-footer"},[e._t("footer",[e._v("底部")])],2)])},staticRenderFns:[]};t.a=i},"01I6":function(e,t,o){"use strict";var i=o("Dd8w"),a=o.n(i),s=o("DAQk"),r=o("ttFD"),l=o("Ka9r"),n=o("T8y6"),d=o("u8ra"),c=o("NYxO"),m=o("1onU"),f=o("TIfe"),u=o("0xDb");t.a={name:"groupManage",components:{AddDot:r.default,AddPeople:s.default,Pager:m.a,DepMaintain:l.default},computed:a()({},Object(c.b)(["otherinfo"]),{getDataTree:function(){return this.checkedInput?this.dataTreeFn(Object(u.objectMerge2)([],this.dataTree)):this.dataTree}}),data:function(){return{checkedInput:!1,getCheckedKeyId:"",btnsize:"mini",loading:!0,addDoTotVisible:!1,addPeopleVisible:!1,addDepMaintainisible:!1,hiddenDep:!1,isDepMain:!1,usersArr:[],total:0,orgName:"",isModify:!1,ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px",selected:[],dataTree:[],defaultProps:{children:"children",label:"name"},getOrgId:"",form:{orgName:"",orgTypeName:"",status:32,responsibleTelephone:"",responsibleName:"",city:"",serviceName:"",parentName:"",servicePhone:"",detailedAddr:"",networkCode:"",collectionFee:"",benchmark:"",warningQuota:"",lockMachineQuota:"",manageType:3,remarks:"",accountStatus:"0",parentId:0},orgInfoCache:{},userinfo:{},pageSize:"",pageNum:"",getform:{}}},mounted:function(){this.loading=!0,this.fetchOrg(),this.userinfo=Object(f.c)(),this.userinfo.companyId===this.userinfo.orgid&&(this.hiddenDep=!0)},methods:{dataTreeFn:function(e){var o=this;return e.filter(function(e,t){return 31!==e.status&&(e.children&&(e.children=o.dataTreeFn(e.children)),!0)})},updateSuccess:function(e){var t=this;this.fetchOrg(this.getOrgId),e&&this.getOrgInfo(this.getOrgId).then(function(e){t.getOrgId===t.otherinfo.orgid&&(t.userinfo.companyInfo=e||t.userinfo.companyInfo,t.$store.commit("SET_OTHERINFO",t.userinfo),Object(f.m)(t.userinfo))})},fetchOrg:function(){var t=this;this.loading=!0,Object(d.h)(this.otherinfo.orgid).then(function(e){t.dataTree=e,t.fetchOrgId(t.dataTree[0].id),t.loading=!1}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},handleOrgInfo:function(e){this.form=e,this.getform=Object(u.objectMerge2)({},this.form)},fetchOrgId:function(e){this.loading=!0,this.getOrgId=parseInt(e,10),this.fetchAllUsers(e),this.orgInfoCache[e]?(this.handleOrgInfo(this.orgInfoCache[e]),this.loading=!1):(this.loading=!0,this.getOrgInfo(e)),this.loading=!1},getOrgInfo:function(t){var o=this;return this.loading=!0,Object(n.e)(t).then(function(e){return o.orgInfoCache[t]=e.data,o.handleOrgInfo(e.data),o.loading=!1,e.data})},fetchAllUsers:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=this,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1;this.loading=!0,Object(d.d)(e,t,o,a,s).then(function(e){i.usersArr=e.list,i.total=e.total,i.loading=!1})},seleClick:function(e){this.selected=e},doAction:function(e){var t=this;if(!this.selected.length&&"deletePeople"===e)return this.$message({message:"请选择要操作的员工~",type:"warning"}),!1;switch(e){case"addPeople":this.addPeopleVisible=!0,this.addDoTotVisible=!1,this.addDepMaintainisible=!1,this.isModify=!1,this.isDepMain=!1;break;case"addNot":this.isModify=!1,this.isDepMain=!1,this.addDoTotVisible=!0,this.addPeopleVisible=!1,this.addDepMaintainisible=!1;break;case"modifyNot":this.isModify=!0,this.isDepMain=!1,this.addDoTotVisible=!0;break;case"depMain":this.isModify=!1,this.isDepMain=!0,this.addDepMaintainisible=!0,this.addDoTotVisible=!1,this.addPeopleVisible=!1;break;case"deletePeople":this.addDepMaintainisible=!1,this.addDoTotVisible=!1,this.addPeopleVisible=!1;var o=1<this.selected.length?this.selected.length+"名":this.selected[0].name,i="";this.selected.map(function(e){i+=e.id+","}),i=i.slice(0,i.length-1),this.$confirm("确定要删除 "+o+" 员工吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,Object(d.a)(i).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.fetchOrgId(t.getOrgId),t.loading=!1})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}this.$refs.multipleTable.clearSelection()},filterTag:function(e,t){return t.tag===e},getCheckedKeys:function(){this.loading=!0,this.getCheckedKeyId=this.$refs.tree._data.currentNode.node.data.id,this.fetchOrgId(this.$refs.tree._data.currentNode.node.data.id),this.addDoTotVisible=!1,this.loading=!1},closeAddDot:function(){this.addDoTotVisible=!1},closeAddPeople:function(){this.addPeopleVisible=!1},closeDep:function(){this.addDepMaintainisible=!1},handlePageChange:function(e){this.fetchAllUsers(this.getOrgId,"","",e.pageSize,e.pageNum)},doLayout:function(){this.$refs.multipleTable.doLayout()},clickDetails:function(e,t,o){this.$refs.multipleTable.toggleRowSelection(e)}}}},"3EPC":function(e,t,o){"use strict";var i=o("qYK6"),a=o("/n+A");var s=function(e){o("f3wf")},r=o("VU/8")(i.a,a.a,s,null,null);t.a=r.exports},ABFs:function(e,t,o){"use strict";var i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"add-dot"},[o("pop-right",{staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[o("template",{staticClass:"addEmployeerPop-content",slot:"content"},[t.companyId===t.form.id?o("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"公司名称","label-width":t.formLabelWidth,prop:"orgName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:t.companyId===t.form.id||31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网点类型","label-width":t.formLabelWidth}},[o("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.companyId===t.form.id||31===t.form.status},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"公司状态","label-width":t.formLabelWidth,disabled:"disabled"}},[o("el-select",{attrs:{disabled:!(!t.isModify&&t.companyId===t.form.id||31===t.form.status)},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[o("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),o("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"公司代码","label-width":t.formLabelWidth,prop:"networkCode"}},[o("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status||t.companyId===t.form.id,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[o("el-input",{attrs:{"auto-complete":"off",maxlength:11,disabled:31===t.form.status},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所在城市","label-width":t.formLabelWidth,prop:"city"}},[o("querySelect",{attrs:{filterable:"",show:"select",search:"longAddr",valuekey:"longAddr",disabled:t.companyId===t.form.id||31===t.form.status,type:"city",remote:!0,clearable:""},on:{change:t.getCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:50},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1)],1):o("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"网点名称","label-width":t.formLabelWidth,prop:"orgName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网点类型","label-width":t.formLabelWidth}},[o("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.isModify},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网点状态","label-width":t.formLabelWidth,disabled:"disabled"}},[o("el-select",{attrs:{disabled:!t.isModify},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[o("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),o("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"上级网点","label-width":t.formLabelWidth}},[o("SelectTree",{attrs:{disabled:t.isModify||31===t.form.status,orgid:t.form.parentId||t.otherinfo.orgid},on:{change:t.canadd},model:{value:t.form.parentId,callback:function(e){t.$set(t.form,"parentId",e)},expression:"form.parentId"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"经营类型","label-width":t.formLabelWidth}},[o("el-select",{attrs:{disabled:31===t.form.status},model:{value:t.form.manageType,callback:function(e){t.$set(t.form,"manageType",e)},expression:"form.manageType"}},[o("el-option",{attrs:{label:"自营",value:3}}),t._v(" "),o("el-option",{attrs:{label:"加盟",value:4}})],1)],1),t._v(" "),t.isModify?o("el-form-item",{attrs:{label:"创建时间","label-width":t.formLabelWidth}},[o("el-input",{attrs:{value:t._f("parseTime")(t.form.createTime,"{y}/{m}/{d}"),disabled:t.isModify||31===t.form.status}})],1):t._e(),t._v(" "),o("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[o("el-input",{attrs:{maxlength:11,"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所在城市","label-width":t.formLabelWidth,prop:"city"}},[o("querySelect",{attrs:{filterable:"",show:"select",search:"longAddr",valuekey:"longAddr",disabled:31===t.form.status,type:"city",remote:!0,clearable:""},on:{change:t.getCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:11},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:30},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网点代码","label-width":t.formLabelWidth,prop:"networkCode"}},[o("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"代收款限额","label-width":t.formLabelWidth,prop:""}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.collectionFee,callback:function(e){t.$set(t.form,"collectionFee",e)},expression:"form.collectionFee"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"提现基准","label-width":t.formLabelWidth,prop:""}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:9},model:{value:t.form.benchmark,callback:function(e){t.$set(t.form,"benchmark",e)},expression:"form.benchmark"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"预警额度","label-width":t.formLabelWidth,prop:""}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.warningQuota,callback:function(e){t.$set(t.form,"warningQuota",e)},expression:"form.warningQuota"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"锁机额度","label-width":t.formLabelWidth,prop:""}},[o("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.lockMachineQuota,callback:function(e){t.$set(t.form,"lockMachineQuota",e)},expression:"form.lockMachineQuota"}})],1),t._v(" "),t.isModify?t._e():o("div",{staticClass:"ad-add-dot"},[o("el-checkbox",{attrs:{checked:""},model:{value:t.form.accountStatus,callback:function(e){t.$set(t.form,"accountStatus",e)},expression:"form.accountStatus"}},[t._v("开通管理员账号")]),t._v(" "),o("p",[t._v(" 密码：123456")])],1),t._v(" "),t.form.accountStatus&&!t.isModify?o("el-form-item",{attrs:{"label-width":t.formLabelWidth,prop:"accountName"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip,tabindex:"-1"}},[o("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由字母、数字组成"),o("br"),t._v("长度范围2~15个字符")]),t._v(" "),o("el-input",{attrs:{"auto-complete":"off"},on:{focus:function(e){t.tooltip=!0},blur:function(e){t.tooltip=!1}},model:{value:t.form.accountName,callback:function(e){t.$set(t.form,"accountName","string"==typeof e?e.trim():e)},expression:"form.accountName"}})],1)],1):t._e(),t._v(" "),o("div",{staticClass:"rem-add-dot"},[o("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth,prop:""}},[o("el-input",{attrs:{type:"textarea",rows:2,placeholder:"不可超300字","auto-complete":"off",maxlength:300},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1),t._v(" "),t.companyId!==t.form.id?o("div",{staticClass:"spanDiv"},[o("span",[t._v("元")]),t._v(" "),o("span",[t._v("元")]),t._v(" "),t.isModify?o("span",{staticClass:"span-hidden"},[t._v("元")]):t._e(),t._v(" "),t.isModify?t._e():o("span",{staticClass:"span-last"},[t._v("元")])]):t._e()],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保存")]),t._v(" "),o("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)],1)},staticRenderFns:[]};t.a=i},AmWJ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("01I6"),a=o("Iq6R");var s=function(e){o("Jmrl")},r=o("VU/8")(i.a,a.a,s,null,null);t.default=r.exports},DAQk:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("wO8r"),a=o("Q5/P");var s=function(e){o("whtI")},r=o("VU/8")(i.a,a.a,s,null,null);t.default=r.exports},Iq6R:function(e,t,o){"use strict";var i={render:function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:i.loading,expression:"loading"}],staticClass:"company clearfix"},[a("div",{staticClass:"company-box"},[a("div",{staticClass:"side_left"},[a("el-tree",{ref:"tree",attrs:{data:i.getDataTree,"node-key":"id","default-expanded-keys":[1],props:i.defaultProps,"default-expand-all":""},on:{"node-click":i.getCheckedKeys},scopedSlots:i._u([{key:"default",fn:function(e){var t=e.node,o=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{class:[31===o.status?"treeClass":"treeAct"]},[i._v(i._s(t.label))])])}}])})],1),i._v(" "),a("div",{staticClass:"side_right"},[a("el-collapse",{attrs:{accordion:"",change:"doLayout"}},[0===i.form.parentId?a("el-collapse-item",{attrs:{title:"公司信息:"}},[a("div",{staticClass:"side_right_top",class:{currActive:31===i.form.status}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:i.form,inline:!0,"label-position":"right",size:"mini"}},[a("el-form-item",{attrs:{label:"公司名称","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.orgName,callback:function(e){i.$set(i.form,"orgName",e)},expression:"form.orgName"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"网点类型","label-width":i.formLabelWidth}},[a("el-input",{attrs:{value:i.form.orgTypeName,disabled:""}})],1),i._v(" "),a("el-form-item",{attrs:{label:"公司状态","label-width":i.formLabelWidth,disabled:"disabled"}},[a("el-input",{attrs:{value:32===i.form.status?"有效":"无效",disabled:""}})],1),i._v(" "),a("el-form-item",{attrs:{label:"客服人员","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.serviceName,callback:function(e){i.$set(i.form,"serviceName",e)},expression:"form.serviceName"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"客服电话","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.servicePhone,callback:function(e){i.$set(i.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"公司代码","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.networkCode,callback:function(e){i.$set(i.form,"networkCode",e)},expression:"form.networkCode"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"负责人","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.responsibleName,callback:function(e){i.$set(i.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"负责人电话","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.responsibleTelephone,callback:function(e){i.$set(i.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"所在城市","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.city,callback:function(e){i.$set(i.form,"city",e)},expression:"form.city"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"详情地址","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.detailedAddr,callback:function(e){i.$set(i.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1)],1)],1)]):a("el-collapse-item",{attrs:{title:"网点信息:"}},[a("div",{staticClass:"side_right_top",class:{currActive:31===i.form.status}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:i.form,inline:!0,"label-position":"right",size:"mini"}},[a("el-form-item",{attrs:{label:"网点名称","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.orgName,callback:function(e){i.$set(i.form,"orgName",e)},expression:"form.orgName"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"网点类型","label-width":i.formLabelWidth}},[a("el-input",{attrs:{value:i.form.orgTypeName,disabled:""}})],1),i._v(" "),a("el-form-item",{attrs:{label:"网点状态","label-width":i.formLabelWidth,disabled:"disabled"}},[a("el-input",{attrs:{value:32===i.form.status?"有效":"无效",disabled:""}})],1),i._v(" "),a("el-form-item",{attrs:{label:"客服人员","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.serviceName,callback:function(e){i.$set(i.form,"serviceName",e)},expression:"form.serviceName"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"客服电话","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.servicePhone,callback:function(e){i.$set(i.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"上级网点","label-width":i.formLabelWidth}},[a("el-input",{attrs:{value:i.form.parentName||i.form.orgName,disabled:""}})],1),i._v(" "),a("el-form-item",{attrs:{label:"经营类型","label-width":i.formLabelWidth}},[a("el-input",{attrs:{value:4===i.form.manageType?"加盟":"自营",disabled:""}})],1),i._v(" "),a("el-form-item",{attrs:{label:"创建时间","label-width":i.formLabelWidth}},[a("el-input",{attrs:{value:i._f("parseTime")(i.form.createTime,"{y}/{m}/{d}"),disabled:""}})],1),i._v(" "),a("el-form-item",{attrs:{label:"网点代码","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.networkCode,callback:function(e){i.$set(i.form,"networkCode",e)},expression:"form.networkCode"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"代收款限额","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.collectionFee,callback:function(e){i.$set(i.form,"collectionFee",e)},expression:"form.collectionFee"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"负责人","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.responsibleName,callback:function(e){i.$set(i.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"负责人电话","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.responsibleTelephone,callback:function(e){i.$set(i.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"所在城市","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.city,callback:function(e){i.$set(i.form,"city",e)},expression:"form.city"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"锁机额度","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.lockMachineQuota,callback:function(e){i.$set(i.form,"lockMachineQuota",e)},expression:"form.lockMachineQuota"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"预警额度","label-width":i.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:i.form.warningQuota,callback:function(e){i.$set(i.form,"warningQuota",e)},expression:"form.warningQuota"}})],1)],1)],1)])],1),i._v(" "),a("div",{staticClass:"side_right_bottom clearfix"},[a("div",{staticClass:"btns_box_lrl clearfix"},[32===i.form.status?a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_ADD",arg:"ORGTREELIST_ADD"}],attrs:{type:"primary",size:i.btnsize,icon:"el-icon-circle-plus",plain:""},on:{click:function(e){i.doAction("addPeople")}}},[i._v("              新增员工\n          ")]):i._e(),i._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_DELETE",arg:"ORGTREELIST_DELETE"}],attrs:{type:"danger",size:i.btnsize,icon:"el-icon-delete",plain:""},on:{click:function(e){i.doAction("deletePeople")}}},[i._v("\n            删除员工\n          ")]),i._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_UPDATE",arg:"ORGTREELIST_UPDATE"}],attrs:{type:"primary",size:i.btnsize,icon:"el-icon-edit",plain:""},on:{click:function(e){i.doAction("modifyNot")}}},[i._v("修改网点\n          ")]),i._v(" "),32===i.form.status?a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_ADDWD",arg:"ORGTREELIST_ADDWD"}],attrs:{type:"primary",size:i.btnsize,icon:"el-icon-circle-plus",plain:""},on:{click:function(e){i.doAction("addNot")}}},[i._v("\n            新增网点\n          ")]):i._e(),i._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_EDIT",arg:"ORGTREELIST_EDIT"}],attrs:{type:"primary",size:i.btnsize,icon:"el-icon-edit",plain:""},on:{click:function(e){i.doAction("depMain")}}},[i._v("部门维护\n          ")]),i._v(" "),a("el-col",{staticClass:"org-name"},[a("p",[i._v(i._s(i.form.orgName))])])],1),i._v(" "),a("div",{staticClass:"info_news"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:i.usersArr,stripe:"",border:"","tooltip-effect":"dark",height:"100%"},on:{"row-click":i.clickDetails,"selection-change":i.seleClick}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),i._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"id",width:"60",label:"序号"},scopedSlots:i._u([{key:"default",fn:function(e){return[i._v(i._s((i.pageNum-1)*i.pageSize+e.$index+1))]}}])}),i._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"name",width:"150",label:"姓名"}}),i._v(" "),a("el-table-column",{attrs:{prop:"orgName",width:"230",label:"归属网点"}}),i._v(" "),a("el-table-column",{attrs:{prop:"departmentName",width:"150",label:"归属部门"}}),i._v(" "),a("el-table-column",{attrs:{prop:"position",width:"150",label:"职务"}}),i._v(" "),a("el-table-column",{attrs:{prop:"username",width:"200",label:"登录账号"}}),i._v(" "),a("el-table-column",{attrs:{width:"220",label:"权限角色"},scopedSlots:i._u([{key:"default",fn:function(e){return["0"!==e.row.rolesId?a("span",[i._v(i._s(e.row.rolesName))]):a("span",{staticClass:"unauth"},[i._v("未授权")])]}}])}),i._v(" "),a("el-table-column",{attrs:{label:"性别",width:"100"},scopedSlots:i._u([{key:"default",fn:function(e){return[i._v("\n                "+i._s("0"===e.row.sexFlag?"男":"女")+"\n              ")]}}])}),i._v(" "),a("el-table-column",{attrs:{prop:"mobilephone",label:"联系手机"}})],1)],1)])],1),i._v(" "),a("AddDot",{attrs:{dotInfo:i.getform,orgid:i.getOrgId||i.otherinfo.orgid,companyId:i.otherinfo.companyId,isModify:i.isModify,getCheckedKeyId:i.getCheckedKeyId,popVisible:i.addDoTotVisible},on:{success:i.updateSuccess,close:i.closeAddDot}}),i._v(" "),a("AddPeople",{attrs:{popVisible:i.addPeopleVisible,orgid:i.getOrgId||i.otherinfo.orgid},on:{"update:popVisible":function(e){i.addPeopleVisible=e},close:i.closeAddPeople,success:function(e){i.fetchOrgId(i.getOrgId)}}}),i._v(" "),a("DepMaintain",{attrs:{popVisible:i.addDepMaintainisible,isDepMain:i.isDepMain,dotInfo:i.usersArr,createrId:i.otherinfo.orgid},on:{"update:popVisible":function(e){i.addDepMaintainisible=e},close:i.closeDep}})],1),i._v(" "),a("div",{staticClass:"info_news_footer"},[a("div",{staticClass:"checked_footer"},[a("el-checkbox",{attrs:{value:"checkbox",checked:"checked"},model:{value:i.checkedInput,callback:function(e){i.checkedInput=e},expression:"checkedInput"}},[i._v("过滤失效网点")])],1),i._v(" "),a("div",{staticClass:"total_footer"},[i._v("共计:"+i._s(i.total))]),i._v(" "),a("div",{staticClass:"show_pager"},[a("Pager",{attrs:{total:i.total},on:{change:i.handlePageChange}})],1)])])},staticRenderFns:[]};t.a=i},Jmrl:function(e,t){},Ka9r:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("N+M1"),a=o("yyJD");var s=function(e){o("QoE5")},r=o("VU/8")(i.a,a.a,s,null,null);t.default=r.exports},LaJi:function(e,t){},"N+M1":function(e,t,o){"use strict";var i=o("3EPC"),a=o("T8y6");t.a={components:{PopFrame:i.a},props:{popVisible:{type:Boolean,default:!1},dotInfo:[Object,Array],isDepMain:{type:Boolean,default:!1},createrId:[Number,String]},directives:{focus:{inserted:function(e){e.focus()}}},data:function(){return{theulkey:"theulkey",currentIndex:0,checked1:!0,popTitle:"部门",loading:!0,getMentInfo:[{dictName:"",id:""}],checked:!0,checked2:!0,hiddenAdd:!1,hiddenEdit:!1,showDate:!1,dictName:"",orderId:"",resInfo:[{dictName:""}],addText:"添加",editText:"编辑",remText:"关闭",showBotton:!1,remBotton:!1,restaurants:[]}},computed:{isShow:{get:function(){return this.popVisible},set:function(){}}},watch:{isDepMain:function(){this.isDepMain&&(this.popTitle="部门",this.showBotton=!0,this.hiddenAdd=!1,this.hiddenEdit=!1,this.showDate=!0)},dotInfo:function(e){},popVisible:function(e){this.popVisible&&this.getSelectDict()},createrId:function(e){}},mounted:function(){},methods:{editDepFun:function(){},resetValue:function(e,t){return function(){e.dictName=t}},getSelectDict:function(){var t=this;this.loading=!0,Object(a.f)(this.createrId).then(function(e){t.getMentInfo=e,t.loading=!1,t.theulkey=(Math.random()+"").substr(2)}).catch(function(e){t._handlerCatchMsg(e)})},getAddDate:function(){var t=this;return this.loading=!0,Object(a.g)(this.createrId,this.dictName).then(function(e){t.dictName="",t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})},closeMe:function(e){"部门"===this.popTitle?(this.$emit("close"),"function"==typeof e&&e()):this.reset()},editMe:function(){var e=this;this.popTitle="编辑",this.remBotton=!0,this.showBotton=!1,this.hiddenAdd=!1,this.hiddenEdit=!0,this.showDate=!1,this.currentIndex=0,setTimeout(function(){e.$refs.svginputEdit.focus()},100)},submitForm:function(e){var t=this;this.popTitle="添加",this.hiddenAdd=!0,this.showBotton=!1,this.hiddenEdit=!1,this.showDate=!1,setTimeout(function(){t.$refs.svginput.focus()},100)},reset:function(){this.popTitle="部门",this.remBotton=!1,this.showBotton=!0,this.hiddenAdd=!1,this.hiddenEdit=!1,this.showDate=!0},addDep:function(){var t=this;if(!this.dictName)return this.$message({message:"请输入用户名~",type:"warning"}),!1;this.loading=!0,this.getAddDate().then(function(e){t.$message({type:"success",message:"添加成功!"}),t.getSelectDict(t.createrId),t.closeMe(),t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})},editDep:function(e){var t=this,o=e.id;if(this.dictName=e.dictName,0===e.orgid)return this.$message({type:"info",message:"系统默认部门不能修改!"}),!1;this.loading=!0,Object(a.i)(this.createrId,this.dictName,o).then(function(e){t.$message({type:"success",message:"修改成功!"}),t.closeMe(),t.getSelectDict(),t.theulkey=(Math.random()+"").substr(2),t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})},delDep:function(e){var t=this,o=e.id,i=e.dictName;if(0===e.orgid)return this.$message({type:"info",message:"系统默认部门不能修改!"}),!1;this.$confirm("确定要删除 "+i+" 部门吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,Object(a.a)(o,t.otherinfo.orgid).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getSelectDict(),t.theulkey=(Math.random()+"").substr(2),t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}}},"Q5/P":function(e,t,o){"use strict";var i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[o("template",{staticClass:"addEmployeerPop-content",slot:"content"},[o("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"用户姓名","label-width":t.formLabelWidth,prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机号码","label-width":t.formLabelWidth,prop:"mobilephone"}},[o("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.mobilephone,callback:function(e){t.$set(t.form,"mobilephone",e)},expression:"form.mobilephone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"登录账号","label-width":t.formLabelWidth,prop:"username"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip,tabindex:"-1"}},[o("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由字母、数字组成"),o("br"),t._v("长度范围2~15个字符")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.username,expression:"form.username",modifiers:{trim:!0}},{name:"onlyNumberAndLetter",rawName:"v-onlyNumberAndLetter"}],staticClass:"nativeinput",attrs:{type:"text","auto-complete":"off",maxlength:"15"},domProps:{value:t.form.username},on:{focus:function(e){t.tooltip=!0},blur:[function(e){t.tooltip=!1},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value.trim())}}})])],1),t._v(" "),o("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth,prop:"password"}},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.password,expression:"form.password",modifiers:{trim:!0}},{name:"onlyNumberAndLetter",rawName:"v-onlyNumberAndLetter"}],staticClass:"nativeinput",attrs:{type:"text",maxlength:"15","auto-complete":"off"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),o("el-form-item",{attrs:{label:"职位","label-width":t.formLabelWidth,prop:"position"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"员工号","label-width":t.formLabelWidth,prop:"jobNumber"}},[o("el-input",{attrs:{"auto-complete":"off",maxlength:20},model:{value:t.form.jobNumber,callback:function(e){t.$set(t.form,"jobNumber",e)},expression:"form.jobNumber"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"sexFlag","label-width":t.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.form.sexFlag,callback:function(e){t.$set(t.form,"sexFlag",e)},expression:"form.sexFlag"}},[o("el-option",{attrs:{label:"男",value:"0"}}),t._v(" "),o("el-option",{attrs:{label:"女",value:"1"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{required:"",prop:"orgid",label:"归属网点","label-width":t.formLabelWidth}},[o("SelectTree",{attrs:{filterable:"",orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"权限角色","label-width":t.formLabelWidth,prop:"rolesId"}},[o("el-select",{attrs:{"collapse-tags":"",filterable:"",multiple:"","filter-method":t.makefilter,placeholder:"请选择权限"},model:{value:t.form.rolesId,callback:function(e){t.$set(t.form,"rolesId",e)},expression:"form.rolesId"}},t._l(t.roleslist,function(e){return o("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}},[o("span",{staticClass:"query-input-myautocomplete",domProps:{innerHTML:t._s(t.highLight(e,"roleName"))}})])}))],1),t._v(" "),o("el-form-item",{attrs:{label:"归属部门","label-width":t.formLabelWidth,prop:"departmentId"}},[o("SelectType",{attrs:{orgid:t.otherinfo.orgid,type:"department_type",filterable:"",placeholder:"请选择部门"},model:{value:t.form.departmentId,callback:function(e){t.$set(t.form,"departmentId",e)},expression:"form.departmentId"}})],1)],1),t._v(" "),t.isModify?t._e():o("div",{staticClass:"info"},[t._v("注：密码默认为：123456")])],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("确 定")]),t._v(" "),o("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=i},QoE5:function(e,t){},f3wf:function(e,t){},m59D:function(e,t,o){"use strict";var i=o("//Fk"),a=o.n(i),s=o("Dd8w"),r=o.n(s),l=o("T8y6"),n=o("P5Di"),d=o("o9X6"),c=o("66wn"),m=o("pAQG"),f=o("E4LH"),u=(o("0xDb"),o("NYxO")),p=o("9UCZ");t.a={components:{popRight:n.a,SelectTree:d.a,SelectCity:c.a,querySelect:m.a,SelectType:p.a},computed:r()({},Object(u.b)(["otherinfo"]),{isShow:{get:function(){return this.popVisible},set:function(){}}}),props:{popVisible:{type:Boolean,default:!1},isModify:{type:Boolean,default:!1},dotInfo:Object,orgid:{type:Number},companyId:{type:Number},getCheckedKeyId:{type:[Number,String]}},watch:{"form.accountStatus":{handler:function(){this.form.accountName=""}},popVisible:function(e){e&&(this.formKey=Math.random(),this.fetchData()),this.watchDate(this.doInfo)},getCheckedKeyId:function(e){this.watchDate()},doInfo:{handler:function(){this.checkShowMessage=!1,this.watchDate(this.doInfo)},immediate:!0,deep:!0},isModify:{handler:function(){this.watchDate()},immediate:!0}},data:function(){var e=function(e,t,o){o()};return{tooltip:!1,formKey:"",popTitle:"新增网点",checked:!0,loading:!1,checkShowMessage:!1,netWorkType:[],newnNetWorkType:[],manageType:[],netWorkStatus:[],isChecked:!1,isCheckedShow:!1,form:{orgName:"",orgType:1,status:32,responsibleTelephone:"",responsibleName:"",city:"",serviceName:"",parentName:"",servicePhone:"",detailedAddr:"",networkCode:"",collectionFee:"",benchmark:"",warningQuota:"",lockMachineQuota:"",manageType:3,remarks:"",accountStatus:!0,parentId:0,createTime:"",id:"",accountName:""},rules:{orgName:[{required:!0,message:"请输入网点名称"}],servicePhone:[{required:!0,pattern:f.a.TELANDPHONE,message:"客服号码格式不正确"}],responsibleName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],responsibleTelephone:[{pattern:f.a.MOBILE,message:"请输入正确的电话号码",trigger:["blur","change"]}],serviceName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],networkCode:[{required:!0,message:"请输入网点代码"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],city:[{required:!0,message:"请选择城市"}],accountName:[{required:!0,message:"请输入有效的登录账号",pattern:f.a.USERNAME},{max:15,message:"不能超过15个字符",trigger:"blur"}]},dialogVisible:!1,formLabelWidth:"120px"}},mounted:function(){},methods:{fetchData:function(){var t=this;this.loading=!0,this.form.parentId=this.orgid||this.companyId,a.a.all([Object(l.c)(this.form.parentId),Object(l.b)(this.form.parentId),Object(l.d)(this.form.parentId)]).then(function(e){t.manageType=e[1],t.netWorkStatus=e[2],t.netWorkType=e[0],t.loading=!1}).catch(function(e){t._handlerCatchMsg(e),t.loading=!1})},canadd:function(e,t){t&&t.index&&5<=t.index&&(this.$message.info("添加的层级数不能超过5层，请重新选择~"),this.form.parentId=this.otherinfo.companyId)},watchDate:function(){for(var e in this.form)this.form[e]="";this.isModify?(this.popTitle="修改网点",this.changeDate(this.dotInfo),this.form.id=this.dotInfo.id,this.form.parentId=this.dotInfo.parentId||this.companyId):(this.popTitle="新增网点",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid)},getCity:function(e){this.form.city=e?e.longAddr:e},getOrgid:function(e){this.form.parentId=e},newDate:function(){},reset:function(){for(var e in this.$refs.ruleForm.resetFields(),this.form)this.form[e]="",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid},closeMe:function(e){this.$emit("close"),this.reset(),"function"==typeof e&&e()},submitForm:function(e,o){var i=this;this.$refs[e].validate(function(e){if(i.isChecked=!1,i.isCheckedShow=!1,!e)return i.$message({type:"error",message:"保存失败"}),!1;i.loading=!0;var t=void 0;i.isModify?(i.form.id===i.form.parentId&&i.form.parentId===i.otherinfo.companyId&&(i.form.parentId=0),i.form.id=i.dotInfo.id,i.form.createTime=+new Date(i.form.createTime),"总公司"===i.form.orgType&&(i.form.orgType=5),t=Object(l.j)(i.form)):(!0===i.form.accountStatus?i.form.accountStatus=0:i.form.accountStatus=1,t=Object(l.h)(i.form)),t.then(function(e){i.$emit("success",i.isModify),i.$message.success("保存成功"),i.formKey=Math.random(),i.reset(),o||i.closeMe(),i.popTitle="新增网点",i.loading=!1}).catch(function(e){i._handlerCatchMsg(e),i.loading=!1})})},changeDate:function(e){this.form.orgName=e.orgName,this.form.responsibleTelephone=e.responsibleTelephone,this.form.responsibleName=e.responsibleName,this.form.city=e.city,this.form.serviceName=e.serviceName,this.form.parentName=e.parentName,this.form.servicePhone=e.servicePhone,this.form.detailedAddr=e.detailedAddr,this.form.networkCode=e.networkCode,this.form.collectionFee=e.collectionFee,this.form.benchmark=e.benchmark,this.form.warningQuota=e.warningQuota,this.form.lockMachineQuota=e.lockMachineQuota,this.form.remarks=e.remarks,this.form.status=e.status,this.form.accountStatus=e.accountStatus,this.form.manageType=e.manageType,this.form.createTime=e.createTime,5===e.orgType?this.form.orgType="总公司":this.form.orgType=e.orgType}}}},qYK6:function(e,t,o){"use strict";t.a={props:{width:{type:String,default:"400"},title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1}},watch:{isShow:{handler:function(){this.isShow&&(this.shouldRender=!0)},immediate:!0}},data:function(){return{zIndex:(window.tmsPopZindex?window.tmsPopZindex+=1:window.tmsPopZindex=1e3,window.tmsPopZindex),shouldRender:!1}},methods:{close:function(){this.$emit("close")}}}},ttFD:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("m59D"),a=o("ABFs");var s=function(e){o("LaJi")},r=o("VU/8")(i.a,a.a,s,null,null);t.default=r.exports},wO8r:function(e,t,o){"use strict";var i=o("mvHQ"),s=o.n(i),a=o("//Fk"),r=o.n(a),l=o("woOf"),n=o.n(l),d=o("Dd8w"),c=o.n(d),m=o("E4LH"),f=o("u8ra"),u=o("P5Di"),p=o("o9X6"),h=o("NYxO"),b=o("9UCZ"),g=o("pAQG");t.a={components:{popRight:u.a,SelectTree:p.a,SelectType:b.a,querySelect:g.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},userInfo:{type:Object,default:function(){}}},computed:c()({},Object(h.b)(["otherinfo"])),data:function(){return{querykey:"11",form:{name:"",mobilephone:"",username:"",password:"123456",position:"",sexFlag:"",orgid:"",rolesId:[],departmentId:""},formLabelWidth:"80px",tooltip:!1,rules:{name:[{required:!0,message:"请输入用户姓名"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:10,message:"长度在 6 到 15 个字符",trigger:"blur"}],mobilephone:[{required:!0,message:"请输入手机号码",pattern:m.a.MOBILE}],orgid:[{required:!0,message:"请选择归属网点"}],username:[{required:!0,message:"请输入有效的登录账号",pattern:m.a.USERNAME},{max:15,message:"不能超过15个字符",trigger:"blur"}],position:[{max:10,message:"不能超过10个字符",trigger:"blur"}]},popTitle:"新增员工",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,query:"",roleslist:[]}},mounted:function(){this.form.orgid=this.orgid,console.log("orgid2222::::::",this.orgid),this.inited||(this.inited=!0,this.initInfo())},watch:{popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo())},orgid:function(e){console.log("orgid::::::",e),this.form.orgid=e},userInfo:function(){var e=this;if(this.isModify){this.popTitle="修改员工";n()({},this.userInfo);for(var t in this.form)this.form[t]=this.userInfo[t];this.form.rolesId="0"===this.userInfo.rolesId?[]:this.userInfo.rolesIdList,this.form.password=""}else{for(var o in this.popTitle="新增员工",this.form)this.form[o]="password"===o?"123456":"rolesId"===o?[]:"";this.$nextTick(function(){console.log("orgid333333",e.orgid),e.form.orgid=e.orgid})}}},methods:{highLight:function(e,t){return""!==this.query?this.setHightLight(e[t],this.query):e[t]},setHightLight:function(e,t){return e.replace(new RegExp(t,"igm"),'<i class="highlight">'+t+"</i>")},makefilter:function(e){this.query=e;var t=new RegExp(e,"i");this.roleslist=this.roles.filter(function(e){return t.test(e.roleName)})},initInfo:function(){var t=this;return this.loading=!0,r.a.all([Object(f.e)(this.otherinfo.companyId),Object(f.f)(this.otherinfo.companyId)]).then(function(e){t.loading=!1,t.roles=e[0].list,t.roleslist=t.roles,t.departments=e[1]}).catch(function(e){t.$message.error("错误1："+(e.text||e.errInfo||e.data||s()(e))),t.loading=!1,t.inited=!1})},getOrgid:function(e){this.form.orgid=e},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),console.log("id",e,this.form.orgid),this.form.orgid=e},submitForm:function(e,i){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.loading=!0;var t=n()({},a.form),o=void 0;t.rolesId=t.rolesId.join(","),a.isModify?(t.id=a.userInfo.id,o=Object(f.j)(t)):o=Object(f.i)(t),o.then(function(e){a.loading=!1,a.$message({type:"success",message:"保存成功!"}),a.reset(),i||a.closeMe(),a.$emit("success")}).catch(function(e){a.$message.error("错误2："+(e.text||e.errInfo||e.data||s()(e))),a.loading=!1})})},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},whtI:function(e,t){},yyJD:function(e,t,o){"use strict";var i={render:function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("div",{staticClass:"dep-maintain"},[a("PopFrame",{directives:[{name:"loading",rawName:"v-loading",value:i.loading,expression:"loading"}],staticClass:"addpopDepMain",attrs:{title:i.popTitle,isShow:i.popVisible},on:{close:i.closeMe}},[a("template",{staticClass:"addRelationPop-content",slot:"content"},[a("div",{ref:"ruleForm",staticClass:"depmain-div"},[i.showDate?a("div",{staticClass:"depmain-content"},[a("ul",i._l(i.getMentInfo,function(e){return a("li",{key:e.dictName},[a("span",[i._v(i._s(e.dictName))])])}))]):i._e(),i._v(" "),i.hiddenAdd?a("div",{staticClass:"depmain-add"},[a("div",{staticClass:"add-fixed"},[a("el-input",{ref:"svginput",model:{value:i.dictName,callback:function(e){i.dictName=e},expression:"dictName"}}),i._v(" "),a("div",{staticClass:"addSvg"},[a("span",{staticClass:"svgSpan",on:{click:i.addDep}},[a("icon-svg",{staticClass:"lll-dot-true",attrs:{"icon-class":"lll-dot-true"}})],1),i._v(" "),a("span",{staticClass:"svgSpan",on:{click:i.closeMe}},[a("icon-svg",{staticClass:"lll-dot-false",attrs:{"icon-class":"lll-dot-false"}})],1)])],1),i._v(" "),a("div",{staticClass:"depmain-list"},[a("ul",i._l(i.getMentInfo,function(e){return a("li",{key:e.dictName},[a("span",[i._v(i._s(e.dictName))])])}))])]):i._e(),i._v(" "),i.hiddenEdit?a("div",{staticClass:"depmain-edit"},[a("div",{staticClass:"depmain-list"},[a("ul",{key:i.theulkey},i._l(i.getMentInfo,function(t,o){return a("li",{key:o,class:{showcurrent:o===i.currentIndex},on:{click:function(e){i.currentIndex=o}}},[i._o(a("span",{staticClass:"firstName"},[i._v(i._s(t.dictName))]),0,o),i._v(" "),a("div",{staticClass:"edit-hidden"},[a("el-input",{ref:"svginputEdit",refInFor:!0,model:{value:t.dictName,callback:function(e){i.$set(t,"dictName",e)},expression:"item.dictName"}}),i._v(" "),a("div",{staticClass:"addSvg"},[a("span",{staticClass:"svgSpan1",on:{click:function(e){i.editDep(t)}}},[a("icon-svg",{staticClass:"lll-dot-true",attrs:{"icon-class":"lll-dot-true"}})],1),i._v(" "),a("span",{staticClass:"svgSpan2",on:{click:function(e){i.delDep(t)}}},[a("icon-svg",{staticClass:"lll-dot-false",attrs:{"icon-class":"lll-dot-false"}})],1)])],1)])}))])]):i._e()])]),i._v(" "),i.showBotton?a("div",{staticClass:"dialog-footer-frame",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){i.submitForm("ruleForm")}}},[i._v(i._s(i.addText))]),i._v(" "),a("el-button",{on:{click:i.editMe}},[i._v(i._s(i.editText))])],1):i._e(),i._v(" "),i.remBotton?a("div",{staticClass:"dialog-footer-frame",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:i.closeMe}},[i._v(i._s(i.remText))])],1):i._e(),i._v(" "),a("div",{staticClass:"dialog-footer-frame",attrs:{slot:"footer"},slot:"footer"},[a("span")])],2)],1)},staticRenderFns:[]};t.a=i}});