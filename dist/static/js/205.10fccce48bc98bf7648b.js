webpackJsonp([205],{"39bf":function(e,t,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"popRight-center",class:{showPopRight:e.isShow},style:{zIndex:e.zIndex}},[n("div",{staticClass:"popRight-header"},[e._t("title",[e._v(e._s(e.title))]),e._v(" "),n("i",{staticClass:"el-icon-close",attrs:{title:"关闭"},on:{click:e.close}})],2),e._v(" "),e.shouldRender?n("div",{staticClass:"popRight-content"},[e._t("content",[e._v("内容")])],2):e._e(),e._v(" "),n("div",{staticClass:"popRight-footer"},[e._t("footer",[e._v("底部")])],2)])},staticRenderFns:[]};t.a=i},"3EPC":function(e,t,n){"use strict";var i=n("qYK6"),s=n("39bf");var o=function(e){n("sZBQ")},a=n("VU/8")(i.a,s.a,o,null,null);t.a=a.exports},KheB:function(e,t,n){"use strict";var i={render:function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"lntelligentPset-maintain"},[i("el-dialog",{staticClass:"pickpopDepMain",attrs:{icon:"el-icon-edit-outline",title:n.popTitle,isShow:n.popVisible,"close-on-click-modal":!1,"before-close":n.closeMe,visible:n.isShow},on:{"update:visible":function(e){n.isShow=e}}},[i("div",{staticClass:"depmain-div"},[n.isSecond?i("div",{staticClass:"carDiv"},[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(e){n.doAction("addCar")}}}),n._v(" "),i("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(e){n.doAction("subCar")}}})],1):n._e(),n._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"tabsDiv"},[i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":n.handleClick},model:{value:n.activeName,callback:function(e){n.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{name:"first"}},[i("span",{attrs:{slot:"label"},slot:"label"},[n._v(" 系统车型")]),n._v(" "),i("el-table",{ref:"multipleTable1",staticClass:"tableIntelligent",staticStyle:{width:"450px"},attrs:{data:n.systemList,stripe:"",border:"",height:"181","tooltip-effect":"dark","highlight-current-row":""},on:{"row-click":n.clickDetail,"current-change":n.handleCurChangeSystem}},[i("el-table-column",{attrs:{width:"50"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.isSelect?i("i",{staticClass:"el-icon-success",staticStyle:{color:"#67C23A"}}):n._e()]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"name",label:"车型"}}),n._v(" "),i("el-table-column",{attrs:{prop:"weight",width:"120",label:"承载重(千克)"}}),n._v(" "),i("el-table-column",{attrs:{prop:"vol",width:"100",label:"承载方(方)"}})],1)],1),n._v(" "),i("el-tab-pane",{attrs:{label:"自定义车型",name:"second"}},[i("div",{staticClass:"tableIntelligentPSet"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"450px"},attrs:{data:n.definedList,stripe:"",border:"",height:"206","highlight-current-row":"","tooltip-effect":"dark"},on:{"row-click":n.clickDetails,"current-change":n.handleCurChangeDefined}},[i("el-table-column",{attrs:{width:"50"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.isSelect?i("i",{staticClass:"el-icon-success",staticStyle:{color:"#67C23A"}}):n._e()]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"name",label:"车型"},scopedSlots:n._u([{key:"default",fn:function(t){return[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"车型",size:n.btnsize,disabled:t.row.selectdCheck,maxlength:8},on:{change:function(e){return n.changeFright(t.$index,"name",e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:t.row.name,callback:function(e){n.$set(t.row,"name",n._n(e))},expression:"scope.row.name"}},[i("template",{slot:"append"},[n._v("米")])],2)]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"weight",width:"120",label:"承载重(千克)"},scopedSlots:n._u([{key:"default",fn:function(t){return[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"承载重",size:n.btnsize,disabled:t.row.selectdCheck,maxlength:8},on:{change:function(e){return n.changeFright(t.$index,"weight",e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:t.row.weight,callback:function(e){n.$set(t.row,"weight",n._n(e))},expression:"scope.row.weight"}})]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"vol",width:"100",label:"承载方(方)"},scopedSlots:n._u([{key:"default",fn:function(t){return[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"承载方",size:n.btnsize,disabled:t.row.selectdCheck,maxlength:8},on:{change:function(e){return n.changeFright(t.$index,"vol",e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:t.row.vol,callback:function(e){n.$set(t.row,"vol",n._n(e))},expression:"scope.row.vol"}})]}}])})],1)],1)])],1)],1),n._v(" "),i("p",[n._v("注：请填写车费，保证单车毛利的准确性。")])]),n._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){n.submitForm("formName")}}},[n._v("确 定")]),n._v(" "),i("el-button",{on:{click:n.closeMe}},[n._v("取 消")])],1)])],1)},staticRenderFns:[]};t.a=i},Llvd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("romu"),s=n("KheB");var o=function(e){n("RD0z")},a=n("VU/8")(i.a,s.a,o,null,null);t.default=a.exports},RD0z:function(e,t){},ayAl:function(e,t,n){"use strict";t.n=function(e){return i.b.post("/api-order/order/load/v1/selectLoadMainInfoList",e).then(function(e){return e.data||{}})},t.q=function(e,t,n){return i.b.put("/api-order/order/load/v1/loadDepart?loadIds="+e+"&loadTypeId="+t+"&actualSendtime="+n)},t.p=function(e,t){return i.b.put("/api-order/order/load/v1/cancelLoadTruck?loadIds="+e+"&loadTypeId="+t)},t.o=function(e,t){return i.b.put("/api-order/order/load/v1/cancelLoadDepart/?loadIds="+e+"&loadTypeId="+t)},t.h=function(e){return i.b.get("/api-order/order/load/v1/contract/"+e)},t.d=function(e){return i.b.put("/api-order/order/load/v1/contract",e)},t.g=function(e){return i.b.get("/api-order/aitransport/tmsstandardcar/v1/",e).then(function(e){return e.data})},t.f=function(e){return i.b.post("/api-order/aitransport/intelligen/v1/init",e).then(function(e){return e.data})},t.j=function(e){return i.b.post("/api-order/order/load/v1/smartLoad",e)},t.e=function(e,t){return i.b.get("/api-order/aitransport/pzcarinfotms/v1/getCarInfo/?orgid="+e+"&sign="+t).then(function(e){return e.data})},t.l=function(e){return i.b.post("/api-order/aitransport/pzcarinfotms/v1/",e)},t.r=function(e){return i.b.put("/api-order/aitransport/pzcarinfotms/v1/",e)},t.a=function(e){return i.b.delete("/api-order/aitransport/pzcarinfotms/v1/"+e)},t.k=function(e){return i.b.post("/api-order/aitransport/tmssmartloadscheme/v1/loadSchemeList/",e).then(function(e){return e.data})},t.s=function(e){return i.b.put("/api-order/aitransport/tmssmartloadscheme/v1/updateScheme/",e).then(function(e){return e.data})},t.b=function(e){return i.b.delete("/api-order/aitransport/tmssmartloadscheme/v1/deleteScheme/?schemeGroup="+e.schemeGroup+"&orgid="+e.orgid).then(function(e){return e.data})},t.c=function(e){return i.b.delete("/api-order/aitransport/tmssmartloadscheme/v1/deleteSchemeById/?schemeId="+e.schemeId).then(function(e){return e.data})},t.m=function(e){return i.b.post("/api-order/aitransport/tmssmartloadscheme/v1/saveScheme/",e).then(function(e){return e.data})},t.t=function(e){return i.b.get("/api-order/aitransport/tmssmartloadscheme/v1/selectSchemeGroupDetail?schemeGroup="+e.schemeGroup+"&orgid="+e.orgid).then(function(e){return e.data})},t.i=function(e){return i.b.get("/api-order/aitransport/tmssmartloadscheme/v1/getRepertoryInfo?arriveOrgid="+e).then(function(e){return e.data})};var i=n("Vo7i")},qYK6:function(e,t,n){"use strict";t.a={props:{width:{type:String,default:"400"},title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1}},watch:{isShow:{handler:function(){this.isShow&&(this.shouldRender=!0)},immediate:!0}},data:function(){return{zIndex:(window.tmsPopZindex?window.tmsPopZindex+=1:window.tmsPopZindex=1e3,window.tmsPopZindex),shouldRender:!1}},methods:{close:function(){this.$emit("close")}}}},romu:function(e,t,n){"use strict";var i=n("woOf"),s=n.n(i),o=n("Dd8w"),a=n.n(o),r=(n("E4LH"),n("3EPC")),c=n("pAQG"),l=n("ayAl"),d=n("o9X6"),u=n("NYxO");t.a={components:{PopFrame:r.a,querySelect:c.a,SelectTree:d.a},props:{popVisible:{type:Boolean,default:!1},isDepMain:{type:Boolean,default:!1},dotInfo:{type:[Object,Boolean],default:!1},createrId:[Number,String],selectTruck:{type:[Array,Object],default:function(){}}},data:function(){return{activeName:"first",isSecond:!1,selectdCheck:!0,btnsize:"mini",selected:[],selectedSys:[],rules:{},formLabelWidth:"100",usersArr:[{num:10,date:"车型"},{num:10,date:"车型"},{num:10,date:"车型"},{num:10,date:"车型"}],checked1:!0,popTitle:"参数设置",loading:!1,isEditSuccess:0,formInline:{},infoGetSystemList:{sign:1,orgid:""},infoGetDefinedList:{sign:2,orgid:""},systemList:[],definedList:[]}},computed:a()({},Object(u.mapGetters)(["otherinfo"]),{isShow:{get:function(){return this.popVisible},set:function(){}}}),watch:{dotInfo:function(e){},popVisible:function(e){this.infoGetSystemList.orgid=this.otherinfo.orgid,this.infoGetDefinedList.orgid=this.otherinfo.orgid,this.fetchGetIntnteCarInfo(),this.fetchGetIntnteCarDefinedInfo()},selectTruck:{handler:function(e){}}},mounted:function(){this.popVisible},methods:{doAction:function(e){switch(e){case"addCar":this.addTruck();break;case"subCar":this.subTruck()}},addTruck:function(){var t=this;if(this.definedList&&4<this.definedList.length)this.$message({message:"自定义车型不能超过5种~",type:"warning"});else{Object(l.l)({name:"自定义车型",weight:8e3,vol:25}).then(function(e){t.fetchData(),t.$message.success("添加车型成功！")}).catch(function(e){t._handlerCatchMsg(e)})}},subTruck:function(){var t=this;1!==this.selected.length?this.$message({message:"请选择一项来进行操作",type:"warning"}):this.selected[0].cid?Object(l.a)(this.selected[0].cid).then(function(e){t.loading=!1,t.$message({message:"删除成功~",type:"success"}),t.fetchData()}):this.definedList=this.definedList.filter(function(e){return-1===t.selected.indexOf(e)})},fetchGetIntnteCarInfo:function(){var t=this;return this.loading=!0,Object(l.e)(this.infoGetSystemList.orgid,this.infoGetSystemList.sign).then(function(e){t.systemList=e,t.loading=!1})},fetchGetIntnteCarDefinedInfo:function(){var t=this;return this.loading=!0,Object(l.e)(this.infoGetDefinedList.orgid,this.infoGetDefinedList.sign).then(function(e){t.definedList=e,t.loading=!1})},changeFright:function(e,t,n){this.definedList[e][t]=Number(n),"name"===t?""!==this.definedList[e][t]&&void 0!==this.definedList[e][t]||this.$notify({title:"提示",message:"车型名不能为空",type:"warning"}):0===this.definedList[e][t]&&(this.$notify({title:"提示",message:"承载方和承载重不能为0",type:"warning"}),this.definedList[e][t]=1)},fetchData:function(){this.fetchGetIntnteCarDefinedInfo()},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()},reset:function(){this.formInline=s()({},this.formInline),this.formInline.shipSn="",this.formInline.shipGoodsSn="",this.formInline.pickupFee=""},submitForm:function(){var t=this,n=0;this.selectedSys&&0<this.selectedSys.length?(this.$emit("savaParamTruck",this.selectedSys),this.$message.success("参数设置成功！"),this.closeMe()):this.selected&&0<this.selected.length&&(console.log("selected",this.selected),this.selected.forEach(function(e){0!==e.weight&&0!==e.vol||n++,e&&e.cid&&Object(l.r)(e).then(function(e){}).catch(function(e){t._handlerCatchMsg(e)})}),0<n?this.$notify({title:"提示",message:"承载方和承载重不能为0",type:"warning"}):(this.closeMe(),this.$notify.success({title:"成功",message:"保存修改车型操作成功"}),this.$emit("savaParamTruck",this.selected)))},putPzcarinfotms:function(e){var t=this;Object(l.r)(e).then(function(e){}).catch(function(e){t.isEditSuccess++,t._handlerCatchMsg(e)})},handleCurChangeSystem:function(e){this.selectedSys=[],this.selected=[],this.selectedSys.push(e),console.log("system",e,this.selected)},handleCurChangeDefined:function(e){this.selected=[],this.selectedSys=[],this.selected.push(e),console.log("defined",e,this.selected)},clickDetail:function(e,t,n){var i=this;this.systemList.forEach(function(e){i.$set(e,"isSelect",!1)}),this.$refs.multipleTable1.setCurrentRow(e),this.$set(e,"isSelect",!0)},clickDetails:function(e,t,n){var i=this;this.definedList.forEach(function(e){i.$set(e,"isSelect",!1),e.selectdCheck=!0}),this.$refs.multipleTable.setCurrentRow(e),this.$set(e,"isSelect",!0),this.$set(e,"selectdCheck",!1)},handleClick:function(e,t){"second"===this.activeName?this.isSecond=!0:this.isSecond=!1}}}},sZBQ:function(e,t){}});