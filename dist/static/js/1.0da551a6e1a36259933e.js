webpackJsonp([1,41,42,43,44,229,279,281,282],{"//Ie":function(e,t,r){"use strict";var o=r("woOf"),i=r.n(o),n=r("Dd8w"),a=r.n(n),s=r("E4LH"),l=r("Vi15"),c=r("P5Di"),u=r("QbVN"),f=r("o9X6"),d=r("NYxO");t.a={components:{popRight:c.a,Upload:u.a,SelectTree:f.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},info:{type:Object,default:function(){}},issender:{type:Boolean,dafault:!1}},computed:a()({},Object(d.b)(["otherinfo"]),{fixPhone:{get:function(){return this.phoneshort+"-"+this.phonelong},set:function(e){var t=e?e.split("-"):"";t?(this.phoneshort=t[1]?t[0]:"",this.phonelong=t[1]?t[1]:t[0]):(this.phoneshort="",this.phonelong="")}},customphoneisok:function(){}}),data:function(){return{phoneshort:"",phonelong:"",form:{bankCardNumber:"",bankName:"",companyName:"",companyType:2,customerMobile:"",customerName:"",customerType:this.issender?1:2,customerUnit:"",detailedAddress:"",fixPhone:"",idcardPositive:"",idcardVerso:"",idcard:"",legalPersonname:"",licensePicture:"",openBank:"",orgid:0,vipNum:""},formLabelWidth:"90px",tooltip:!1,rules:{companyName:[],orgid:[{required:!0,message:"请选择所属机构"}],customerMobile:[{required:!0,message:"请输入手机号码",trigger:"change"},{pattern:s.a.MOBILE,trigger:"change",message:"请输入有效的手机号码"}],customerName:[{required:!0,message:"请输入联系人"},{max:30,message:"不能超过30个字符"}],vipNum:[{pattern:s.a.ONLY_NUMBER_AND_LETTER,trigger:"blur",message:"客户的VIP号只能输入字母和阿拉伯数字"}],idcard:[{pattern:s.a.ONLY_NUMBER_AND_LETTER,trigger:"blur",message:"身份证号码只能输入字母和数字"}]},popTitle:"新增发货人",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,isSaveAndAdd:!0}},mounted:function(){this.form.orgid=this.orgid,this.inited||(this.inited=!0,this.initInfo()),console.log(this.issender),console.log(this.popTitle)},watch:{"form.customerMobile":function(e){this.isSaveAndAdd&&(console.log("33333"),this.$refs.ruleForm.validateField("customerMobile"))},popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo()),e&&this.setTitle(),console.log(this.popTitle)},orgid:function(e){this.form.orgid=e},info:function(){if(this.isModify){this.popTitle="修改"+(this.issender?"发":"收")+"货人";var e=i()({},this.info);for(var t in this.form)this.form[t]=e[t];this.form.customerId=e.customerId,console.log("this.fixphone",this.fixPhone,this.form.fixPhone,e),this.fixPhone=this.form.fixPhone}else{for(var r in console.log(this.issender),this.popTitle="新增"+(this.issender?"发":"收")+"货人",this.form)this.form[r]="";delete this.form.customerId,this.form.companyType=2,this.form.customerType=this.issender?1:2,this.form.orgid=this.orgid,this.fixPhone=""}}},methods:{setTitle:function(){if(this.isModify){this.popTitle="修改"+(this.issender?"发":"收")+"货人";var e=i()({},this.info);for(var t in this.form)this.form[t]=e[t];this.form.customerId=e.customerId,console.log("this.fixphone",this.fixPhone,this.form.fixPhone,e),this.fixPhone=this.form.fixPhone}else{for(var r in console.log(this.issender),this.popTitle="新增"+(this.issender?"发":"收")+"货人",this.form)this.form[r]="";delete this.form.customerId,this.form.companyType=2,this.form.customerType=this.issender?1:2,this.form.orgid=this.orgid,this.fixPhone=""}},initInfo:function(){this.loading=!1},getOrgid:function(e){this.form.orgid=e},submitForm:function(e,r){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;o.loading=!0;var t=i()({},o.form);t.fixPhone=o.fixPhone;(o.isModify?Object(l.e)(t):Object(l.d)(t)).then(function(e){o.loading=!1,o.$message.success("保存成功"),r||o.closeMe(),o.$emit("success"),o.reset()}).catch(function(e){o._handlerCatchMsg(e),o.loading=!1})})},reset:function(){var e=this;this.isSaveAndAdd=!1;var t=this.form.orgid;this.$refs.ruleForm.resetFields(),this.form.licensePicture="",this.form.idcardPositive="",this.form.idcardVerso="",this.fixPhone="",this.form.fixPhone="",this.form.customerMobile="",this.form.orgid=t,console.log(this.form,"///////////////"),this.$nextTick(function(){e.isSaveAndAdd=!0})},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},"/v6R":function(e,t,r){"use strict";var o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addTruckPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[r("template",{staticClass:"addTruckPop-content",slot:"content"},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":t.formLabelWidth,inline:!0,"label-position":"right",size:"mini"}},[r("el-form-item",{attrs:{label:"车牌号码",prop:"truckIdNumber"}},[r("el-input",{attrs:{maxlength:8,"auto-complete":"off"},model:{value:t.form.truckIdNumber,callback:function(e){t.$set(t.form,"truckIdNumber",e)},expression:"form.truckIdNumber"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"车辆来源",prop:"truckSource"}},[r("SelectType",{attrs:{type:"truck_source",placeholder:"请选择"},model:{value:t.form.truckSource,callback:function(e){t.$set(t.form,"truckSource",e)},expression:"form.truckSource"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"车型",prop:"truckType"}},[r("SelectType",{attrs:{type:"truck_type",placeholder:"请选择"},model:{value:t.form.truckType,callback:function(e){t.$set(t.form,"truckType",e)},expression:"form.truckType"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"可载重",prop:"truckLoad"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:6,"auto-complete":"off"},model:{value:t.form.truckLoad,callback:function(e){t.$set(t.form,"truckLoad",t._n(e))},expression:"form.truckLoad"}},[r("template",{slot:"append"},[t._v("千克")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"可载体积",prop:"truckVolume"}},[r("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.truckVolume,callback:function(e){t.$set(t.form,"truckVolume",t._n(e))},expression:"form.truckVolume"}},[r("template",{slot:"append"},[t._v("方")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"车长",prop:"truckLength"}},[r("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.truckLength,callback:function(e){t.$set(t.form,"truckLength",t._n(e))},expression:"form.truckLength"}},[r("template",{slot:"append"},[t._v("米")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"车宽",prop:"truckWidth"}},[r("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckWidth,callback:function(e){t.$set(t.form,"truckWidth",t._n(e))},expression:"form.truckWidth"}},[r("template",{slot:"append"},[t._v("米")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"车高",prop:"truckHeight"}},[r("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckHeight,callback:function(e){t.$set(t.form,"truckHeight",t._n(e))},expression:"form.truckHeight"}},[r("template",{slot:"append"},[t._v("米")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"归属网点",prop:"orgid"}},[r("SelectTree",{attrs:{orgid:t.otherinfo.orgid},on:{change:t.getTreeOrgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"车辆品牌",prop:"truckBrand"}},[r("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckBrand,callback:function(e){t.$set(t.form,"truckBrand",e)},expression:"form.truckBrand"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"车辆注册时间",prop:"truckRegisterDate"}},[r("el-date-picker",{attrs:{align:"right",type:"date","picker-options":t.pickOption,placeholder:"选择日期","value-format":"timestamp"},model:{value:t.form.truckRegisterDate,callback:function(e){t.$set(t.form,"truckRegisterDate",e)},expression:"form.truckRegisterDate"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"车辆报废时间",prop:"truckScrapDate"}},[r("el-date-picker",{attrs:{align:"right",type:"date","picker-options":t.pickOption2,placeholder:"选择日期","value-format":"timestamp"},model:{value:t.form.truckScrapDate,callback:function(e){t.$set(t.form,"truckScrapDate",e)},expression:"form.truckScrapDate"}})],1),t._v(" "),r("el-form-item",{staticClass:"truckRemarks",attrs:{label:"备注",prop:"truckRemarks"}},[r("el-input",{attrs:{type:"textarea",maxlength:300},model:{value:t.form.truckRemarks,callback:function(e){t.$set(t.form,"truckRemarks",e)},expression:"form.truckRemarks"}})],1),t._v(" "),r("div",{staticClass:"hr"}),t._v(" "),r("el-form-item",{attrs:{label:"车辆单位",prop:"truckUnit"}},[r("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckUnit,callback:function(e){t.$set(t.form,"truckUnit",e)},expression:"form.truckUnit"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"单位电话",prop:"truckUnitMobile"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.truckUnitMobile,callback:function(e){t.$set(t.form,"truckUnitMobile",e)},expression:"form.truckUnitMobile"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"司机",prop:"driverId"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择司机",clearable:""},on:{change:t.getDriverPhone},model:{value:t.form.driverId,callback:function(e){t.$set(t.form,"driverId",e)},expression:"form.driverId"}},t._l(t.DriverList,function(e){return r("el-option",{key:e.id,attrs:{label:e.driverName,value:e.id}})}))],1),t._v(" "),r("el-form-item",{attrs:{label:"司机电话",prop:"dirverMobile"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:20,"auto-complete":"off",disabled:""},model:{value:t.form.dirverMobile,callback:function(e){t.$set(t.form,"dirverMobile",e)},expression:"form.dirverMobile"}})],1),t._v(" "),r("div",{staticClass:"hr"}),t._v(" "),r("el-form-item",{staticClass:"clearfix uploadcard"},[r("div",{staticClass:"idcard"},[r("upload",{attrs:{title:"行驶证"},model:{value:t.form.drivingLicense,callback:function(e){t.$set(t.form,"drivingLicense",e)},expression:"form.drivingLicense"}})],1),t._v(" "),r("div",{staticClass:"drviercard"},[r("upload",{attrs:{title:"营运执照"},model:{value:t.form.operatingLicense,callback:function(e){t.$set(t.form,"operatingLicense",e)},expression:"form.operatingLicense"}})],1),t._v(" "),r("div",{staticClass:"certcard"},[r("upload",{attrs:{title:"车辆照片"},model:{value:t.form.vehiclePic,callback:function(e){t.$set(t.form,"vehiclePic",e)},expression:"form.vehiclePic"}})],1)])],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保 存")]),t._v(" "),r("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=o},"0Q33":function(e,t){},"0Qo4":function(e,t){},"1IKb":function(e,t,r){"use strict";var o=r("Dd8w"),i=r.n(o),n=r("t5DY"),a=r("O85W"),s=r("ttFD"),l=r("xbwg"),c=r("DAQk"),u=r("ftoq"),f=r("FKPH"),d=r("5F+j"),m=r("bZax"),p=r("NYxO");t.a={components:{progressbar:a.default,NewOrg:s.default,Newrole:l.default,Newuser:c.default,AddCustomer:u.default,Newdriver:f.default,Newtruck:d.default,Newcarrier:m.default},data:function(){return{info:{},ischecked:!1,showAni:!1,cancelAni:!1,dataset:[],type:1,showani:!1,viewKey:0,addDoTotShow:!1,addDoTotShow1:!1,addDoTotShow2:!1,addDoTotShow3:!1,addDoTotShow4:!1,addDoTotShow5:!1,addDoTotShow6:!1,addDoTotShow7:!1,addDoTotVisible:!1,addDoTotVisible1:!1,addDoTotVisible2:!1,addDoTotVisible3:!1,addDoTotVisible4:!1,addDoTotVisible5:!1,addDoTotVisible6:!1,addDoTotVisible7:!1,addDoTotVisible8:!1,dialogVisible:!1,dialogVisiblePerson:!1,popVisible:!1,contTitle:[],flog:!1,disabled:!1,countList:[{value:0,label:"orgCount",title:"网点管理",message:"网点"+this.valueCount+"个",message1:"你还没有添加网点，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加"},{value:0,label:"userCount",title:"员工管理",message:"已经有"+this.valueCount+"位员工",message1:"你还没有添加员工，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加"},{value:0,label:"senderCustomerCount",title:"发货客户",message:"已经有"+this.valueCount+"位发货客户",message1:"你还没有添加发货客户，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加"},{value:0,label:"receiverCustomerCount",title:"收货客户",message:"已经有"+this.valueCount+"位收货客户",message1:"你还没有添加收货客户，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加"},{value:0,label:"driverCount",title:"司机管理",message:"已经有"+this.valueCount+"位司机",message1:"你还没有添加司机，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加"},{value:0,label:"truckCount",title:"车辆管理",message:"已经有"+this.valueCount+"部车辆",message1:"你还没有添加车辆，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加"},{value:0,label:"carrierCount",title:"承运商管理",message:"已经有"+this.valueCount+"个承运商",message1:"你还没有添加承运商，请点击右边添加按钮",message2:"需要增加点击右边增加按钮",button1:"增加",button2:"添加"},{value:0,label:"settingCount",title:"系统设置",message:"",message2:"打印机连接已连接，需要设置点击右边设置按钮",message1:"打印机连接还没连接，请点击右边设置按钮",button1:"设置",button2:"设置"},{value:0,label:"smsTemplateCount",title:"短信设置",message:"已经有"+this.valueCount+"个短信模板",message1:"你还没有维护短信模板，请点击右边设置按钮",message2:"需要设置点击右边设置按钮",button1:"设置",button2:"设置"}],contTitleNull:!1}},watch:{contTitle:function(){0===this.contTitle.length?this.contTitleNull=!1:this.contTitleNull=!0}},computed:i()({},Object(p.b)(["otherinfo"]),{iscompany:function(){return this.otherinfo.orgid===this.otherinfo.companyId}}),mounted:function(){var o=this;this.isParentOrg(),Object(n.d)().then(function(e){o.dataset=e;var t=0;for(var r in e)"roleCount"!==r&&0===e[r]&&"smsTemplateCount"!==r&&(o.iscompany?t++:"orgCount"!==r&&t++,console.log("---total",t,r,e[r])),console.log(e[r],r,"数量");o.flog=!(0<t),o.$set(o.dataset,"totals",t)})},methods:{isParentOrg:function(){return console.log("isParentOrg是否是总公司：",this.otherinfo.orgid===this.otherinfo.companyId),this.otherinfo.orgid===this.otherinfo.companyId},fetchData:function(e){"addUser"===e&&this.initSystem(),"addOrg"===e&&this.initSystem(),"addRole"===e&&this.initSystem(),"addReciveCustomer"===e&&this.initSystem(),"addSendCustomer"===e&&this.initSystem(),"addDiver"===e&&this.initSystem(),"addTruck"===e&&this.initSystem(),"addCarrier"===e&&this.initSystem(),"addSetting"===e&&this.initSystem()},closeAddDot:function(e){console.log(e),this.addDoTotVisible=!1,this.addDoTotVisible1=!1,this.addDoTotVisible2=!1,this.addDoTotVisible3=!1,this.addDoTotVisible4=!1,this.addDoTotVisible5=!1,this.addDoTotVisible6=!1,this.addDoTotVisible7=!1,this.addDoTotVisible8=!1,this.dialogVisible=!1,this.dialogVisiblePerson=!1,this.popVisible=!1},doAction:function(e){var t=this;switch(e){case"init":this.initSystem();break;case"check":if(this.cancelAni=!this.cancelAni,this.cancelAni)clearInterval(this.timer),console.log();else{var r=0,o=this.countList,i=this.countList.length,n=0,a=this;a.timer=setInterval(function(){t.contTitleNull=!0,r<i?(a.contTitle=o[n++].title,r++):(clearInterval(a.timer),r=0)},150)}break;case"agane":this.type=3,this.ischecked=!1,this.initSystem();break;case"order":this.$router.push({path:"../../operation/order/createOrder"});break;case"orgCount":this.addDriverShow?this.addDoTotVisible=!0:(this.addDoTotShow=!0,setTimeout(function(){t.addDoTotVisible=!0}));break;case"roleCount":this.addDriverShow1?this.addDoTotVisible1=!0:(this.addDoTotShow1=!0,setTimeout(function(){t.addDoTotVisible1=!0}));break;case"userCount":this.addDriverShow2?this.addDoTotVisible2=!0:(this.addDoTotShow2=!0,setTimeout(function(){t.addDoTotVisible2=!0}));break;case"senderCustomerCount":this.addDriverShow3?this.addDoTotVisible3=!0:(this.addDoTotShow3=!0,setTimeout(function(){t.addDoTotVisible3=!0}));break;case"receiverCustomerCount":this.addDriverShow4?this.addDoTotVisible4=!0:(this.addDoTotShow4=!0,setTimeout(function(){t.addDoTotVisible4=!0}));break;case"driverCount":this.addDriverShow5?this.addDoTotVisible5=!0:(this.addDoTotShow5=!0,setTimeout(function(){t.addDoTotVisible5=!0}));break;case"truckCount":this.addDriverShow6?this.addDoTotVisible6=!0:(this.addDoTotShow6=!0,setTimeout(function(){t.addDoTotVisible6=!0}));break;case"carrierCount":this.addDriverShow7?this.addDoTotVisible7=!0:(this.addDoTotShow7=!0,setTimeout(function(){t.addDoTotVisible7=!0}));break;case"settingCount":this.$router.push({path:"../../company/systemSetup"});break;case"smsTemplateCount":this.$router.push({path:"../../company/smsManage/customized"})}},changeTitle:function(e){console.log(e+"uuuuu"),this.initSystem()},initSystem:function(){var c=this;this.viewKey=(new Date).getTime(),this.type=2,this.dataset={},this.countList=this.$options.data().countList,Object(n.d)().then(function(e){for(var t in c.showani=!0,c.dataset=e,c.countList)c.countList[t].value=e[c.countList[t].label],c.countList[t].message=c.countList[t].message.replace(/undefined/,String(c.countList[t].value));var r=0;for(var o in e)"roleCount"!==o&&0===e[o]&&r++;var i=0,n=c.countList,a=c.countList.length,s=0,l=c;l.timer=setInterval(function(){i<a?(l.contTitle=n[s++].title,i++):(clearInterval(l.timer),i=0)},150),c.$set(c.dataset,"totals",r)})},checkSystem:function(){this.viewKey=Math.random(),this.type=1}}}},"1Y2G":function(e,i,t){var n=t("oLzS"),a=t("Sd0T"),s=t("utyv"),l=t("uF9H"),c=t("yYhy"),u=t("Dsid"),r=n.getBCHDigit(7973);function f(e,t){return l.getCharCountIndicator(e,t)+4}function d(e,r){var o=0;return e.forEach(function(e){var t=f(e.mode,r);o+=t+e.getBitsLength()}),o}i.from=function(e,t){return c.isValid(e)?parseInt(e,10):t},i.getCapacity=function(e,t,r){if(!c.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=l.BYTE);var o=8*(n.getSymbolTotalCodewords(e)-a.getTotalCodewordsCount(e,t));if(r===l.MIXED)return o;var i=o-f(r,e);switch(r){case l.NUMERIC:return Math.floor(i/10*3);case l.ALPHANUMERIC:return Math.floor(i/11*2);case l.KANJI:return Math.floor(i/13);case l.BYTE:default:return Math.floor(i/8)}},i.getBestVersionForData=function(e,t){var r,o=s.from(t,s.M);if(u(e)){if(1<e.length)return function(e,t){for(var r=1;r<=40;r++)if(d(e,r)<=i.getCapacity(r,t,l.MIXED))return r}(e,o);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,t,r){for(var o=1;o<=40;o++)if(t<=i.getCapacity(o,r,e))return o}(r.mode,r.getLength(),o)},i.getEncodedBits=function(e){if(!c.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=n.getBCHDigit(t)-r;)t^=7973<<n.getBCHDigit(t)-r;return e<<12|t}},"5CI6":function(e,t,r){"use strict";t.e=function(e){return i.b.post("/api-system/system/role/v1/",e).then(function(e){return e.data?e.data:{}})},t.f=function(e){return i.b.put("/api-system/system/role/v1/",e).then(function(e){return e.data?e.data:{}})},t.a=function(e){return i.b.delete("/api-system/system/role/v1/"+e).then(function(e){return e.data?e.data:{}})},t.b=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100;return i.b.post("/api-system/system/role/v1/findAllInfo",{currentPage:r,pageSize:o,vo:{orgid:e,rolesName:t}}).then(function(e){return e.data||{total:0,list:[]}})},t.d=function(e){return i.b.get("/api-system/system/menu/v1/menuTree/",{params:{role_id:e||0}}).then(function(e){return e.data||[]})},t.c=function(e){return Object(o.e)("menu_type",e)};var i=r("Vo7i"),o=r("t5DY")},"5F+j":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("voDd"),i=r("/v6R");var n=function(e){r("sNUZ")},a=r("VU/8")(o.a,i.a,n,null,null);t.default=a.exports},"71e1":function(e,t,r){var c=r("mwnW"),u=r("WEzc"),o=r("9ff9"),i=r("729m");function n(o,i,n,a,t){var e=[].slice.call(arguments,1),r=e.length,s="function"==typeof e[r-1];if(!s&&!c())throw new Error("Callback required as last argument");if(!s){if(r<1)throw new Error("Too few arguments provided");return 1===r?(n=i,i=a=void 0):2!==r||i.getContext||(a=n,n=i,i=void 0),new Promise(function(e,t){try{var r=u.create(n,a);e(o(r,i,a))}catch(e){t(e)}})}if(r<2)throw new Error("Too few arguments provided");2===r?(t=n,n=i,i=a=void 0):3===r&&(i.getContext&&void 0===t?(t=a,a=void 0):(t=a,a=n,n=i,i=void 0));try{var l=u.create(n,a);t(null,o(l,i,a))}catch(e){t(e)}}t.create=u.create,t.toCanvas=n.bind(null,o.render),t.toDataURL=n.bind(null,o.renderToDataURL),t.toString=n.bind(null,function(e,t,r){return i.render(e,r)})},"729m":function(e,t,r){var f=r("nwDn");function d(e,t){var r=e.a/255,o=t+'="'+e.hex+'"';return r<1?o+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':o}function m(e,t,r){var o=e+t;return void 0!==r&&(o+=" "+r),o}t.render=function(e,t,r){var o=f.getOptions(t),i=e.modules.size,n=e.modules.data,a=i+2*o.margin,s=o.color.light.a?"<path "+d(o.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+d(o.color.dark,"stroke")+' d="'+function(e,t,r){for(var o="",i=0,n=!1,a=0,s=0;s<e.length;s++){var l=Math.floor(s%t),c=Math.floor(s/t);l||n||(n=!0),e[s]?(a++,0<s&&0<l&&e[s-1]||(o+=n?m("M",l+r,.5+c+r):m("m",i,0),i=0,n=!1),l+1<t&&e[s+1]||(o+=m("h",a),a=0)):i++}return o}(n,i,o.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+c+' shape-rendering="crispEdges">'+s+l+"</svg>";return"function"==typeof r&&r(null,u),u}},"8Hxk":function(e,t){},"9ff9":function(e,s,t){var u=t("nwDn");s.render=function(e,t,r){var o=r,i=t;void 0!==o||t&&t.getContext||(o=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),o=u.getOptions(o);var n,a,s=u.getImageWidth(e.modules.size,o),l=i.getContext("2d"),c=l.createImageData(s,s);return u.qrToImageData(c.data,e,o),n=i,a=s,l.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=a,n.width=a,n.style.height=a+"px",n.style.width=a+"px",l.putImageData(c,0,0),i},s.renderToDataURL=function(e,t,r){var o=r;void 0!==o||t&&t.getContext||(o=t,t=void 0),o||(o={});var i=s.render(e,t,o),n=o.type||"image/png",a=o.rendererOpts||{};return i.toDataURL(n,a.quality)}},"9jEu":function(e,a,t){var s=t("oLzS").getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,r=s(e),o=145===r?26:2*Math.ceil((r-13)/(2*t-2)),i=[r-7],n=1;n<t-1;n++)i[n]=i[n-1]-o;return i.push(6),i.reverse()},a.getPositions=function(e){for(var t=[],r=a.getRowColCoords(e),o=r.length,i=0;i<o;i++)for(var n=0;n<o;n++)0===i&&0===n||0===i&&n===o-1||i===o-1&&0===n||t.push([r[i],r[n]]);return t}},"9l6W":function(e,t,r){"use strict";var o=r("woOf"),n=r.n(o),i=r("Dd8w"),a=r.n(i),s=r("E4LH"),l=r("9ani"),c=r("P5Di"),u=r("QbVN"),f=r("o9X6"),d=r("9UCZ"),m=r("NYxO");t.a={components:{popRight:c.a,Upload:u.a,SelectTree:f.a,SelectType:d.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},info:{type:Object,default:function(){}},licenseTypes:{type:Array,default:function(){return[]}}},computed:a()({},Object(m.b)(["otherinfo"])),data:function(){return{form:{bankCardNumber:"",bankName:"",certification:"",driverAddress:"",driverCardid:"",driverMobile:"",driverName:"",driverRemarks:"",drivingPicture:"",idcardPicture:"",licenseType:"",licenseTypeName:"",openBank:"",validityDate:"",orgid:0},formLabelWidth:"100px",tooltip:!1,rules:{driverName:[{required:!0,message:"请输入司机名称"}],orgid:[{required:!0,message:"请选择所属机构"}],driverMobile:[{required:!0,message:"请输入11位手机号码",pattern:s.a.MOBILE}],driverCardid:[{pattern:s.a.ONLY_NUMBER_AND_LETTER,message:"身份证号码只能输入字母和数字"}]},popTitle:"新增司机",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,pickOption2:{firstDayOfWeek:1,disabledDate:function(e){return e.getTime()<Date.now()}}}},mounted:function(){this.form.orgid=this.orgid,this.inited||(this.inited=!0,this.initInfo())},watch:{popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo())},orgid:function(e){this.form.orgid=e},info:function(){if(this.isModify){this.popTitle="修改司机";var e=n()({},this.info);for(var t in this.form)this.form[t]=e[t];this.form.validityDate&&(this.form.validityDate=+new Date(this.form.validityDate)),this.form.id=e.id}else{for(var r in this.popTitle="新增司机",this.form)this.form[r]="";delete this.form.id,this.form.orgid=this.orgid}}},methods:{initInfo:function(){this.loading=!1},getOrgid:function(e){this.form.orgid=e},submitForm:function(e,o){var i=this;this.$refs[e].validate(function(e){if(!e)return!1;i.loading=!0;var t=n()({},i.form);t.fixPhone=i.fixPhone;var r=void 0;console.log(i.isModify),i.isModify?r=Object(l.e)(t):i.isModify||(r=Object(l.d)(t)),r.then(function(e){i.loading=!1,i.$message.success("保存成功"),i.reset(),o||i.closeMe(),i.$emit("success")}).catch(function(e){i._handlerCatchMsg(e),i.loading=!1})})},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),this.form.driverMobile="",this.form.idcardPicture="",this.form.drivingPicture="",this.form.certification="",this.form.orgid=e},closeMe:function(e){this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},ABFs:function(e,t,r){"use strict";var o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"add-dot"},[r("pop-right",{staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[r("template",{staticClass:"addEmployeerPop-content",slot:"content"},[t.companyId===t.form.id?r("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[r("el-form-item",{attrs:{label:"公司名称","label-width":t.formLabelWidth,prop:"orgName"}},[r("el-input",{attrs:{"auto-complete":"off",disabled:t.companyId===t.form.id||31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"网点类型","label-width":t.formLabelWidth}},[r("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.companyId===t.form.id||31===t.form.status},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"公司状态","label-width":t.formLabelWidth,disabled:"disabled"}},[r("el-select",{attrs:{disabled:!(!t.isModify&&t.companyId===t.form.id||31===t.form.status)},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[r("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),r("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"公司代码","label-width":t.formLabelWidth,prop:"networkCode"}},[r("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status||t.companyId===t.form.id,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[r("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[r("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[r("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[r("el-input",{attrs:{"auto-complete":"off",maxlength:11,disabled:31===t.form.status},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"所在城市","label-width":t.formLabelWidth,prop:"city"}},[r("querySelect",{attrs:{filterable:"",show:"select",search:"longAddr",valuekey:"longAddr",disabled:t.companyId===t.form.id||31===t.form.status,type:"city",remote:!0,clearable:""},on:{change:t.getCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth}},[r("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:50},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1)],1):r("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[r("el-form-item",{attrs:{label:"网点名称","label-width":t.formLabelWidth,prop:"orgName"}},[r("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"网点类型","label-width":t.formLabelWidth}},[r("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.isModify},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"网点状态","label-width":t.formLabelWidth,disabled:"disabled"}},[r("el-select",{attrs:{disabled:!t.isModify},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[r("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),r("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"上级网点","label-width":t.formLabelWidth}},[r("SelectTree",{attrs:{disabled:t.isModify||31===t.form.status,orgid:t.form.parentId||t.otherinfo.orgid},on:{change:t.canadd},model:{value:t.form.parentId,callback:function(e){t.$set(t.form,"parentId",e)},expression:"form.parentId"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"经营类型","label-width":t.formLabelWidth}},[r("el-select",{attrs:{disabled:31===t.form.status},model:{value:t.form.manageType,callback:function(e){t.$set(t.form,"manageType",e)},expression:"form.manageType"}},[r("el-option",{attrs:{label:"自营",value:3}}),t._v(" "),r("el-option",{attrs:{label:"加盟",value:4}})],1)],1),t._v(" "),t.isModify?r("el-form-item",{attrs:{label:"创建时间","label-width":t.formLabelWidth}},[r("el-input",{attrs:{value:t._f("parseTime")(t.form.createTime,"{y}/{m}/{d}"),disabled:t.isModify||31===t.form.status}})],1):t._e(),t._v(" "),r("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[r("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[r("el-input",{attrs:{maxlength:11,"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"所在城市","label-width":t.formLabelWidth,prop:"city"}},[r("querySelect",{attrs:{filterable:"",show:"select",search:"longAddr",valuekey:"longAddr",disabled:31===t.form.status,type:"city",remote:!0,clearable:""},on:{change:t.getCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[r("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[r("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:11},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth}},[r("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:30},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"网点代码","label-width":t.formLabelWidth,prop:"networkCode"}},[r("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"代收款限额","label-width":t.formLabelWidth,prop:""}},[r("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.collectionFee,callback:function(e){t.$set(t.form,"collectionFee",e)},expression:"form.collectionFee"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"提现基准","label-width":t.formLabelWidth,prop:""}},[r("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:9},model:{value:t.form.benchmark,callback:function(e){t.$set(t.form,"benchmark",e)},expression:"form.benchmark"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"预警额度","label-width":t.formLabelWidth,prop:""}},[r("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.warningQuota,callback:function(e){t.$set(t.form,"warningQuota",e)},expression:"form.warningQuota"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"锁机额度","label-width":t.formLabelWidth,prop:""}},[r("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.lockMachineQuota,callback:function(e){t.$set(t.form,"lockMachineQuota",e)},expression:"form.lockMachineQuota"}})],1),t._v(" "),t.isModify?t._e():r("div",{staticClass:"ad-add-dot"},[r("el-checkbox",{attrs:{checked:""},model:{value:t.form.accountStatus,callback:function(e){t.$set(t.form,"accountStatus",e)},expression:"form.accountStatus"}},[t._v("开通管理员账号")]),t._v(" "),r("p",[t._v(" 密码：123456")])],1),t._v(" "),t.form.accountStatus&&!t.isModify?r("el-form-item",{attrs:{"label-width":t.formLabelWidth,prop:"accountName"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip,tabindex:"-1"}},[r("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由字母、数字组成"),r("br"),t._v("长度范围2~15个字符")]),t._v(" "),r("el-input",{attrs:{"auto-complete":"off"},on:{focus:function(e){t.tooltip=!0},blur:function(e){t.tooltip=!1}},model:{value:t.form.accountName,callback:function(e){t.$set(t.form,"accountName","string"==typeof e?e.trim():e)},expression:"form.accountName"}})],1)],1):t._e(),t._v(" "),r("div",{staticClass:"rem-add-dot"},[r("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth,prop:""}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"不可超300字","auto-complete":"off",maxlength:300},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1),t._v(" "),t.companyId!==t.form.id?r("div",{staticClass:"spanDiv"},[r("span",[t._v("元")]),t._v(" "),r("span",[t._v("元")]),t._v(" "),t.isModify?r("span",{staticClass:"span-hidden"},[t._v("元")]):t._e(),t._v(" "),t.isModify?t._e():r("span",{staticClass:"span-last"},[t._v("元")])]):t._e()],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保存")]),t._v(" "),r("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)],1)},staticRenderFns:[]};t.a=o},AfEI:function(e,t,r){"use strict";var o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addDriverPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[r("template",{staticClass:"addDriverPop-content",slot:"content"},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":t.formLabelWidth,inline:!0,"label-position":"right",size:"mini"}},[r("el-form-item",{attrs:{label:"司机姓名",prop:"driverName"}},[r("el-input",{attrs:{maxlength:10,"auto-complete":"off"},model:{value:t.form.driverName,callback:function(e){t.$set(t.form,"driverName","string"==typeof e?e.trim():e)},expression:"form.driverName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"手机号码",prop:"driverMobile"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.driverMobile,callback:function(e){t.$set(t.form,"driverMobile",e)},expression:"form.driverMobile"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"归属网点",prop:"orgid"}},[r("SelectTree",{attrs:{orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"身份证号",prop:"driverCardid"}},[r("el-input",{attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.driverCardid,callback:function(e){t.$set(t.form,"driverCardid",e)},expression:"form.driverCardid"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"驾驶证类型",prop:"licenseType"}},[r("SelectType",{attrs:{type:"driving_type",placeholder:"驾驶证类型"},model:{value:t.form.licenseType,callback:function(e){t.$set(t.form,"licenseType",e)},expression:"form.licenseType"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"驾驶证有效期",prop:"validityDate"}},[r("el-date-picker",{attrs:{align:"right",type:"date","picker-options":t.pickOption2,placeholder:"选择日期","value-format":"timestamp"},model:{value:t.form.validityDate,callback:function(e){t.$set(t.form,"validityDate",e)},expression:"form.validityDate"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"银行卡号",prop:"bankCardNumber"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.bankCardNumber,callback:function(e){t.$set(t.form,"bankCardNumber",e)},expression:"form.bankCardNumber"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[r("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.bankName,callback:function(e){t.$set(t.form,"bankName",e)},expression:"form.bankName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"开户行",prop:"openBank"}},[r("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.openBank,callback:function(e){t.$set(t.form,"openBank",e)},expression:"form.openBank"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"司机地址",prop:"driverAddress"}},[r("el-input",{attrs:{maxlength:50,"auto-complete":"off"},model:{value:t.form.driverAddress,callback:function(e){t.$set(t.form,"driverAddress",e)},expression:"form.driverAddress"}})],1),t._v(" "),r("el-form-item",{staticClass:"driverRemarks",attrs:{label:"备注",prop:"driverRemarks"}},[r("el-input",{attrs:{type:"textarea",maxlength:300},model:{value:t.form.driverRemarks,callback:function(e){t.$set(t.form,"driverRemarks","string"==typeof e?e.trim():e)},expression:"form.driverRemarks"}})],1),t._v(" "),r("el-form-item",{staticClass:"clearfix uploadcard"},[r("div",{staticClass:"idcard"},[r("upload",{attrs:{title:"身份证"},model:{value:t.form.idcardPicture,callback:function(e){t.$set(t.form,"idcardPicture",e)},expression:"form.idcardPicture"}})],1),t._v(" "),r("div",{staticClass:"drviercard"},[r("upload",{attrs:{title:"驾驶证"},model:{value:t.form.drivingPicture,callback:function(e){t.$set(t.form,"drivingPicture",e)},expression:"form.drivingPicture"}})],1),t._v(" "),r("div",{staticClass:"certcard"},[r("upload",{attrs:{title:"从业资格证"},model:{value:t.form.certification,callback:function(e){t.$set(t.form,"certification",e)},expression:"form.certification"}})],1)])],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并新增")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保 存")]),t._v(" "),r("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=o},DAQk:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("wO8r"),i=r("Q5/P");var n=function(e){r("whtI")},a=r("VU/8")(o.a,i.a,n,null,null);t.default=a.exports},DEuz:function(e,t){function r(){this.buffer=[],this.length=0}r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=r},Dsid:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},EPeO:function(e,t,r){"use strict";var o=r("//Fk"),a=r.n(o),i=r("mvHQ"),n=r.n(i),s=r("t5DY"),l=r("0xDb"),c=r("71e1"),u=r.n(c);t.a={name:"singleImageUpload",props:{value:[String,Array],title:{type:String,default:""},tip:{type:String,default:"（jpg/png。小于5M）"},size:{type:String,default:"mini"},showFileList:{type:Boolean,default:!1},limit:{type:Number,default:1},listtype:{type:String,default:"picture",enum:["text","picture","picture-card"]},disabled:{type:Boolean,default:!1},twocode:{type:Boolean,default:!1}},computed:{imageUrl:function(){return this.value}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""},upload:{key:"",policy:"",OSSAccessKeyId:"",success_action_status:"201",signature:""},uploadUrl:"",dir:"",filelist:[],showtc:!1,showtwocdetip:!0,twocodeurl:""}},watch:{showtc:function(){this.showtc?this.changeTwocode():clearInterval(this.uptimer)},value:{handler:function(e){if(this.showFileList){var t=Array.isArray(e)?e:e?e.split(","):[];t=t.filter(function(e){return e}),this.filelist=[],this.filelist=t.map(function(e){var t={};return t.url=e,t})}else this.filelist=e?[e]:[]},immediate:!0}},mounted:function(){this.init()},updated:function(){console.log("single image updated~~~")},beforeDestroy:function(){console.log("beforeDestroy"),clearInterval(this.uptimer)},methods:{init:function(){var t=this;return Object(s.j)().then(function(e){t.upload.OSSAccessKeyId=e.accessid,t.upload.policy=e.policy,t.upload.signature=e.signature,t.uploadUrl=e.host,t.dir=e.dir}).catch(function(){})},rmImage:function(t){this.filelist=this.filelist.filter(function(e){return e.url!==t}),this.emitInput(""),this.showtc=!1},onexceed:function(e,t){this.$message.error("最多上传 "+this.limit+" 张!")},handleRemove:function(e,t){console.log("handleRemove:",e,t),this.filelist=t,this.emitInput()},random_string:function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",r=t.length,o="",i=0;i<e;i++)o+=t.charAt(Math.floor(Math.random()*r));return o},emitInput:function(e){e&&this.filelist.push({url:e}),this.$emit("input",this.showFileList?this.filelist.map(function(e){return e.url}).join(","):e)},handleImageScucess:function(e){var t="";-1!==e.indexOf("Location")&&(t=(t=e.match(/<Location>([^<]+)<\/Location>/m))?t[1]:""),this.emitInput(t)},handleError:function(e){this.$message.error("上传错误："+n()(e)),this.$emit("error",e)},beforeUpload:function(e){var r=this,o=/image\/\w+/.test(e.type)&&/(jpe?g|png)/i.test(e.type),i=e.size/1024/1024<5,n=e.name.match(/([^\.]+)$/);return n=n?"."+n[1]:"",new a.a(function(t,e){o?i?r.init().then(function(e){r.upload.key=r.dir+Object(l.parseTime)(new Date,"{y}{m}{d}")+"/"+r.random_string()+n,t(!0)}).catch(function(e){r._handlerCatchMsg(e),t(!1)}):(r.$message.error("上传头像图片大小不能超过 5MB!"),e(!1)):(r.$message.error("上传头像图片只能是 JPG/PNG 格式!"),e(!1))})},changeTwocode:function(){var r=this;clearInterval(this.uptimer),Object(s.h)().then(function(e){r.upid=e.data,r.startFetchData();var t="http://"+location.host+"/static/upload.html?len=1&access_token="+r.access_token+"&id="+e.data+"&url="+(window.tms_testapiurl||"");console.log("url:",t),u.a.toDataURL(t,{rendererOpts:{margin:0}}).then(function(e){r.twocodeurl=e})}).catch(function(e){r.$message.error("生成二维码出错了~")})},startFetchData:function(){var r=this;clearInterval(this.uptimer);var e=0;this.uptimer=setInterval(function(){if(57e4<(e+=5e3))return r.$message.info("二维码过期了，已重新生成~"),r.changeTwocode(),!1;Object(s.i)(r.upid).then(function(e){var t=e.data;t&&t.id===r.upid&&t.url&&(clearInterval(r.uptimer),r.showtc=!1,r.emitInput(decodeURIComponent(t.url)))}).catch(function(e){r.$message.info("二维码过期了，请重新扫描上传~")})},5e3)}}}},FKPH:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("9l6W"),i=r("AfEI");var n=function(e){r("grrk")},a=r("VU/8")(o.a,i.a,n,null,null);t.default=a.exports},Ftci:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("1IKb"),i=r("pMJc");var n=function(e){r("NOu1")},a=r("VU/8")(o.a,i.a,n,null,null);t.default=a.exports},LaJi:function(e,t){},NOu1:function(e,t){},NV47:function(e,t,r){var o=r("jF+B"),i=new o(512),n=new o(256);!function(){for(var e=1,t=0;t<255;t++)i[t]=e,n[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)i[t]=i[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[n[e]+n[t]]}},"NY/E":function(e,t){var r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",o="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+").)+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(o,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+r+"$"),n=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return n.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},O85W:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("rAXf"),i=r("jp/2");var n=function(e){r("ttyY")},a=r("VU/8")(o.a,i.a,n,null,null);t.default=a.exports},"Q5/P":function(e,t,r){"use strict";var o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[r("template",{staticClass:"addEmployeerPop-content",slot:"content"},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[r("el-form-item",{attrs:{label:"用户姓名","label-width":t.formLabelWidth,prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"手机号码","label-width":t.formLabelWidth,prop:"mobilephone"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.mobilephone,callback:function(e){t.$set(t.form,"mobilephone",e)},expression:"form.mobilephone"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"登录账号","label-width":t.formLabelWidth,prop:"username"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip,tabindex:"-1"}},[r("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由字母、数字组成"),r("br"),t._v("长度范围2~15个字符")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.username,expression:"form.username",modifiers:{trim:!0}},{name:"onlyNumberAndLetter",rawName:"v-onlyNumberAndLetter"}],staticClass:"nativeinput",attrs:{type:"text","auto-complete":"off",maxlength:"15"},domProps:{value:t.form.username},on:{focus:function(e){t.tooltip=!0},blur:[function(e){t.tooltip=!1},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value.trim())}}})])],1),t._v(" "),r("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth,prop:"password"}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.password,expression:"form.password",modifiers:{trim:!0}},{name:"onlyNumberAndLetter",rawName:"v-onlyNumberAndLetter"}],staticClass:"nativeinput",attrs:{type:"text",maxlength:"15","auto-complete":"off"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),r("el-form-item",{attrs:{label:"职位","label-width":t.formLabelWidth,prop:"position"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"员工号","label-width":t.formLabelWidth,prop:"jobNumber"}},[r("el-input",{attrs:{"auto-complete":"off",maxlength:20},model:{value:t.form.jobNumber,callback:function(e){t.$set(t.form,"jobNumber",e)},expression:"form.jobNumber"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"sexFlag","label-width":t.formLabelWidth}},[r("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.form.sexFlag,callback:function(e){t.$set(t.form,"sexFlag",e)},expression:"form.sexFlag"}},[r("el-option",{attrs:{label:"男",value:"0"}}),t._v(" "),r("el-option",{attrs:{label:"女",value:"1"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{required:"",prop:"orgid",label:"归属网点","label-width":t.formLabelWidth}},[r("SelectTree",{attrs:{filterable:"",orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"权限角色","label-width":t.formLabelWidth,prop:"rolesId"}},[r("el-select",{attrs:{"collapse-tags":"",filterable:"",multiple:"","filter-method":t.makefilter,placeholder:"请选择权限"},model:{value:t.form.rolesId,callback:function(e){t.$set(t.form,"rolesId",e)},expression:"form.rolesId"}},t._l(t.roleslist,function(e){return r("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}},[r("span",{staticClass:"query-input-myautocomplete",domProps:{innerHTML:t._s(t.highLight(e,"roleName"))}})])}))],1),t._v(" "),r("el-form-item",{attrs:{label:"归属部门","label-width":t.formLabelWidth,prop:"departmentId"}},[r("SelectType",{attrs:{orgid:t.otherinfo.orgid,type:"department_type",filterable:"",placeholder:"请选择部门"},model:{value:t.form.departmentId,callback:function(e){t.$set(t.form,"departmentId",e)},expression:"form.departmentId"}})],1)],1),t._v(" "),t.isModify?t._e():r("div",{staticClass:"info"},[t._v("注：密码默认为：123456")])],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("确 定")]),t._v(" "),r("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=o},QbVN:function(e,t,r){"use strict";var o=r("EPeO"),i=r("jxZV");var n=function(e){r("0Q33"),r("xU5l")},a=r("VU/8")(o.a,i.a,n,"data-v-de7091b2",null);t.a=a.exports},RO0P:function(e,t,r){var o=r("uF9H"),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(e){this.mode=o.ALPHANUMERIC,this.data=e}n.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=n},RY9c:function(e,t,r){var o=r("jF+B");function i(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new o(e*e),this.data.fill(0),this.reservedBit=new o(e*e),this.reservedBit.fill(0)}i.prototype.set=function(e,t,r,o){var i=e*this.size+t;this.data[i]=r,o&&(this.reservedBit[i]=!0)},i.prototype.get=function(e,t){return this.data[e*this.size+t]},i.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},i.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=i},Sd0T:function(e,t,r){var o=r("utyv"),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case o.L:return i[4*(e-1)+0];case o.M:return i[4*(e-1)+1];case o.Q:return i[4*(e-1)+2];case o.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case o.L:return n[4*(e-1)+0];case o.M:return n[4*(e-1)+1];case o.Q:return n[4*(e-1)+2];case o.H:return n[4*(e-1)+3];default:return}}},TyhB:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABOklEQVQ4T8WTsUoDURBF77xNRAt3U6QQIRCFNPoL7ib+gHWIICSktrEQa2PhFwgib0VEBE1rFSGYhTTxD0TExkb0uRol8e2OJJWgyQohONUUM4c7lzuEEYtG3Mf4AbkTPxl0eBvMMWNSbNUL5uN31UMVOEcfcwg6l2DcgUgDSIu0uVBf7vf9GgjIuW8zIXSLGTuNUmKvN2y76pwhLryiKSMBtlS7AMU10b7BYdcrJW5t+XIKUK1RMg8GAhz5noLBSQ4+8z0AEVoA8ixQoRDHkSfYUtVJ0Jlgoxog8B5ezcXZaV+JeDyjqdv2VhPPQ020pWrrkFLNsvXUG3QO/Q0wZ6+K1spvmflhou2qGhjXIVsVg/xNBoo6RLZZtm7+BFiSal4QqgAyzFTj2MS6tzZ1Pyix409i1K/8v4IvMT9zEV3+DDMAAAAASUVORK5CYII="},WEzc:function(e,t,r){var x=r("jF+B"),C=r("oLzS"),n=r("utyv"),s=r("DEuz"),f=r("RY9c"),d=r("9jEu"),m=r("YamF"),p=r("ljsv"),N=r("Sd0T"),A=r("wBZN"),h=r("1Y2G"),l=r("xR/K"),c=r("uF9H"),g=r("nyx9"),v=r("Dsid");function b(e,t,r){var o,i,n=e.size,a=l.getEncodedBits(t,r);for(o=0;o<15;o++)i=1==(a>>o&1),o<6?e.set(o,8,i,!0):o<8?e.set(o+1,8,i,!0):e.set(n-15+o,8,i,!0),o<8?e.set(8,n-o-1,i,!0):o<9?e.set(8,15-o-1+1,i,!0):e.set(8,15-o-1,i,!0);e.set(n-8,8,1,!0)}function y(t,e,r){var o=new s;r.forEach(function(e){o.put(e.mode.bit,4),o.put(e.getLength(),c.getCharCountIndicator(e.mode,t)),e.write(o)});var i=8*(C.getSymbolTotalCodewords(t)-N.getTotalCodewordsCount(t,e));for(o.getLengthInBits()+4<=i&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var n=(i-o.getLengthInBits())/8,a=0;a<n;a++)o.put(a%2?17:236,8);return function(e,t,r){for(var o=C.getSymbolTotalCodewords(t),i=N.getTotalCodewordsCount(t,r),n=o-i,a=N.getBlocksCount(t,r),s=a-o%a,l=Math.floor(o/a),c=Math.floor(n/a),u=c+1,f=l-c,d=new A(f),m=0,p=new Array(a),h=new Array(a),g=0,v=new x(e.buffer),b=0;b<a;b++){var y=b<s?c:u;p[b]=v.slice(m,m+y),h[b]=d.encode(p[b]),m+=y,g=Math.max(g,y)}var k,w,_=new x(o),T=0;for(k=0;k<g;k++)for(w=0;w<a;w++)k<p[w].length&&(_[T++]=p[w][k]);for(k=0;k<f;k++)for(w=0;w<a;w++)_[T++]=h[w][k];return _}(o,t,e)}function a(e,t,r,o){var i;if(v(e))i=g.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var n=t;if(!n){var a=g.rawSplit(e);n=h.getBestVersionForData(a,r)}i=g.fromString(e,n||40)}var s=h.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;var l=y(t,r,i),c=C.getSymbolSize(t),u=new f(c);return function(e,t){for(var r=e.size,o=m.getPositions(t),i=0;i<o.length;i++)for(var n=o[i][0],a=o[i][1],s=-1;s<=7;s++)if(!(n+s<=-1||r<=n+s))for(var l=-1;l<=7;l++)a+l<=-1||r<=a+l||(0<=s&&s<=6&&(0===l||6===l)||0<=l&&l<=6&&(0===s||6===s)||2<=s&&s<=4&&2<=l&&l<=4?e.set(n+s,a+l,!0,!0):e.set(n+s,a+l,!1,!0))}(u,t),function(e){for(var t=e.size,r=8;r<t-8;r++){var o=r%2==0;e.set(r,6,o,!0),e.set(6,r,o,!0)}}(u),function(e,t){for(var r=d.getPositions(t),o=0;o<r.length;o++)for(var i=r[o][0],n=r[o][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(i+a,n+s,!0,!0):e.set(i+a,n+s,!1,!0)}(u,t),b(u,r,0),7<=t&&function(e,t){for(var r,o,i,n=e.size,a=h.getEncodedBits(t),s=0;s<18;s++)r=Math.floor(s/3),o=s%3+n-8-3,i=1==(a>>s&1),e.set(r,o,i,!0),e.set(o,r,i,!0)}(u,t),function(e,t){for(var r=e.size,o=-1,i=r-1,n=7,a=0,s=r-1;0<s;s-=2)for(6===s&&s--;;){for(var l=0;l<2;l++)if(!e.isReserved(i,s-l)){var c=!1;a<t.length&&(c=1==(t[a]>>>n&1)),e.set(i,s-l,c),-1==--n&&(a++,n=7)}if((i+=o)<0||r<=i){i-=o,o=-o;break}}}(u,l),isNaN(o)&&(o=p.getBestMask(u,b.bind(null,u,r))),p.applyMask(o,u),b(u,r,o),{modules:u,version:t,errorCorrectionLevel:r,maskPattern:o,segments:i}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var r,o,i=n.M;return void 0!==t&&(i=n.from(t.errorCorrectionLevel,n.M),r=h.from(t.version),o=p.from(t.maskPattern),t.toSJISFunc&&C.setToSJISFunction(t.toSJISFunc)),a(e,r,i,o)}},X0RI:function(e,o,t){var a=t("jF+B"),s=t("NV47");o.mul=function(e,t){var r=new a(e.length+t.length-1);r.fill(0);for(var o=0;o<e.length;o++)for(var i=0;i<t.length;i++)r[o+i]^=s.mul(e[o],t[i]);return r},o.mod=function(e,t){for(var r=new a(e);0<=r.length-t.length;){for(var o=r[0],i=0;i<t.length;i++)r[i]^=s.mul(t[i],o);for(var n=0;n<r.length&&0===r[n];)n++;r=r.slice(n)}return r},o.generateECPolynomial=function(e){for(var t=new a([1]),r=0;r<e;r++)t=o.mul(t,[1,s.exp(r)]);return t}},XCyX:function(e,t,r){"use strict";var o=r("woOf"),i=r.n(o),n=r("P5Di"),a=r("5CI6"),s=r("0xDb");t.a={components:{popRight:n.a},props:{popVisible:{type:Boolean,default:!1},isModify:{type:Boolean,default:!1},reference:{type:Boolean,default:!1},dotInfo:Array,theUser:Object,createrId:[Number,String]},watch:{dotInfo:function(e){this.treeData=this.dotInfo,this.$refs.tree.setCheckedKeys(function t(e){var r=[];return e.map(function(e){e.isSelected?r.push(e.id):e.children&&(r=r.concat(t(e.children)))}),r}(this.treeData))},theUser:function(e){this.isModify&&(this.popTitle="修改角色",this.formInline=Object(s.objectMerge2)(this.theUser||{}),this.$refs.tree.setCheckedKeys(this.formInline.menusId)),this.reference?(this.formInline.menusId=this.theUser.id,this.$refs.tree.setCheckedKeys(this.formInline.menusId)):(this.popTitle="新增角色",this.result()),this.roleKey=Math.random()},reference:function(){this.reference&&(this.formInline={roleName:"",remark:"",menusId:this.theUser.id,createrId:this.createrId},this.popTitle="新增角色")}},computed:{isShow:{get:function(){return this.popVisible},set:function(){}}},data:function(){return{rules:{roleName:[{required:!0,message:"请输入角色名称",validator:function(e,t,r){if(!t)return r(new Error("请输入角色名称"));r()},trigger:"blur"},{max:12,message:"最多可输入12个字符"}],remarks:[{validator:function(e,t,r){r()},trigger:"blur"},{max:250,message:"最多可输入250个字符",trigger:"blur"}]},roleKey:"",treeData:[],defaultProps:{children:"children",label:"name"},formInline:{roleName:"",remark:"",menusId:[],createrId:this.createrId},popTitle:"新增角色",loading:!1}},mounted:function(){},methods:{newInfoData:function(){this.formInline={roleName:"",remark:"",menusId:"",createrId:this.createrId}},result:function(){this.newInfoData(),this.roleKey=Math.random()},closeMe:function(e){this.result(),this.$emit("close"),this.$refs.formName.resetFields(),"function"==typeof e&&e()},getCheckedNodes:function(e,t){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;o.loading=!0;var t=o.$refs.tree.getCheckedNodes();o.formInline.menusId=t.map(function(e){return e.id});var r=i()({},o.formInline);(o.isModify?Object(a.f)(r):(o.reference,Object(a.e)(r))).then(function(e){o.$emit("success"),o.loading=!1,o.closeMe(),o.$message.success("保存成功")}).catch(function(e){o._handlerCatchMsg(e),o.loading=!1})})}}}},XRGj:function(e,t,r){"use strict";var o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addCustomerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[r("template",{staticClass:"addCustomerPop-content",slot:"content"},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":t.formLabelWidth,inline:!0,"label-position":"right",size:"mini"}},[t.isModify?t._e():r("el-form-item",{staticClass:"clearfix"},[r("div",{staticClass:"selectType",class:{checked:2===t.form.companyType},on:{click:function(e){e.stopPropagation(),t.form.companyType=2}}},[r("span",{staticClass:"icon"},[r("icon-svg",{attrs:{"icon-class":"qiye"}})],1),t._v(" "),r("strong",[t._v("企业")]),t._v(" "),r("p",[t._v("有合法营业执照等企业")])]),t._v(" "),r("div",{staticClass:"selectType single",class:{checked:1===t.form.companyType},on:{click:function(e){e.stopPropagation(),t.form.companyType=1}}},[r("span",{staticClass:"icon"},[r("icon-svg",{attrs:{"icon-class":"geren"}})],1),t._v(" "),r("strong",[t._v("个人")]),t._v(" "),r("p",[t._v("具备有效身份的自然人")])])]),t._v(" "),2===t.form.companyType?[r("div",{staticClass:"info"},[t._v("公司名称")]),t._v(" "),r("el-form-item",{attrs:{prop:"companyName"}},[r("el-input",{attrs:{maxlength:25,placeholder:"公司全称"},model:{value:t.form.companyName,callback:function(e){t.$set(t.form,"companyName","string"==typeof e?e.trim():e)},expression:"form.companyName"}})],1),t._v(" "),r("el-form-item",[r("upload",{staticClass:"licensePicture",attrs:{twocode:"",tip:"（有年检章，jpg/png。小于5M）"},model:{value:t.form.licensePicture,callback:function(e){t.$set(t.form,"licensePicture",e)},expression:"form.licensePicture"}})],1),t._v(" "),r("div",{staticClass:"info"},[t._v("公司法人信息")]),t._v(" "),r("el-form-item",{attrs:{prop:"legalPersonname"}},[r("el-input",{attrs:{maxlength:25,placeholder:"公司法人名称","auto-complete":"off"},model:{value:t.form.legalPersonname,callback:function(e){t.$set(t.form,"legalPersonname","string"==typeof e?e.trim():e)},expression:"form.legalPersonname"}})],1)]:t._e(),t._v(" "),r("el-form-item",{staticClass:"clearfix"},[r("div",{staticClass:"idcard-pos"},[r("upload",{attrs:{twocode:"",title:1===t.form.companyType?"自然人身份证正面":"法人身份证正面"},model:{value:t.form.idcardPositive,callback:function(e){t.$set(t.form,"idcardPositive",e)},expression:"form.idcardPositive"}})],1),t._v(" "),r("div",{staticClass:"idcard-ver"},[r("upload",{attrs:{twocode:"",title:1===t.form.companyType?"自然人身份证反面":"法人身份证反面"},model:{value:t.form.idcardVerso,callback:function(e){t.$set(t.form,"idcardVerso",e)},expression:"form.idcardVerso"}})],1)]),t._v(" "),r("div",{staticClass:"info"},[t._v(t._s(t.issender?"发":"收")+"货信息")]),t._v(" "),r("el-form-item",{attrs:{label:(t.issender?"发":"收")+"货方",prop:"customerUnit"}},[r("el-input",{attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.customerUnit,callback:function(e){t.$set(t.form,"customerUnit",e)},expression:"form.customerUnit"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"联系人",prop:"customerName"}},[r("el-input",{attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.customerName,callback:function(e){t.$set(t.form,"customerName",e)},expression:"form.customerName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"手机",prop:"customerMobile"}},[r("input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"},{name:"model",rawName:"v-model.trim",value:t.form.customerMobile,expression:"form.customerMobile",modifiers:{trim:!0}}],staticClass:"nativeinput",attrs:{type:"text","auto-complete":"off",maxlength:"11"},domProps:{value:t.form.customerMobile},on:{input:function(e){e.target.composing||t.$set(t.form,"customerMobile",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),r("el-form-item",{staticClass:"customerPhone",attrs:{label:"电话",prop:"customerPhone"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],staticClass:"phoneshort",attrs:{maxlength:4,"auto-complete":"off"},model:{value:t.phoneshort,callback:function(e){t.phoneshort=e},expression:"phoneshort"}}),t._v(" - "),r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],staticClass:"phonelong",attrs:{maxlength:8,"auto-complete":"off"},model:{value:t.phonelong,callback:function(e){t.phonelong=e},expression:"phonelong"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"归属网点",prop:"orgid"}},[r("SelectTree",{attrs:{filterable:"",orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"客户VIP号",prop:"vipNum"}},[r("el-input",{attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.vipNum,callback:function(e){t.$set(t.form,"vipNum",e)},expression:"form.vipNum"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"身份证号码",prop:"idcard"}},[r("el-input",{attrs:{maxlength:18,"auto-complete":"off"},model:{value:t.form.idcard,callback:function(e){t.$set(t.form,"idcard",e)},expression:"form.idcard"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"开户行",prop:"openBank"}},[r("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.openBank,callback:function(e){t.$set(t.form,"openBank",e)},expression:"form.openBank"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[r("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.bankName,callback:function(e){t.$set(t.form,"bankName",e)},expression:"form.bankName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"银行卡号",prop:"bankCardNumber"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.bankCardNumber,callback:function(e){t.$set(t.form,"bankCardNumber","string"==typeof e?e.trim():e)},expression:"form.bankCardNumber"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"详细地址",prop:"detailedAddress"}},[r("el-input",{attrs:{type:"textarea",placeholder:"最多输入50个字符",maxlength:50,"auto-complete":"off"},model:{value:t.form.detailedAddress,callback:function(e){t.$set(t.form,"detailedAddress",e)},expression:"form.detailedAddress"}})],1)],2)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并新增")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保 存")]),t._v(" "),r("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=o},YamF:function(e,t,r){var o=r("oLzS").getSymbolSize;t.getPositions=function(e){var t=o(e);return[[0,0],[t-7,0],[0,t-7]]}},"b2+w":function(e,t,r){"use strict";var p={single_source_shortest_paths:function(e,t,r){var o={},i={};i[t]=0;var n,a,s,l,c,u,f,d=p.PriorityQueue.make();for(d.push(t,0);!d.empty();)for(s in a=(n=d.pop()).value,l=n.cost,c=e[a]||{})c.hasOwnProperty(s)&&(u=l+c[s],f=i[s],(void 0===i[s]||u<f)&&(i[s]=u,d.push(s,u),o[s]=a));if(void 0!==r&&void 0===i[r]){var m=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(m)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],o=t;o;)r.push(o),e[o],o=e[o];return r.reverse(),r},find_path:function(e,t,r){var o=p.single_source_shortest_paths(e,t,r);return p.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(e){var t,r=p.PriorityQueue,o={};for(t in e=e||{},r)r.hasOwnProperty(t)&&(o[t]=r[t]);return o.queue=[],o.sorter=e.sorter||r.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=p},bZax:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("frTf"),i=r("ubb7");var n=function(e){r("8Hxk")},a=r("VU/8")(o.a,i.a,n,null,null);t.default=a.exports},"f/K7":function(e,t,n){"use strict";var r={render:function(){var o=this,e=o.$createElement,i=o._self._c||e;return i("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}],staticClass:"add-role-pop-content",attrs:{title:o.popTitle,isShow:o.popVisible},on:{close:o.closeMe}},[i("template",{staticClass:"addEmployeerPop-content",slot:"content"},[i("div",{staticClass:"add-role"},[i("div",{staticClass:"add-role-top"},[i("el-form",{ref:"formName",staticClass:"demo-form-inline",attrs:{inline:!0,rules:o.rules,model:o.formInline}},[i("el-form-item",{attrs:{label:"角色名称：",prop:"roleName"}},[i("el-input",{attrs:{clearable:""},model:{value:o.formInline.roleName,callback:function(e){o.$set(o.formInline,"roleName",e)},expression:"formInline.roleName"}})],1),o._v(" "),i("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",placeholder:"",maxlength:300},model:{value:o.formInline.remark,callback:function(e){o.$set(o.formInline,"remark",e)},expression:"formInline.remark"}})],1)],1)],1),o._v(" "),i("div",{staticClass:"add-role-tree"},[i("el-tree",{key:o.roleKey,ref:"tree",attrs:{data:o.treeData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:o.defaultProps},scopedSlots:o._u([{key:"default",fn:function(e){var t=e.node,r=e.data;return i("span",{staticClass:"custom-tree-node"},[0===r.status?i("span",[i("img",{attrs:{src:n("TyhB"),alt:""}}),o._v("\n                  "+o._s(t.label)+"\n                  ")]):i("span",[i("img",{attrs:{src:n("vzGk"),alt:""}}),o._v("\n                  "+o._s(t.label)+"\n                  ")])])}}])})],1)])]),o._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){o.getCheckedNodes("formName")}}},[o._v("保存")]),o._v(" "),i("el-button",{on:{click:o.closeMe}},[o._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=r},frTf:function(e,t,r){"use strict";var o=r("woOf"),i=r.n(o),n=r("Dd8w"),a=r.n(n),s=r("E4LH"),l=r("4UdH"),c=r("P5Di"),u=r("QbVN"),f=r("o9X6"),d=r("NYxO");t.a={components:{popRight:c.a,Upload:u.a,SelectTree:f.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},info:{type:Object,default:function(){}},issender:{type:Boolean,dafault:!1}},computed:a()({},Object(d.b)(["otherinfo"])),data:function(){var t=this;return{form:{carrierAddr:"",carrierMobile:"",carrierName:"",carrierRemarks:"",carrierSn:"",contractEndtime:"",contractStarttime:"",customerServicePhone:"",liableName:"",liablePhone:"",orgid:0},formLabelWidth:"100px",tooltip:!1,rules:{carrierName:[{required:!0,message:"请输入承运商名称"}],orgid:[{required:!0,message:"请选择所属机构"}],carrierMobile:[{required:!0,message:"请输入承运商电话"}],liablePhone:[],carrierSn:[{message:"仅限字母或数字组合",pattern:s.a.ONLY_NUMBER_AND_LETTER}]},popTitle:"新增承运商",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,pickOption:{firstDayOfWeek:1,disabledDate:function(e){return!!t.form.contractEndtime&&e.getTime()>t.form.contractEndtime}},pickOption2:{firstDayOfWeek:1,disabledDate:function(e){return!!t.form.contractStarttime&&e.getTime()<t.form.contractStarttime}}}},mounted:function(){this.form.orgid=this.orgid,this.inited||(this.inited=!0,this.initInfo())},watch:{popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo()),e&&!this.isModify&&this.getCarrierSn()},orgid:function(e){this.form.orgid=e},info:function(){if(this.isModify){this.popTitle="修改承运商";var e=i()({},this.info);for(var t in this.form)this.form[t]=e[t];this.form.carrierId=e.carrierId}else{for(var r in this.popTitle="新增承运商",this.getCarrierSn(),this.form)this.form[r]="";delete this.form.carrierId,this.form.orgid=this.orgid}}},methods:{getCarrierSn:function(){var t=this;return this.loading=!0,Object(l.c)().then(function(e){t.form.carrierSn=e.data,console.log(e.data),t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})},initInfo:function(){this.loading=!1},getOrgid:function(e){this.form.orgid=e},submitForm:function(e,r){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;o.loading=!0;var t=i()({},o.form);t.fixPhone=o.fixPhone;(o.isModify?Object(l.e)(t):Object(l.d)(t)).then(function(e){o.loading=!1,o.$message.success("保存成功"),o.reset(),r?(o.form.orgid=o.orgid,o.getCarrierSn()):o.closeMe(),o.$emit("success")}).catch(function(e){o._handlerCatchMsg(e),o.loading=!1})})},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),this.form.orgid=e},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},ftoq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("//Ie"),i=r("XRGj");var n=function(e){r("nveU")},a=r("VU/8")(o.a,i.a,n,null,null);t.default=a.exports},grrk:function(e,t){},"jF+B":function(e,t,r){"use strict";var a=r("Dsid");var o=(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())?2147483647:1073741823;function s(e,t,r){return s.TYPED_ARRAY_SUPPORT||this instanceof s?"number"==typeof e?c(this,e):function(e,t,r,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,r,o){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");var i;i=void 0===r&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,r):new Uint8Array(t,r,o);s.TYPED_ARRAY_SUPPORT?i.__proto__=s.prototype:i=u(e,i);return i}(e,t,r,o);if("string"==typeof t)return function(e,t){var r=0|d(t),o=l(e,r),i=o.write(t);i!==r&&(o=o.slice(0,i));return o}(e,t);return function(e,t){if(s.isBuffer(t)){var r=0|n(t.length),o=l(e,r);return 0===o.length||t.copy(o,0,0,r),o}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?l(e,0):u(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return u(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,r):new s(e,t,r)}function n(e){if(o<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function l(e,t){var r;return s.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t)).__proto__=s.prototype:(null===(r=e)&&(r=new s(t)),r.length=t),r}function c(e,t){var r=l(e,t<0?0:0|n(t));if(!s.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)r[o]=0;return r}function u(e,t){for(var r=t.length<0?0:0|n(t.length),o=l(e,r),i=0;i<r;i+=1)o[i]=255&t[i];return o}function f(e,t){var r;t=t||1/0;for(var o=e.length,i=null,n=[],a=0;a<o;++a){if(55295<(r=e.charCodeAt(a))&&r<57344){if(!i){if(56319<r){-1<(t-=3)&&n.push(239,191,189);continue}if(a+1===o){-1<(t-=3)&&n.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(t-=3)&&n.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&n.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function d(e){return s.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:f(e).length)}s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),s.prototype.write=function(e,t,r){void 0===t?(r=this.length,t=0):void 0===r&&"string"==typeof t?(r=this.length,t=0):isFinite(t)&&(t|=0,isFinite(r)?r|=0:r=void 0);var o,i,n,a=this.length-t;if((void 0===r||a<r)&&(r=a),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return i=t,n=r,function(e,t,r,o){for(var i=0;i<o&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}(f(e,(o=this).length-i),o,i,n)},s.prototype.slice=function(e,t){var r,o=this.length;if((e=~~e)<0?(e+=o)<0&&(e=0):o<e&&(e=o),(t=void 0===t?o:~~t)<0?(t+=o)<0&&(t=0):o<t&&(t=o),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=s.prototype;else{var i=t-e;r=new s(i,void 0);for(var n=0;n<i;++n)r[n]=this[n+e]}return r},s.prototype.copy=function(e,t,r,o){if(r||(r=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),0<o&&o<r&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-r&&(o=e.length-t+r);var i,n=o-r;if(this===e&&r<t&&t<o)for(i=n-1;0<=i;--i)e[i+t]=this[i+r];else if(n<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<n;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+n),t);return n},s.prototype.fill=function(e,t,r){if("string"==typeof e){if("string"==typeof t?(t=0,r=this.length):"string"==typeof r&&(r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var n=s.isBuffer(e)?e:new s(e),a=n.length;for(i=0;i<r-t;++i)this[i+t]=n[i%a]}return this},s.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l(null,0);var r;if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;var o=c(null,t),i=0;for(r=0;r<e.length;++r){var n=e[r];if(!s.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(o,i),i+=n.length}return o},s.byteLength=d,s.prototype._isBuffer=!0,s.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports=s},"jp/2":function(e,t,r){"use strict";var o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progressContainer"},[t("div",{staticClass:"progressItem",class:{showani:this.isani,cancelAni:this.cancelAni}})])},staticRenderFns:[]};t.a=o},jxZV:function(e,t,r){"use strict";var o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"upload-container",class:{uploadlist:t.showFileList}},[t.uploadUrl?r("el-upload",{staticClass:"image-uploader",attrs:{data:t.upload,action:t.uploadUrl,multiple:!1,drag:!t.showFileList,"show-file-list":t.showFileList,"file-list":t.filelist,limit:t.limit,"before-upload":t.beforeUpload,"list-type":t.listtype,"on-exceed":t.onexceed,disabled:t.disabled,"on-remove":t.handleRemove,"on-error":t.handleError,"on-success":t.handleImageScucess}},[t._t("content",[t.showtc?r("div",{staticClass:"twocodebox",on:{click:function(e){e.stopPropagation(),e.preventDefault()},mouseover:function(e){t.showtwocdetip=!0},mouseout:function(e){t.showtwocdetip=!1}}},[r("div",[r("img",{attrs:{src:t.twocodeurl,alt:""}})]),t._v(" "),r("el-button",{attrs:{size:t.size,type:"primary"},on:{click:function(e){t.showtc=!1}}},[t._v("本地上传")]),t._v(" "),r("el-button",{attrs:{size:t.size,type:"primary"},on:{click:t.changeTwocode}},[t._v("更换二维码")])],1):r("div",[t.title&&!t.showFileList?r("div",{staticClass:"upload__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),r("el-button",{attrs:{size:t.size,type:"primary"}},[t._v("点击上传")]),t._v(" "),t.twocode?r("el-button",{staticClass:"uploadtwocode",attrs:{size:t.size,type:"primary"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showtc=!0}}},[t._v("二维码上传")]):t._e(),t._v(" "),t.showFileList?t._e():r("div",{staticClass:"el-upload__text"},[t._v("将文件拖拽到此区域")]),t._v(" "),t.tip?r("div",{staticClass:"upload__tip"},[t._v(t._s(t.tip))]):t._e()],1)])],2):t._e(),t._v(" "),t.imageUrl&&!t.showFileList?r("div",{staticClass:"image-preview"},[r("div",{staticClass:"image-preview-wrapper"},[r("img",{attrs:{src:t.imageUrl}}),t._v(" "),r("div",{staticClass:"image-preview-action"},[r("i",{staticClass:"el-icon-delete",on:{click:function(e){t.rmImage(t.imageUrl)}}})])])]):t._e()],1)},staticRenderFns:[]};t.a=o},ljsv:function(e,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var u=3,a=3,l=40,i=10;function n(e,t,r){switch(e){case s.Patterns.PATTERN000:return(t+r)%2==0;case s.Patterns.PATTERN001:return t%2==0;case s.Patterns.PATTERN010:return r%3==0;case s.Patterns.PATTERN011:return(t+r)%3==0;case s.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case s.Patterns.PATTERN101:return t*r%2+t*r%3==0;case s.Patterns.PATTERN110:return(t*r%2+t*r%3)%2==0;case s.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){for(var t=e.size,r=0,o=0,i=0,n=null,a=null,s=0;s<t;s++){o=i=0,n=a=null;for(var l=0;l<t;l++){var c=e.get(s,l);c===n?o++:(5<=o&&(r+=u+(o-5)),n=c,o=1),(c=e.get(l,s))===a?i++:(5<=i&&(r+=u+(i-5)),a=c,i=1)}5<=o&&(r+=u+(o-5)),5<=i&&(r+=u+(i-5))}return r},s.getPenaltyN2=function(e){for(var t=e.size,r=0,o=0;o<t-1;o++)for(var i=0;i<t-1;i++){var n=e.get(o,i)+e.get(o,i+1)+e.get(o+1,i)+e.get(o+1,i+1);4!==n&&0!==n||r++}return r*a},s.getPenaltyN3=function(e){for(var t=e.size,r=0,o=0,i=0,n=0;n<t;n++){o=i=0;for(var a=0;a<t;a++)o=o<<1&2047|e.get(n,a),10<=a&&(1488===o||93===o)&&r++,i=i<<1&2047|e.get(a,n),10<=a&&(1488===i||93===i)&&r++}return r*l},s.getPenaltyN4=function(e){for(var t=0,r=e.data.length,o=0;o<r;o++)t+=e.data[o];return Math.abs(Math.ceil(100*t/r/5)-10)*i},s.applyMask=function(e,t){for(var r=t.size,o=0;o<r;o++)for(var i=0;i<r;i++)t.isReserved(i,o)||t.xor(i,o,n(e,i,o))},s.getBestMask=function(e,t){for(var r=Object.keys(s.Patterns).length,o=0,i=1/0,n=0;n<r;n++){t(n),s.applyMask(n,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(n,e),a<i&&(i=a,o=n)}return o}},m59D:function(e,t,r){"use strict";var o=r("//Fk"),i=r.n(o),n=r("Dd8w"),a=r.n(n),s=r("T8y6"),l=r("P5Di"),c=r("o9X6"),u=r("66wn"),f=r("pAQG"),d=r("E4LH"),m=(r("0xDb"),r("NYxO")),p=r("9UCZ");t.a={components:{popRight:l.a,SelectTree:c.a,SelectCity:u.a,querySelect:f.a,SelectType:p.a},computed:a()({},Object(m.b)(["otherinfo"]),{isShow:{get:function(){return this.popVisible},set:function(){}}}),props:{popVisible:{type:Boolean,default:!1},isModify:{type:Boolean,default:!1},dotInfo:Object,orgid:{type:Number},companyId:{type:Number},getCheckedKeyId:{type:[Number,String]}},watch:{"form.accountStatus":{handler:function(){this.form.accountName=""}},popVisible:function(e){e&&(this.formKey=Math.random(),this.fetchData()),this.watchDate(this.doInfo)},getCheckedKeyId:function(e){this.watchDate()},doInfo:{handler:function(){this.checkShowMessage=!1,this.watchDate(this.doInfo)},immediate:!0,deep:!0},isModify:{handler:function(){this.watchDate()},immediate:!0}},data:function(){var e=function(e,t,r){r()};return{tooltip:!1,formKey:"",popTitle:"新增网点",checked:!0,loading:!1,checkShowMessage:!1,netWorkType:[],newnNetWorkType:[],manageType:[],netWorkStatus:[],isChecked:!1,isCheckedShow:!1,form:{orgName:"",orgType:1,status:32,responsibleTelephone:"",responsibleName:"",city:"",serviceName:"",parentName:"",servicePhone:"",detailedAddr:"",networkCode:"",collectionFee:"",benchmark:"",warningQuota:"",lockMachineQuota:"",manageType:3,remarks:"",accountStatus:!0,parentId:0,createTime:"",id:"",accountName:""},rules:{orgName:[{required:!0,message:"请输入网点名称"}],servicePhone:[{required:!0,pattern:d.a.TELANDPHONE,message:"客服号码格式不正确"}],responsibleName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],responsibleTelephone:[{pattern:d.a.MOBILE,message:"请输入正确的电话号码",trigger:["blur","change"]}],serviceName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],networkCode:[{required:!0,message:"请输入网点代码"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],city:[{required:!0,message:"请选择城市"}],accountName:[{required:!0,message:"请输入有效的登录账号",pattern:d.a.USERNAME},{max:15,message:"不能超过15个字符",trigger:"blur"}]},dialogVisible:!1,formLabelWidth:"120px"}},mounted:function(){},methods:{fetchData:function(){var t=this;this.loading=!0,this.form.parentId=this.orgid||this.companyId,i.a.all([Object(s.c)(this.form.parentId),Object(s.b)(this.form.parentId),Object(s.d)(this.form.parentId)]).then(function(e){t.manageType=e[1],t.netWorkStatus=e[2],t.netWorkType=e[0],t.loading=!1}).catch(function(e){t._handlerCatchMsg(e),t.loading=!1})},canadd:function(e,t){t&&t.index&&5<=t.index&&(this.$message.info("添加的层级数不能超过5层，请重新选择~"),this.form.parentId=this.otherinfo.companyId)},watchDate:function(){for(var e in this.form)this.form[e]="";this.isModify?(this.popTitle="修改网点",this.changeDate(this.dotInfo),this.form.id=this.dotInfo.id,this.form.parentId=this.dotInfo.parentId||this.companyId):(this.popTitle="新增网点",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid)},getCity:function(e){this.form.city=e?e.longAddr:e},getOrgid:function(e){this.form.parentId=e},newDate:function(){},reset:function(){for(var e in this.$refs.ruleForm.resetFields(),this.form)this.form[e]="",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid},closeMe:function(e){this.$emit("close"),this.reset(),"function"==typeof e&&e()},submitForm:function(e,r){var o=this;this.$refs[e].validate(function(e){if(o.isChecked=!1,o.isCheckedShow=!1,!e)return o.$message({type:"error",message:"保存失败"}),!1;o.loading=!0;var t=void 0;o.isModify?(o.form.id===o.form.parentId&&o.form.parentId===o.otherinfo.companyId&&(o.form.parentId=0),o.form.id=o.dotInfo.id,o.form.createTime=+new Date(o.form.createTime),"总公司"===o.form.orgType&&(o.form.orgType=5),t=Object(s.j)(o.form)):(!0===o.form.accountStatus?o.form.accountStatus=0:o.form.accountStatus=1,t=Object(s.h)(o.form)),t.then(function(e){o.$emit("success",o.isModify),o.$message.success("保存成功"),o.formKey=Math.random(),o.reset(),r||o.closeMe(),o.loading=!1}).catch(function(e){o._handlerCatchMsg(e),o.loading=!1})})},changeDate:function(e){this.form.orgName=e.orgName,this.form.responsibleTelephone=e.responsibleTelephone,this.form.responsibleName=e.responsibleName,this.form.city=e.city,this.form.serviceName=e.serviceName,this.form.parentName=e.parentName,this.form.servicePhone=e.servicePhone,this.form.detailedAddr=e.detailedAddr,this.form.networkCode=e.networkCode,this.form.collectionFee=e.collectionFee,this.form.benchmark=e.benchmark,this.form.warningQuota=e.warningQuota,this.form.lockMachineQuota=e.lockMachineQuota,this.form.remarks=e.remarks,this.form.status=e.status,this.form.accountStatus=e.accountStatus,this.form.manageType=e.manageType,this.form.createTime=e.createTime,5===e.orgType?this.form.orgType="总公司":this.form.orgType=e.orgType}}}},mulC:function(t,e,r){"use strict";(function(e){t.exports="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this}).call(e,r("DuR2"))},mwnW:function(e,t,r){"use strict";var o=r("mulC");e.exports=function(){return"function"==typeof o.Promise&&"function"==typeof o.Promise.prototype.then}},nveU:function(e,t){},nwDn:function(e,m){function i(e){if("string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}m.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&21<=e.width?e.width:void 0,o=e.scale||4;return{width:r,scale:r?4:o,margin:t,color:{dark:i(e.color.dark||"#000000ff"),light:i(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},m.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},m.getImageWidth=function(e,t){var r=m.getScale(e,t);return Math.floor((e+2*t.margin)*r)},m.qrToImageData=function(e,t,r){for(var o=t.modules.size,i=t.modules.data,n=m.getScale(o,r),a=Math.floor((o+2*r.margin)*n),s=r.margin*n,l=[r.color.light,r.color.dark],c=0;c<a;c++)for(var u=0;u<a;u++){var f=4*(c*a+u),d=r.color.light;if(s<=c&&s<=u&&c<a-s&&u<a-s)d=l[i[Math.floor((c-s)/n)*o+Math.floor((u-s)/n)]?1:0];e[f++]=d.r,e[f++]=d.g,e[f++]=d.b,e[f]=d.a}}},nyx9:function(e,a,t){var m=t("uF9H"),i=t("sYKs"),n=t("RO0P"),s=t("vPzN"),l=t("zYqW"),c=t("NY/E"),u=t("oLzS"),f=t("b2+w");function d(e){return unescape(encodeURIComponent(e)).length}function p(e,t,r){for(var o,i=[];null!==(o=e.exec(r));)i.push({data:o[0],index:o.index,mode:t,length:o[0].length});return i}function h(e){var t,r,o=p(c.NUMERIC,m.NUMERIC,e),i=p(c.ALPHANUMERIC,m.ALPHANUMERIC,e);return u.isKanjiModeEnabled()?(t=p(c.BYTE,m.BYTE,e),r=p(c.KANJI,m.KANJI,e)):(t=p(c.BYTE_KANJI,m.BYTE,e),r=[]),o.concat(i,t,r).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function g(e,t){switch(t){case m.NUMERIC:return i.getBitsLength(e);case m.ALPHANUMERIC:return n.getBitsLength(e);case m.KANJI:return l.getBitsLength(e);case m.BYTE:return s.getBitsLength(e)}}function r(e,t){var r,o=m.getBestModeForData(e);if((r=m.from(t,o))!==m.BYTE&&r.bit<o.bit)throw new Error('"'+e+'" cannot be encoded with mode '+m.toString(r)+".\n Suggested mode is: "+m.toString(o));switch(r!==m.KANJI||u.isKanjiModeEnabled()||(r=m.BYTE),r){case m.NUMERIC:return new i(e);case m.ALPHANUMERIC:return new n(e);case m.KANJI:return new l(e);case m.BYTE:return new s(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(r(t,null)):t.data&&e.push(r(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var r=function(e,t){for(var r={},o={start:{}},i=["start"],n=0;n<e.length;n++){for(var a=e[n],s=[],l=0;l<a.length;l++){var c=a[l],u=""+n+l;s.push(u),r[u]={node:c,lastCount:0},o[u]={};for(var f=0;f<i.length;f++){var d=i[f];r[d]&&r[d].node.mode===c.mode?(o[d][u]=g(r[d].lastCount+c.length,c.mode)-g(r[d].lastCount,c.mode),r[d].lastCount+=c.length):(r[d]&&(r[d].lastCount=c.length),o[d][u]=g(c.length,c.mode)+4+m.getCharCountIndicator(c.mode,t))}}i=s}for(f=0;f<i.length;f++)o[i[f]].end=0;return{map:o,table:r}}(function(e){for(var t=[],r=0;r<e.length;r++){var o=e[r];switch(o.mode){case m.NUMERIC:t.push([o,{data:o.data,mode:m.ALPHANUMERIC,length:o.length},{data:o.data,mode:m.BYTE,length:o.length}]);break;case m.ALPHANUMERIC:t.push([o,{data:o.data,mode:m.BYTE,length:o.length}]);break;case m.KANJI:t.push([o,{data:o.data,mode:m.BYTE,length:d(o.data)}]);break;case m.BYTE:t.push([{data:o.data,mode:m.BYTE,length:d(o.data)}])}}return t}(h(e,u.isKanjiModeEnabled())),t),o=f.find_path(r.map,"start","end"),i=[],n=1;n<o.length-1;n++)i.push(r.table[o[n]].node);return a.fromArray(i.reduce(function(e,t){var r=0<=e.length-1?e[e.length-1]:null;return r&&r.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(h(e,u.isKanjiModeEnabled()))}},oLzS:function(e,t){var r,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return o[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},pMJc:function(e,t,r){"use strict";var o={render:function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("el-container",{staticClass:"check_box"},[o("el-header",{key:r.viewKey,staticStyle:{height:"87px"}},[o("div"),r._v(" "),1===r.type?o("div",{staticClass:"top_content"},[o("h6",[r._v("系统体检：能帮助你在使用系统时，哪些需要维护的数据，保证系统的完整性，帮忙您更好的使用系统。")]),r._v(" "),o("p",{staticClass:"top_ts"},[r._v("（上次检查还有"),o("span",{staticClass:"top_num"},[r._v(r._s(r.dataset.totals)+"项")]),r._v("基础数据未维护）")])]):2===r.type?o("div",{staticClass:"box_top"},[o("div",{staticClass:"top_content2"},[o("i",{staticClass:"wzlicon"}),r._v(" "),r.ischecked?r._e():o("h6",[r._v("初始化检查中"),o("el-button",{staticClass:"btn_qx",attrs:{type:"primary",plain:""},on:{click:function(e){r.doAction("check")}}},[r._v(r._s(r.cancelAni?"继续检查":"取消"))])],1),r._v(" "),r.ischecked?o("h6",[r._v("初始化检查已完成，有"),o("span",{staticClass:"top_num"},[r._v(r._s(r.dataset.totals))]),r._v("项基础功能没维护"),o("el-button",{staticClass:"btn_qx",attrs:{type:"primary",plain:""},on:{click:function(e){r.doAction("agane")}}},[r._v("重新检查")])],1):r._e(),r._v(" "),o("div",{staticClass:"top_ts",attrs:{id:"oTitle"}},[o("ul",[r.contTitleNull?o("li",[r._v(r._s(r.contTitle))]):r._e()])])]),r._v(" "),o("progressbar",{attrs:{cancelAni:r.cancelAni,isani:r.showani}})],1):o("div",{staticClass:"top_content"},[o("h6",[r._v("初始化检查已完成，有"+r._s(r.dataset.totals)+"项基础功能没维护")])])]),r._v(" "),o("el-main",[1===r.type?o("div",{staticClass:"main_checker"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){r.doAction("init")}}},[r._v("初始化检查")])],1):2===r.type?o("div",{staticClass:"main_checker2"},[o("h6",[r._v("公司管理")]),r._v(" "),o("div",{key:r.viewKey,staticClass:"company_content"},[o("ul",{class:{showani:r.showani,cancelAni:r.cancelAni},on:{animationend:function(e){r.ischecked=!0}}},[r._l(r.countList,function(t,e){return o("li",{key:e},[0<t.value?o("p",[o("i",{class:0<t.value?"el-icon-success ":""}),r._v(r._s(t.title)+": "+r._s(t.message?t.message+"，":"")+r._s(t.message2)+"\n              "),o("el-button",{staticClass:"btn_qx1",attrs:{type:"primary",plain:""},on:{click:function(e){r.doAction(t.label)}}},[r._v(r._s(t.button1))])],1):t.value<1&&"orgCount"===t.label&&r.iscompany?o("p",[o("i",{staticClass:"el-icon-warning"}),r._v(r._s(t.title)+"："+r._s(t.message1)+"。\n              "),o("el-button",{staticClass:"btn_qx",attrs:{type:"error",plain:""},on:{click:function(e){r.doAction(t.label)}}},[r._v(r._s(t.button2))])],1):t.value<1&&"orgCount"!==t.label?o("p",[o("i",{staticClass:"el-icon-warning"}),r._v(r._s(t.title)+"："+r._s(t.message1)+"。\n              "),o("el-button",{staticClass:"btn_qx",attrs:{type:"primary",plain:""},on:{click:function(e){r.doAction(t.label)}}},[r._v(r._s(t.button2))])],1):r._e()])}),r._v(" "),o("div",{staticClass:"btn_content"},[r.flog?o("p",[r._v("所有的基础数据已经维护好了，我们去开一张单吧！\n              "),o("el-button",{staticClass:"btn_kd",attrs:{type:"primary"},on:{click:function(e){r.doAction("order")}}},[r._v("开单")])],1):o("p",[o("el-button",{staticClass:"btn_h",attrs:{type:"primary"}},[r._v("开单")])],1)])],2)]),r._v(" "),r.addDoTotShow?o("NewOrg",{attrs:{orgid:r.otherinfo.orgid,companyId:r.otherinfo.companyId,isModify:!1,popVisible:r.addDoTotVisible,checkSystem:!0},on:{close:r.closeAddDot,success:function(e){r.fetchData("addOrg")}}}):r._e(),r._v(" "),r.addDoTotShow1?o("Newrole",{attrs:{orgid:r.otherinfo.orgid,createrId:r.otherinfo.id,companyId:r.otherinfo.companyId,isModify:!1,popVisible:r.addDoTotVisible1,checkSystem:!0},on:{"update:popVisible":function(e){r.addDoTotVisible1=e},close:r.closeAddDot,success:function(e){r.fetchData("addRole")}}}):r._e(),r._v(" "),r.addDoTotShow2?o("Newuser",{attrs:{orgid:r.otherinfo.orgid,companyId:r.otherinfo.companyId,isModify:!1,popVisible:r.addDoTotVisible2,checkSystem:!0},on:{"update:popVisible":function(e){r.addDoTotVisible2=e},success:function(e){r.fetchData("addUser")}}}):r._e(),r._v(" "),r.addDoTotShow3?o("AddCustomer",{attrs:{issender:!0,orgid:r.otherinfo.orgid,info:r.info,companyId:r.otherinfo.companyId,isModify:!1,popVisible:r.addDoTotVisible3,checkSystem:!0},on:{"update:popVisible":function(e){r.addDoTotVisible3=e},success:function(e){r.fetchData("addReciveCustomer")}}}):r._e(),r._v(" "),r.addDoTotShow4?o("AddCustomer",{attrs:{orgid:r.otherinfo.orgid,info:r.info,companyId:r.otherinfo.companyId,isModify:!1,popVisible:r.addDoTotVisible4,checkSystem:!0},on:{"update:popVisible":function(e){r.addDoTotVisible4=e},success:function(e){r.fetchData("addSendCustomer")}}}):r._e(),r._v(" "),r.addDoTotShow5?o("Newdriver",{attrs:{companyId:r.otherinfo.companyId,orgid:r.otherinfo.orgid,popVisible:r.addDoTotVisible5,checkSystem:!0},on:{"update:popVisible":function(e){r.addDoTotVisible5=e},success:function(e){r.fetchData("addDiver")}}}):r._e(),r._v(" "),r.addDoTotShow6?o("Newtruck",{attrs:{issender:!0,orgid:r.otherinfo.orgid,companyId:r.otherinfo.companyId,isModify:!1,popVisible:r.addDoTotVisible6,checkSystem:!0},on:{"update:popVisible":function(e){r.addDoTotVisible6=e},success:function(e){r.fetchData("addTruck")}}}):r._e(),r._v(" "),r.addDoTotShow7?o("Newcarrier",{attrs:{issender:!0,orgid:r.otherinfo.orgid,companyId:r.otherinfo.companyId,isModify:!1,popVisible:r.addDoTotVisible7,checkSystem:!0},on:{"update:popVisible":function(e){r.addDoTotVisible7=e},success:function(e){r.fetchData("addCarrier")}}}):r._e()],1):o("div",{staticClass:"main_checker"},[o("el-button",{attrs:{type:"primary"},on:{click:r.initSystem}},[r._v("初始化检查")])],1)])],1)},staticRenderFns:[]};t.a=o},rAXf:function(e,t,r){"use strict";t.a={props:{isani:{type:Boolean,default:!1},cancelAni:{type:Boolean,default:!1}},components:{},computed:{},data:function(){return{}},methods:{}}},sNUZ:function(e,t){},sYKs:function(e,t,r){var o=r("uF9H");function i(e){this.mode=o.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t,r,o;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),o=parseInt(r,10),e.put(o,10);var i=this.data.length-t;0<i&&(r=this.data.substr(t),o=parseInt(r,10),e.put(o,3*i+1))},e.exports=i},ttFD:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("m59D"),i=r("ABFs");var n=function(e){r("LaJi")},a=r("VU/8")(o.a,i.a,n,null,null);t.default=a.exports},ttyY:function(e,t){},uF9H:function(e,r,t){var o=t("yYhy"),i=t("NY/E");r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!o.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},r.getBestModeForData=function(e){return i.testNumeric(e)?r.NUMERIC:i.testAlphanumeric(e)?r.ALPHANUMERIC:i.testKanji(e)?r.KANJI:r.BYTE},r.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},r.isValid=function(e){return e&&e.bit&&e.ccBits},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},ubb7:function(e,t,r){"use strict";var o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addCarrierPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[r("template",{staticClass:"addCarrierPop-content",slot:"content"},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":t.formLabelWidth,inline:!0,"label-position":"right",size:"mini"}},[r("el-form-item",{attrs:{label:"归属网点",prop:"orgid"}},[r("SelectTree",{attrs:{orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"承运商编码",prop:"carrierSn"}},[r("el-input",{attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.carrierSn,callback:function(e){t.$set(t.form,"carrierSn","string"==typeof e?e.trim():e)},expression:"form.carrierSn"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"承运商",prop:"carrierName"}},[r("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.form.carrierName,callback:function(e){t.$set(t.form,"carrierName","string"==typeof e?e.trim():e)},expression:"form.carrierName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"承运商电话",prop:"carrierMobile"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.carrierMobile,callback:function(e){t.$set(t.form,"carrierMobile",e)},expression:"form.carrierMobile"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"负责人",prop:"liableName"}},[r("el-input",{attrs:{maxlength:25,"auto-complete":"off"},model:{value:t.form.liableName,callback:function(e){t.$set(t.form,"liableName",e)},expression:"form.liableName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"负责人手机",prop:"liablePhone"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.liablePhone,callback:function(e){t.$set(t.form,"liablePhone",e)},expression:"form.liablePhone"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"合同起始日",prop:"contractStarttime"}},[r("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","value-format":"timestamp","picker-options":t.pickOption},model:{value:t.form.contractStarttime,callback:function(e){t.$set(t.form,"contractStarttime",e)},expression:"form.contractStarttime"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"合同终止日",prop:"contractEndtime"}},[r("el-date-picker",{attrs:{align:"right",type:"date","picker-options":t.pickOption2,placeholder:"选择日期","value-format":"timestamp"},model:{value:t.form.contractEndtime,callback:function(e){t.$set(t.form,"contractEndtime",e)},expression:"form.contractEndtime"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"客服电话",prop:"customerServicePhone"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.customerServicePhone,callback:function(e){t.$set(t.form,"customerServicePhone",e)},expression:"form.customerServicePhone"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"地址",prop:"carrierAddr"}},[r("el-input",{attrs:{maxlength:50,"auto-complete":"off"},model:{value:t.form.carrierAddr,callback:function(e){t.$set(t.form,"carrierAddr","string"==typeof e?e.trim():e)},expression:"form.carrierAddr"}})],1),t._v(" "),r("el-form-item",{staticClass:"carrierRemarks",attrs:{label:"备注",prop:"carrierRemarks"}},[r("el-input",{attrs:{type:"textarea",maxlength:300},model:{value:t.form.carrierRemarks,callback:function(e){t.$set(t.form,"carrierRemarks",e)},expression:"form.carrierRemarks"}})],1)],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保 存")]),t._v(" "),r("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=o},utyv:function(e,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},vPzN:function(e,t,r){var o=r("jF+B"),i=r("uF9H");function n(e){this.mode=i.BYTE,this.data=new o(e)}n.getBitsLength=function(e){return 8*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=n},voDd:function(e,t,r){"use strict";var o=r("woOf"),i=r.n(o),n=r("Dd8w"),a=r.n(n),s=r("E4LH"),l=r("QBRH"),c=r("9ani"),u=r("P5Di"),f=r("QbVN"),d=r("o9X6"),m=r("NYxO"),p=r("9UCZ");t.a={components:{popRight:u.a,Upload:f.a,SelectTree:d.a,SelectType:p.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},info:{type:Object,default:function(){}},truckTypes:{type:Array,default:function(){return[]}},truckSources:{type:Array,default:function(){return[]}}},computed:a()({},Object(m.b)(["otherinfo"])),data:function(){var t=this,e=function(o,i){return function(e,t,r){o<t?r(new Error(i)):r()}};return{form:{dirverMobile:"",driverId:"",orgid:"",truckBrand:"",truckHeight:"",truckIdNumber:"",truckLength:"",truckLoad:"",truckRegisterDate:"",truckRemarks:"",truckScrapDate:"",truckSource:"",truckType:"",truckUnit:"",truckUnitMobile:"",truckVolume:"",truckWidth:"",drivingLicense:"",operatingLicense:"",vehiclePic:""},formLabelWidth:"100px",tooltip:!1,rules:{truckIdNumber:[{required:!0,message:"请输入车牌号码",trigger:"blur"}],orgid:[{required:!0,message:"请选择所属机构"}],driverMobile:[{message:"请输入手机号码",trigger:"blur",pattern:s.a.MOBILE}],truckLoad:[{validator:e(1e5,"不能超过100000千克"),type:"number"}],truckVolume:[{validator:e(1e3,"体积不能超过1000方"),type:"number"}],truckLength:[{validator:e(100,"车长不能超过100米"),type:"number"}],truckHeight:[{validator:e(20,"车高不能超过20米"),type:"number"}],truckWidth:[{validator:e(10,"车宽不能超过10米"),type:"number"}]},popTitle:"新增车辆",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,cacheDriverList:{},DriverList:[],pickOption:{firstDayOfWeek:1,disabledDate:function(e){return!!t.form.truckScrapDate&&e.getTime()>t.form.truckScrapDate}},pickOption2:{firstDayOfWeek:1,disabledDate:function(e){return!!t.form.truckRegisterDate&&e.getTime()<t.form.truckRegisterDate}}}},mounted:function(){this.form.orgid=this.otherinfo.orgid,this.inited||(this.inited=!0,this.initInfo(),this.getDriverPhone()),this.isModify&&this.initPanel()},watch:{popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo(),this.getDriverPhone())},orgid:function(e,t){this.form.orgid=e},info:{handler:function(){this.initPanel()},deep:!0}},activated:function(){this.initDriverList()},methods:{initDriverList:function(){this.DriverList=this.$options.data().DriverList,this.cacheDriverList=[],this.getTreeOrgid(this.orgid)},getDriverPhone:function(t){var e=this.DriverList.filter(function(e){return e.id===t});e[0]&&(this.form.dirverMobile=e[0].driverMobile)},initPanel:function(){if(this.isModify){this.popTitle="修改车辆";var e=i()({},this.info);for(var t in this.form)this.form[t]=e[t];this.form.truckRegisterDate&&(this.form.truckRegisterDate=+new Date(this.form.truckRegisterDate)),this.form.truckScrapDate&&(this.form.truckScrapDate=+new Date(this.form.truckScrapDate)),this.form.truckId=e.truckId}else{for(var r in this.popTitle="新增车辆",this.form)this.form[r]=(this.form[r],"");delete this.form.truckId,this.form.orgid=this.orgid,this.form.truckSource=143}},getTreeOrgid:function(e){this.getDriverList(e)},initInfo:function(){this.loading=!1,this.getTreeOrgid(this.orgid)},getOrgid:function(e){this.form.orgid=e},submitForm:function(e,r){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;o.loading=!0;var t=i()({},o.form);(o.isModify?Object(l.f)(t):Object(l.e)(t)).then(function(e){o.loading=!1,o.$message.success("保存成功"),o.reset(),r||o.closeMe(),o.$emit("success")}).catch(function(e){o._handlerCatchMsg(e),o.loading=!1})})},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),this.form.orgid=e,this.form.drivingLicense="",this.form.operatingLicense="",this.form.vehiclePic=""},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()},getDriverList:function(t){var r=this;this.cacheDriverList[t]?this.DriverList=this.cacheDriverList[t]:(this.loading=!0,Object(c.b)({currentPage:1,pageSize:200,vo:{orgid:t}}).then(function(e){r.DriverList=e.list,r.cacheDriverList[t]=e.list,r.loading=!1}).catch(function(e){r.loading=!1,r._handlerCatchMsg(e)}))}}}},vzGk:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACL0lEQVQ4T6WTP0xTURTGv3NuXxX0vSqDmxsxQQY1RjSR1nQwBgeNg4MSiS0kuuDgwkBMjEYGYkwMCybaAoZFF2EyBgdeUyQYXdT4Z/DPpMGl71GgvL57jymCsbQmJN7t3nPuL9937ncJ/7mo3v1jWT8ukEEAR9bqsyDucy/a7sb+aoAIxUe8exC0EasrJZJ3umSHjVZxP6DvgjCX+xa7jOtk1kFVgPasf5XEdBShzm+HHgD4J8hEBPxjObCHtkX95xCadNPO7bqARLbwucR8aKs2A2FEXZvpsufXGyu2QoN5RWbKTe/YXQNoH/X3sJbxgKJnLQnO6AiPq1DPgagBwkli6SiHMmEpeVwGn3uRcj5UIH8stI8UDrJBvxY1pEjvAkNE6DAJlsH4BCMrYPVdjO5losHpVOxlNWC8sJMCml0KnAMArMao3yGgfQxZEVl9jZJh7ldGP1wsx5KvLpFXBahsElnvmQCZ3wXpM+CnLOarAE0A7QUkXrFkjNOc76aFWsDYQouEZgqEIgShEE0abQ2HVrlohXYA9lsV0Eug4emUk6sBVA7io14bDJ4sBU5zo7VwPJd2Jv4OTyLjjQo4k0vb03UBq5CMdwdAIZeO3diYvHjWGyPi++uprBvlow/EZvLeUGRL0u1q+FKtoPAaEdXpdtnv/6lgbaAnAbkVanVhpsd+2/pIok1F7yYRnXJTsZa6SayRm/FPE5lOAU4AZEOQN0I9+W7n46YAm/npvwB8uekRXlNOoQAAAABJRU5ErkJggg=="},wBZN:function(e,t,r){var a=r("jF+B"),s=r("X0RI");function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=s.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new a(this.degree);t.fill(0);var r=a.concat([e,t],e.length+this.degree),o=s.mod(r,this.genPoly),i=this.degree-o.length;if(0<i){var n=new a(this.degree);return n.fill(0),o.copy(n,i),n}return o},e.exports=o},wO8r:function(e,t,r){"use strict";var o=r("mvHQ"),n=r.n(o),i=r("//Fk"),a=r.n(i),s=r("woOf"),l=r.n(s),c=r("Dd8w"),u=r.n(c),f=r("E4LH"),d=r("u8ra"),m=r("P5Di"),p=r("o9X6"),h=r("NYxO"),g=r("9UCZ"),v=r("pAQG");t.a={components:{popRight:m.a,SelectTree:p.a,SelectType:g.a,querySelect:v.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},userInfo:{type:Object,default:function(){}}},computed:u()({},Object(h.b)(["otherinfo"])),data:function(){return{querykey:"11",form:{name:"",mobilephone:"",username:"",password:"123456",position:"",sexFlag:"",orgid:"",rolesId:[],departmentId:""},formLabelWidth:"80px",tooltip:!1,rules:{name:[{required:!0,message:"请输入用户姓名"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:10,message:"长度在 6 到 15 个字符",trigger:"blur"}],mobilephone:[{required:!0,message:"请输入手机号码",pattern:f.a.MOBILE}],orgid:[{required:!0,message:"请选择归属网点"}],username:[{required:!0,message:"请输入有效的登录账号",pattern:f.a.USERNAME},{max:15,message:"不能超过15个字符",trigger:"blur"}],position:[{max:10,message:"不能超过10个字符",trigger:"blur"}]},popTitle:"新增员工",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,query:"",roleslist:[]}},mounted:function(){this.form.orgid=this.orgid,console.log("orgid2222::::::",this.orgid),this.inited||(this.inited=!0,this.initInfo())},watch:{popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo())},orgid:function(e){console.log("orgid::::::",e),this.form.orgid=e},userInfo:function(){var e=this;if(this.isModify){this.popTitle="修改员工";l()({},this.userInfo);for(var t in this.form)this.form[t]=this.userInfo[t];this.form.rolesId="0"===this.userInfo.rolesId?[]:this.userInfo.rolesIdList,this.form.password=""}else{for(var r in this.popTitle="新增员工",this.form)this.form[r]="password"===r?"123456":"rolesId"===r?[]:"";this.$nextTick(function(){console.log("orgid333333",e.orgid),e.form.orgid=e.orgid})}}},methods:{highLight:function(e,t){return""!==this.query?this.setHightLight(e[t],this.query):e[t]},setHightLight:function(e,t){return e.replace(new RegExp(t,"igm"),'<i class="highlight">'+t+"</i>")},makefilter:function(e){this.query=e;var t=new RegExp(e,"i");this.roleslist=this.roles.filter(function(e){return t.test(e.roleName)})},initInfo:function(){var t=this;return this.loading=!0,a.a.all([Object(d.e)(this.otherinfo.companyId),Object(d.f)(this.otherinfo.companyId)]).then(function(e){t.loading=!1,t.roles=e[0].list,t.roleslist=t.roles,t.departments=e[1]}).catch(function(e){t.$message.error("错误1："+(e.text||e.errInfo||e.data||n()(e))),t.loading=!1,t.inited=!1})},getOrgid:function(e){this.form.orgid=e},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),console.log("id",e,this.form.orgid),this.form.orgid=e},submitForm:function(e,o){var i=this;this.$refs[e].validate(function(e){if(!e)return!1;i.loading=!0;var t=l()({},i.form),r=void 0;t.rolesId=t.rolesId.join(","),i.isModify?(t.id=i.userInfo.id,r=Object(d.i)(t)):r=Object(d.h)(t),r.then(function(e){i.loading=!1,i.$message({type:"success",message:"保存成功!"}),i.reset(),o||i.closeMe(),i.$emit("success")}).catch(function(e){i.$message.error("错误2："+(e.text||e.errInfo||e.data||n()(e))),i.loading=!1})})},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},whtI:function(e,t){},"xR/K":function(e,t,r){var i=r("oLzS"),n=i.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var r=e.bit<<3|t,o=r<<10;0<=i.getBCHDigit(o)-n;)o^=1335<<i.getBCHDigit(o)-n;return 21522^(r<<10|o)}},xU5l:function(e,t){},xbwg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("XCyX"),i=r("f/K7");var n=function(e){r("0Qo4")},a=r("VU/8")(o.a,i.a,n,null,null);t.default=a.exports},yYhy:function(e,t){t.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40}},zYqW:function(e,t,r){var o=r("uF9H"),i=r("oLzS");function n(e){this.mode=o.KANJI,this.data=e}n.getBitsLength=function(e){return 13*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=i.toSJIS(this.data[t]);if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},e.exports=n}});