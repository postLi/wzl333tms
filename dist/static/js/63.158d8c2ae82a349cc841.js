webpackJsonp([63,173,174,265,293,294],{"2TDF":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("eeSf"),i=a("O3mM"),o=a("VU/8")(l.a,i.a,null,null,null);t.default=o.exports},C8p7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("TCwX"),i=a("Hp0q");var o=function(e){a("P3NN")},r=a("VU/8")(l.a,i.a,o,null,null);t.default=r.exports},CHfq:function(e,t){},FVhK:function(e,t,a){"use strict";var l=a("pAQG"),n=a("0xDb");t.a={components:{querySelect:l.a},data:function(){return{senderSearch:"load",searchForm:{shortBatchNo:"",mainBatchNo:"",sendBatchNo:"",truckIdNumber:""},btnsize:"mini",selectVal:"",settlementId:"",isSender:!1,SETTLEMENT_TYPE:{short:180,load:179,deliver:181}}},props:{info:{type:Array,default:[]},getSettlementId:{type:[Number,String]}},watch:{getSettlementId:{handler:function(e,t){e&&(this.isSender=!0,this.settlementId=e)},deep:!0}},mounted:function(){this.isSender||this.initSettlementid()},methods:{initSettlementid:function(){this.senderSearch;this.settlementId=this.SETTLEMENT_TYPE[this.senderSearch],this.$emit("setSettlementId",this.settlementId)},changeSenderSearch:function(e){e&&this.initSettlementid()},querySearch:function(e,t,a){var l=l=this.info;for(var i in this.searchForm[e]=t,this.selectVal=e,this.searchForm)void 0!==this.searchForm[i]&&""!==this.searchForm[i]||this.$emit("change",Object(n.objectMerge2)([],this.info));var o=t?l.filter(this.createFilter(t,e)):l;a(o);var r=[];o.forEach(function(e){r.push(e)}),this.$emit("change",r)},createFilter:function(t,a){return function(e){return"truckIdNumber"!==a?-1!==e.batchNo.toLowerCase().indexOf(t.toLowerCase()):-1!==e.truckIdNumber.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(e){this.searchForm[this.selectVal]=e[this.selectVal],this.selectVal="";var t=[];t.push(e),this.$emit("change",t),this.searchForm=this.$options.data().searchForm},clearSender:function(e){this.searchForm=this.$options.data().searchForm}}}},Hp0q:function(e,t,a){"use strict";var l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fee-steup"},[a("div",{staticClass:"fee-steup-form"},[a("el-collapse",{model:{value:t.feeInfo,callback:function(e){t.feeInfo=e},expression:"feeInfo"}},[a("el-collapse-item",{attrs:{name:"feeInfoOne"}},[a("template",{slot:"title"},[t._v("\n          费用信息\n        ")]),t._v(" "),a("div",{staticClass:"feeFrom clearfix"},[a("el-form",{ref:"formModel",attrs:{model:t.formModel,size:t.btnsize,"label-width":"110px",rules:t.formModelRules}},[a("div",{staticClass:"feeFrom-type-baseInfo"},[a("el-form-item",{attrs:{label:"单据号",prop:"settlementSn"}},[a("el-input",{attrs:{search:"shipSn",type:"order",valuekey:"shipSn",disabled:""},model:{value:t.formModel.settlementSn,callback:function(e){t.$set(t.formModel,"settlementSn",e)},expression:"formModel.settlementSn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"支出金额",prop:"amount"}},[a("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{size:t.btnsize,placeholder:"支出金额",disabled:""},model:{value:t.formModel.amount,callback:function(e){t.$set(t.formModel,"amount",e)},expression:"formModel.amount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发生时间",prop:"settlementTime"}},[a("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"发生时间"},model:{value:t.formModel.settlementTime,callback:function(e){t.$set(t.formModel,"settlementTime",e)},expression:"formModel.settlementTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"经办人",prop:"agent"}},[a("querySelect",{attrs:{size:t.btnsize,valuekey:"name",search:"name",label:"name",placeholder:"选择经办人"},model:{value:t.formModel.agent,callback:function(e){t.$set(t.formModel,"agent",e)},expression:"formModel.agent"}})],1)],1),t._v(" "),a("div",{staticClass:"feeFrom-type-baseInfo"},[a("el-form-item",{attrs:{label:"收支方式",prop:"financialWay"}},[a("selectType",{attrs:{filterable:"","allow-create":"","default-first-option":"",size:t.btnsize,type:"financial_way_type",placeholder:"选择收支方式"},on:{change:t.setFinanceWay},model:{value:t.formModel.financialWay,callback:function(e){t.$set(t.formModel,"financialWay",e)},expression:"formModel.financialWay"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"银行卡号",prop:"bankAccount"}},[a("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{size:t.btnsize,placeholder:"银行卡号",clearable:""},model:{value:t.formModel.bankAccount,callback:function(e){t.$set(t.formModel,"bankAccount",e)},expression:"formModel.bankAccount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"微信号",prop:"wechatAccount"}},[a("el-input",{attrs:{size:t.btnsize,placeholder:"微信号",clearable:""},model:{value:t.formModel.wechatAccount,callback:function(e){t.$set(t.formModel,"wechatAccount",e)},expression:"formModel.wechatAccount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"支付宝号",prop:"alipayAccount"}},[a("el-input",{attrs:{size:t.btnsize,placeholder:"支付宝号",clearable:""},model:{value:t.formModel.alipayAccount,callback:function(e){t.$set(t.formModel,"alipayAccount",e)},expression:"formModel.alipayAccount"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"说明"}},[a("el-input",{attrs:{size:t.btnsize,placeholder:"说明",clearable:""},model:{value:t.formModel.remark,callback:function(e){t.$set(t.formModel,"remark",e)},expression:"formModel.remark"}})],1)],1)],1)],2)],1),t._v(" "),a("div",{staticClass:"fee_btn_transferTable"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"批次支出",name:"first"}},[a("div",{staticClass:"animated fadeInRight tableItem"},[a("div",{staticClass:"fee_btn_boxs"},[a("el-button",{attrs:{size:t.btnsize,plain:"",type:"success",icon:"el-icon-date"},on:{click:function(e){t.doAction("countBatch")}}},[t._v("智能核销")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-printer"},on:{click:function(e){t.doAction("savePrint")}}},[t._v("保存并打印")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-document"},on:{click:function(e){t.doAction("save")}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-circle-close-outline"},on:{click:function(e){t.doAction("cancel")}}},[t._v("取消")])],1),t._v(" "),a("dataTable",{key:t.tableKey,attrs:{orgId:t.getRouteInfo,activeName:t.activeName,setLoadTable:t.setLoadTableList,isModify:t.isEdit,getSettlementId:t.settlementId,countSuccessList:t.countSuccessListBatch,countNum:t.countNumBatch},on:{loadTable:t.getLoadTable,setSettlementId:t.setSettlementId,change:t.getTableChange,feeName:t.getFeeName}})],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"运单支出",name:"second"}},[a("div",{staticClass:"animated fadeInRight tableItem"},[a("div",{staticClass:"fee_btn_boxs"},[a("el-button",{attrs:{size:t.btnsize,plain:"",type:"success",icon:"el-icon-date"},on:{click:function(e){t.doAction("countShip")}}},[t._v("智能核销")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-printer"},on:{click:function(e){t.doAction("savePrint")}}},[t._v("保存并打印")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-document"},on:{click:function(e){t.doAction("save")}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-circle-close-outline"},on:{click:function(e){t.doAction("cancel")}}},[t._v("取消")])],1),t._v(" "),a("dataTableOrder",{key:t.tableKey,attrs:{orgId:t.getRouteInfo,activeName:t.activeName,setLoadTable:t.setLoadTableList,isModify:t.isEdit,countSuccessList:t.countSuccessListShip,countNum:t.countNumShip},on:{loadTable:t.getLoadTable,change:t.getTableChange,feeName:t.getFeeName}})],1)])],1)],1),t._v(" "),a("Count",{attrs:{popVisible:t.countVisible,title:t.countTitle,setSettlementId:t.settlementId},on:{close:function(e){t.countVisible=!1},success:t.countSuccess,change:t.changeFeeIdBatch}})],1)])},staticRenderFns:[]};t.a=l},IQw3:function(e,t,a){"use strict";var l={render:function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("el-form",{ref:"searchForm",staticClass:"tableHeadItemForm",attrs:{inline:"","label-position":"right",model:a.searchForm,"label-width":"60px"}},[l("el-form-item",[l("el-select",{attrs:{placeholder:"发货方或发货人",size:a.btnsize,clearable:""},on:{clear:a.clearSearchSelect,focus:a.clearSender},model:{value:a.senderSearch,callback:function(e){a.senderSearch=e},expression:"senderSearch"}},[l("el-option",{attrs:{label:"发货方",value:"unit"}}),a._v(" "),l("el-option",{attrs:{label:"发货人",value:"customer"}})],1)],1),a._v(" "),"customer"===a.senderSearch?l("el-form-item",[l("el-autocomplete",{attrs:{"popper-class":"popperHide",maxlength:15,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("shipSenderName",e,t)},placeholder:"发货人搜索"},on:{select:a.handleSelect},model:{value:a.searchForm.shipSenderName,callback:function(e){a.$set(a.searchForm,"shipSenderName",e)},expression:"searchForm.shipSenderName"}})],1):a._e(),a._v(" "),"unit"===a.senderSearch?l("el-form-item",[l("el-autocomplete",{attrs:{"popper-class":"popperHide",size:a.btnsize,maxlength:15,"fetch-suggestions":function(e,t){return a.querySearch("shipSenderUnit",e,t)},placeholder:"发货方搜索"},on:{select:a.handleSelect},model:{value:a.searchForm.shipSenderUnit,callback:function(e){a.$set(a.searchForm,"shipSenderUnit",e)},expression:"searchForm.shipSenderUnit"}})],1):a._e(),a._v(" "),l("el-form-item",{attrs:{label:"运单号"}},[l("el-autocomplete",{attrs:{"popper-class":"popperHide",size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("shipSn",e,t)},placeholder:"运单号搜索",maxlength:20},on:{select:a.handleSelect},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[l("div",{staticClass:"name"},[a._v(a._s(t.shipSn))])]}}]),model:{value:a.searchForm.shipSn,callback:function(e){a.$set(a.searchForm,"shipSn",e)},expression:"searchForm.shipSn"}})],1)],1)},staticRenderFns:[]};t.a=l},IcMT:function(e,t,a){"use strict";var l=a("PI8x"),i=a("QVoP");var o=function(e){a("jCPK")},r=a("VU/8")(l.a,i.a,o,null,null);t.a=r.exports},KBCd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("a2ep"),i=a("tsWw");var o=function(e){a("a49H")},r=a("VU/8")(l.a,i.a,o,null,null);t.default=r.exports},NV2j:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("xEn/"),i=a("IQw3");var o=function(e){a("CHfq")},r=a("VU/8")(l.a,i.a,o,null,null);t.default=r.exports},O3mM:function(e,t,a){"use strict";var l={render:function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("el-dialog",{staticClass:"tms_dialog tms_dialog_count",attrs:{title:"智能核销-"+a.title,visible:a.isShow,"close-on-click-modal":!1,"before-close":a.closeMe,width:"600px"},on:{"update:visible":function(e){a.isShow=e}}},[l("el-form",{ref:"formModel",attrs:{inline:!0,size:"mini","label-position":"right",rules:a.rules,model:a.formModel,"label-width":"70px"}},[178===a.settlementId?l("el-form-item",{attrs:{label:"发货人",prop:"shipSenderName"}},[l("el-autocomplete",{attrs:{"popper-class":"my-autocomplete","fetch-suggestions":a.querySearchSender,placeholder:"发货人搜索",size:"mini","auto-complete":"off",maxlength:8},on:{select:a.handleSelectSender},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[l("div",{staticClass:"name"},[a._v(a._s(t.customerName))])]}}]),model:{value:a.formModel.shipSenderName,callback:function(e){a.$set(a.formModel,"shipSenderName",e)},expression:"formModel.shipSenderName"}})],1):l("el-form-item",{attrs:{label:"车牌号",prop:"truckIdNumber"}},[l("el-autocomplete",{attrs:{"popper-class":"my-autocomplete","fetch-suggestions":a.querySearchTruck,placeholder:"车牌号码搜索",size:"mini","auto-complete":"off",maxlength:8},on:{select:a.handleSelectTruck},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[l("div",{staticClass:"name"},[a._v(a._s(t.truckIdNumber))])]}}]),model:{value:a.formModel.truckIdNumber,callback:function(e){a.$set(a.formModel,"truckIdNumber",e)},expression:"formModel.truckIdNumber"}})],1),a._v(" "),l("el-form-item",{attrs:{label:"支出金额",prop:"autoTotalAmount"}},[l("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly:point",arg:"point"}],attrs:{placeholder:"只能输入阿拉伯数字"},nativeOn:{keyup:function(e){if(!("button"in e)&&a._k(e.keyCode,"enter",13,e.key,"Enter"))return null;a.onSubmit("formModel")}},model:{value:a.formModel.autoTotalAmount,callback:function(e){a.$set(a.formModel,"autoTotalAmount",e)},expression:"formModel.autoTotalAmount"}})],1),a._v(" "),l("el-form-item",{attrs:{label:"费用项"}},[178===a.settlementId?l("el-select",{model:{value:a.formModel.feeId,callback:function(e){a.$set(a.formModel,"feeId",e)},expression:"formModel.feeId"}},[l("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),a._l(a.feeIds,function(e){return l("el-option",{key:e.id,attrs:{label:e.feeType,value:e.id}})})],2):l("el-select",{on:{change:a.selectFeeIdBatch},model:{value:a.formModel.settlementId,callback:function(e){a.$set(a.formModel,"settlementId",e)},expression:"formModel.settlementId"}},a._l(a.feeIdsBatch,function(e){return l("el-option",{key:e.id,attrs:{label:e.feeType,value:e.id}})}))],1),a._v(" "),l("el-form-item",{attrs:{label:"开单日期"}},[l("el-date-picker",{attrs:{type:"daterange",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","picker-options":a.pickerOptions2,"end-placeholder":"结束日期"},model:{value:a.searchTime,callback:function(e){a.searchTime=e},expression:"searchTime"}})],1)],1),a._v(" "),l("p",[a._v("提示：智能核销可以按照发货人开单日期自动挑选运单核销，运用场景如:某某客户核销某个月运费一万块，可以筛选客户，收入金额10000块，系统将自动挑选运单核销。")]),a._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:function(e){a.onSubmit("formModel")}}},[a._v("确 定")]),a._v(" "),l("el-button",{on:{click:a.closeMe}},[a._v("取 消")])],1)],1)},staticRenderFns:[]};t.a=l},P3NN:function(e,t){},PI8x:function(e,t,a){"use strict";t.a={data:function(){return{isShowLeft:!1,isShowRight:!1,isShowReback:!1,searchForm:""}},methods:{doAction:function(e){switch(e){case"showAllLeft":this.showAllLeft();break;case"showAllRight":this.showAllRight();break;case"showReback":this.showReback()}},showAllLeft:function(){this.isShowLeft=!0,this.isShowRight=!1,this.isShowReback=!0},showAllRight:function(){this.isShowLeft=!1,this.isShowRight=!0,this.isShowReback=!0},showReback:function(){this.isShowReback=!1,this.isShowLeft=!1,this.isShowRight=!1}}}},PcpC:function(e,t,a){"use strict";var l={render:function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("el-form",{ref:"searchForm",staticClass:"tableHeadItemForm",attrs:{inline:"","label-position":"right",model:a.searchForm,"label-width":"60px"}},[l("el-form-item",[l("el-select",{attrs:{placeholder:"批次类型",size:a.btnsize},on:{change:a.changeSenderSearch},model:{value:a.senderSearch,callback:function(e){a.senderSearch=e},expression:"senderSearch"}},[l("el-option",{attrs:{label:"短驳",value:"short"}}),a._v(" "),l("el-option",{attrs:{label:"干线",value:"load"}}),a._v(" "),l("el-option",{attrs:{label:"送货",value:"deliver"}})],1)],1),a._v(" "),"short"===a.senderSearch?l("el-form-item",[l("el-autocomplete",{attrs:{maxlength:20,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("shortBatchNo",e,t)},placeholder:"短驳批次号搜索","popper-class":"popperHide"},on:{select:a.handleSelect},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[l("div",{staticClass:"name"},[a._v(a._s(t.batchNo))])]}}]),model:{value:a.searchForm.shortBatchNo,callback:function(e){a.$set(a.searchForm,"shortBatchNo",e)},expression:"searchForm.shortBatchNo"}})],1):a._e(),a._v(" "),"load"===a.senderSearch?l("el-form-item",[l("el-autocomplete",{attrs:{maxlength:20,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("mainBatchNo",e,t)},placeholder:"干线批次号搜索","popper-class":"popperHide"},on:{select:a.handleSelect},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[l("div",{staticClass:"name"},[a._v(a._s(t.batchNo))])]}}]),model:{value:a.searchForm.mainBatchNo,callback:function(e){a.$set(a.searchForm,"mainBatchNo",e)},expression:"searchForm.mainBatchNo"}})],1):a._e(),a._v(" "),"deliver"===a.senderSearch?l("el-form-item",[l("el-autocomplete",{attrs:{maxlength:20,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("sendBatchNo",e,t)},placeholder:"送货批次号搜索","popper-class":"popperHide"},on:{select:a.handleSelect},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[l("div",{staticClass:"name"},[a._v(a._s(t.batchNo))])]}}]),model:{value:a.searchForm.sendBatchNo,callback:function(e){a.$set(a.searchForm,"sendBatchNo",e)},expression:"searchForm.sendBatchNo"}})],1):a._e(),a._v(" "),l("el-form-item",{attrs:{label:"车牌号"}},[l("el-autocomplete",{attrs:{maxlength:8,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("truckIdNumber",e,t)},placeholder:"车牌号搜索","popper-class":"popperHide"},on:{select:a.handleSelect},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[l("div",{staticClass:"name"},[a._v(a._s(t.truckIdNumber))])]}}]),model:{value:a.searchForm.truckIdNumber,callback:function(e){a.$set(a.searchForm,"truckIdNumber",e)},expression:"searchForm.truckIdNumber"}})],1)],1)},staticRenderFns:[]};t.a=l},"QS/K":function(e,t,a){"use strict";t.i=function(e){return l.b.post("/api-finance/finance/tmsfinancecapitalflow/v1/list/",e).then(function(e){return e.data})},t.a=function(e,t){return l.b.get("/api-finance/finance/tmsfinancecapitalflow/v1/getFeeInfo?orgId="+e+"&paymentsType="+t).then(function(e){return e.data})},t.c=function(e){return l.b.post("/api-finance/finance/tmsfinancecapitalflow/v1/getOrderShipList/",{orgId:e.orgId,paymentsType:e.paymentsType,incomePayType:e.incomePayType,settlementId:e.settlementId,startTime:e.startTime,endTime:e.endTime,autoTotalAmount:e.autoTotalAmount,shipSenderName:e.shipSenderName,feeId:e.feeId,truckIdNumber:e.truckIdNumber}).then(function(e){return e.data})},t.g=function(e){return l.b.post("/api-finance/finance/tmsfinancecapitalflow/v1/cancelSettlement/",{flowId:e.flowId,detailFlowId:e.detailFlowId})},t.f=function(e){return l.b.post("/api-finance/finance/tmsfinancecapitalflow/v1/addIncome/",e).then(function(e){return e.data})},t.h=function(e){return l.b.post("/api-finance/finance/tmsfinancecapitalflowdetail/v1/list/",e).then(function(e){return e.data})},t.e=function(e,t){return l.b.get("/api-finance/finance/tmsfinancecapitalflow/v1/getSettlementInfo?flowId="+e+"&settlementId="+t)},t.b=function(e){return l.b.post("/api-finance/finance/tmsfinancefeetype/v1/getFeeTypeDict",{paymentsType:e.paymentsType,fiOrderType:e.fiOrderType}).then(function(e){return e.data})},t.d=function(e){return l.b.post("/api-finance/finance/tmsfinancefinancialway/v1/getOrgFirstFinancialWay/",{financialWay:e.financialWay,orgId:e.orgId}).then(function(e){return e.data})};var l=a("Vo7i");a("0xDb")},QVoP:function(e,t,a){"use strict";var l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"transferTable"},[a("div",{staticClass:"transferTable_header"},[a("div",{staticClass:"transferTable_searchs"},[a("div",{staticClass:"transferTable_fresh"},[t._t("tableRefresh")],2),t._v(" "),t._t("tableSearch")],2),t._v(" "),a("div",{staticClass:"transferTable_header_btn_direction"},[a("el-tooltip",{attrs:{effect:"dark",content:"向左侧拉伸",placement:"top-end"}},[a("el-button",{attrs:{icon:"el-icon-arrow-right",type:"primary",circle:"",disabled:t.isShowLeft,size:"mini",plain:""},on:{click:function(e){t.doAction("showAllLeft")}}})],1),t._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:"向右侧拉伸",placement:"top-start"}},[a("el-button",{attrs:{icon:"el-icon-arrow-left",type:"primary",circle:"",disabled:t.isShowRight,size:"mini",plain:""},on:{click:function(e){t.doAction("showAllRight")}}})],1),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-bottom"}},[t.isShowReback?a("el-button",{attrs:{icon:"el-icon-refresh",type:"primary",circle:"",size:"mini",plain:""},on:{click:function(e){t.doAction("showReback")}}}):t._e()],1),t._v(" "),a("div",{staticClass:"transferTable_header_btn_box clearfix"},[t._t("btnsBox")],2)],1)]),t._v(" "),a("div",{staticClass:"transferTable_content"},[a("div",{staticClass:"transferTable_content_table paddingRight",class:[t.isShowLeft?"showTableLeft":t.isShowRight?"shortTableLeft":""]},[t._t("tableLeft",[t._v("左边表格区")])],2),t._v(" "),a("div",{staticClass:"transferTable_content_table",class:[t.isShowRight?"showTableRight":""]},[t._t("tableRight",[t._v("右边表格区")])],2)])])},staticRenderFns:[]};t.a=l},TCwX:function(e,t,a){"use strict";var l=a("woOf"),i=a.n(l),o=a("Dd8w"),r=a.n(o),n=(a("E4LH"),a("NYxO")),s=a("9UCZ"),c=a("o9X6"),h=a("pAQG"),u=a("0xDb"),d=a("t5DY"),m=a("ceWI"),b=a("KBCd"),f=a("QS/K"),p=a("2TDF");t.a={name:"settleLogExpandtiure",components:{SelectTree:c.a,selectType:s.a,querySelect:h.a,dataTable:m.default,dataTableOrder:b.default,Count:p.default},data:function(){return{paymentsType:1,loading:!0,settlementId:"",feeInfo:"feeInfoOne",btnsize:"mini",tableKey:0,formModel:{bankAccount:"",wechatAccount:"",alipayAccount:"",settlementTime:"",financialWay:"",financialWayId:"",amount:0,settlementSn:"",agent:"",remark:""},formModelRules:{},countTitle:"",setLoadTableList:{},isEdit:!1,activeName:"first",addIncomeInfo:{},countVisible:!1,countSuccessListBatch:[],countSuccessListShip:[],countNumBatch:0,countNumShip:0,feeName:{arrPayName:[],arrNoPayName:[],arrPayNameActual:[],arrhadPayName:[]}}},computed:r()({},Object(n.b)(["otherinfo"]),{getRouteInfo:function(){return this.$route.query.orgId?this.$route.query.orgId:this.otherinfo.orgid}}),watch:{settlementId:function(e){return e}},mounted:function(){this.getFeeInfo()},methods:{getSystemTime:function(){var t=this;Object(d.h)().then(function(e){t.formModel.settlementTime=Object(u.parseTime)(e)}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},getFeeInfo:function(){var t=this;this.getOrgFirstFinancialWay(),Object(f.a)(this.getRouteInfo,this.paymentsType).then(function(e){t.loading=!1,t.getSystemTime(),t.formModel.amount=e.amount,t.formModel.settlementSn=e.settlementSn,t.formModel.agent=t.otherinfo.name,t.formModel.financialWay=t.$const.FINANCE_WAY[e.szDtoList[0].financialWay],t.formModel.bankAccount=e.szDtoList[0].bankAccount,t.formModel.wechatAccount=e.szDtoList[0].wechatAccount,t.formModel.alipayAccount=e.szDtoList[0].alipayAccount,t.formModel.remark=e.remark}).catch(function(e){t._handlerCatchMsg(e)})},doAction:function(e){switch(e){case"save":this.save();break;case"cancel":this.cancel();break;case"savePrint":this.$message({type:"warning",message:"暂无打印功能！"});break;case"countBatch":this.countTitle="批次",this.countVisible=!0;break;case"countShip":this.countTitle="运单",this.countVisible=!0}},setFinanceWay:function(e){this.formModel.financialWayId=e,this.formModel.financialWay=e,this.getOrgFirstFinancialWay()},setData:function(){var l=this;"string"==typeof this.formModel.financialWay?(this.formModel.financialWayId=this.$const.FINANCE_WAY[this.formModel.financialWay],this.formModel.financialWay=this.formModel.financialWay):(this.formModel.financialWayId=this.formModel.financialWay,this.formModel.financialWay=this.$const.FINANCE_WAY[this.formModel.financialWay]),this.loadTable.forEach(function(a){l.feeName.arrPayName.forEach(function(e,t){a[e]=a[l.feeName.arrPayNameActual[t]]})});var e=[];e.push(this.formModel),this.addIncomeInfo=i()({},this.formModel),this.$set(this.addIncomeInfo,"orgId",this.getRouteInfo),this.$set(this.addIncomeInfo,"settlementId",this.setSettlementId),this.$set(this.addIncomeInfo,"paymentsType",this.paymentsType),this.$set(this.addIncomeInfo,"detailDtoList",this.loadTable),this.$set(this.addIncomeInfo,"szDtoList",e),"first"===this.activeName||"second"===this.activeName&&(this.settlementId=178),this.$set(this.addIncomeInfo,"settlementId",this.settlementId)},save:function(){var t=this;if(this.loadTable.length<1)return this.$message({type:"warning",message:"右边表格不能为空！"}),!1;this.setData(),this.loading=!0,Object(f.f)(this.addIncomeInfo).then(function(e){t.loading=!1,t.$message({type:"success",message:"保存成功！"}),t.getFeeInfo(),t.tableKey=(new Date).getTime(),t.$router.push({path:"./settleLog",query:{pageKey:(new Date).getTime()}})}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},setSettlementId:function(e){this.settlementId=e},cancel:function(){var e=this;this.$confirm("确定要取消记收入操作吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.push({path:"./settleLog",query:{pageKey:(new Date).getTime()}})})},handleClick:function(){},getLoadTable:function(e){var a=0;this.loadTable=i()([],e),this.loadTable.forEach(function(e,t){e.shipFeeTotalActual?a+=e.shipFeeTotalActual:a+=e.loadFeeTotalActual}),this.formModel.amount=a},getFeeName:function(e){this.feeName=i()([],e)},getTableChange:function(e){},countSuccess:function(e){178===e.type&&(this.countSuccessListShip=i()([],e.info),this.countNumShip=e.count),179===e.type&&(this.countSuccessListBatch=i()([],e.info),this.countNumBatch=e.count)},changeFeeIdBatch:function(e){this.settlementId=e,this.setSettlementId(e)},getOrgFirstFinancialWay:function(){var t=this,e={financialWay:this.$const.FINANCE_WAY[this.formModel.financialWay],orgId:this.getRouteInfo};Object(f.d)(e).then(function(e){t.financialWays=e,t.financialWays?(t.formModel.bankAccount=t.financialWays.bankAccount?t.financialWays.bankAccount:"",t.formModel.wechatAccount=t.financialWays.wechatAccount?t.financialWays.wechatAccount:"",t.formModel.alipayAccount=t.financialWays.alipayAccount?t.financialWays.alipayAccount:""):(t.formModel.bankAccount="",t.formModel.wechatAccount="",t.formModel.alipayAccount="")}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})}}}},TsW9:function(e,t,a){"use strict";t.a=function(e,t){return l.b.get("/api-order/order/load/v1/getBatchNo/",{params:{orgId:e,loadTypeId:t}})},t.h=function(e){return l.b.post("/api-order/order/load/v1/",e)},t.i=function(e){return l.b.put("/api-order/order/load/v1/",e)},t.c=function(e){return l.b.get("/api-order/order/load/v1/selectAddLoadRepertoryList/",{params:{orgId:e}})},t.f=function(e,t){return l.b.get("/api-order/order/load/v1/selectUpdateLoadRepertoryList/?orgId="+e+"&loadId="+t)},t.g=function(e,t){return l.b.get("/api-order/order/load/v1/selectUpdateLoadDetailList/?orgId="+e+"&loadId="+t)},t.d=function(e){return l.b.get("/api-order/order/load/v1/selectLoadDetailList/",{params:{loadId:e}})},t.e=function(){return l.b.get("/api-system/system/trunk/v1/findCarAndDriver/").then(function(e){return e})},t.b=function(){return l.b.get("/api-system/system/trunk/v1/findDriverAndCar/").then(function(e){return e})};var l=a("Vo7i")},a2ep:function(e,t,a){"use strict";var l=a("pFYg"),o=a.n(l),i=a("woOf"),r=a.n(i),n=a("Dd8w"),s=a.n(n),c=a("bOdI"),h=a.n(c),u=a("NYxO"),d=(a("TsW9"),a("pAQG")),m=a("IcMT"),b=a("0xDb"),f=a("QS/K"),p=a("NV2j"),g=a("0xDb");t.a={data:function(){var e;return e={loading:!0,searchTime:[Object(b.parseTime)(new Date-5184e6),Object(b.parseTime)(new Date)],tablekey:"",truckMessage:"",searchForm:{},incomePayType:"PAYABLE",paymentsType:1,settlementId:178},h()(e,"loading",!1),h()(e,"btnsize","mini"),h()(e,"selectedRight",[]),h()(e,"selectedLeft",[]),h()(e,"orgLeftTable",[]),h()(e,"countOrgLeftTable",[]),h()(e,"leftTable",[]),h()(e,"rightTable",[]),h()(e,"orgData",{left:[],right:[]}),h()(e,"arrLastPartActualFeeName",[]),h()(e,"arrLastPartNoFeeName",[]),h()(e,"arrLastPartFeeName",[]),h()(e,"arrNoPayName",[]),h()(e,"arrPayName",[]),h()(e,"arrPayNameActual",[]),e},props:{setLoadTable:{type:Object,default:function(){}},isModify:{type:Boolean,default:!1},countSuccessList:{type:Array,default:[]},countNum:{type:[Number,String]},activeName:{type:String,default:""},orgId:{type:[Number,String]}},computed:s()({},Object(u.b)(["otherinfo"])),components:{transferTable:m.a,querySelect:d.a,currentSearch:p.default},watch:{isModify:{handler:function(e,t){this.getList()},deep:!0},setLoadTable:{handler:function(e,t){e&&(this.orgData=r()({},e),this.getList())},deep:!0},countSuccessList:{handler:function(e,t){this.initCount(e,t)},deep:!0},countNum:{handler:function(e,t){return e},deep:!0},activeName:{handler:function(e,t){"second"===e&&this.getList()},deep:!0}},activated:function(){this.getPayName(),this.getList()},methods:{getPayName:function(){if(0!==this.rightTable.length){for(var e in this.arrNoPayName=[],this.rightTable[0])0===e.indexOf("no")&&this.arrNoPayName.push(e);for(var t in this.arrPayName=[],this.arrNoPayName){var a=this.arrNoPayName[t].substring(2,3).toLowerCase()+this.arrNoPayName[t].substring(3);this.arrPayName.push(a)}for(var l in this.arrhadPayName=[],this.arrNoPayName){var i="had"+this.arrNoPayName[l].substring(2);this.arrhadPayName.push(i)}for(var o in this.arrPayNameActual=[],this.arrPayName){var r=this.arrPayName[o]+"Actual";this.arrPayNameActual.push(r)}var n={arrPayName:this.arrPayName,arrNoPayName:this.arrNoPayName,arrhadPayName:this.arrhadPayName,arrPayNameActual:this.arrPayNameActual};this.$emit("feeName",n)}},initCount:function(e,t){var i=this;if(console.log("============后台返回的智能运单=============\n",e),this.arrLastPartActualFeeName=[],this.arrLastPartNoFeeName=[],this.arrLastPartFeeName=[],this.leftTable=[],this.rightTable=Object(b.objectMerge2)([],e),this.$emit("loadTable",this.rightTable),0===this.rightTable.length)return this.$message({type:"warning",message:"无符合智能核销条件的运单。"}),this.leftTable=Object(b.objectMerge2)([],this.orgLeftTable),!1;this.leftTable=Object(b.objectMerge2)([],this.orgLeftTable).filter(function(t,e){return-1===i.rightTable.findIndex(function(e){return t.shipSn===e.shipSn})}),0!==this.leftTable.length&&(this.leftTable=this.uniqueArray(this.leftTable,"shipSn")),this.$emit("loadTable",this.rightTable),this.getPayName();this.arrPayNameActual.forEach(function(e,t){var a=i.rightTable[i.rightTable.length-1][e],l=i.rightTable[i.rightTable.length-1][i.arrNoPayName[t]];l!==a&&""!==l&&null!==l&&""!==a&&null!==a&&(void 0===l?"undefined":o()(l))===(void 0===a?"undefined":o()(a))&&(!0,i.arrLastPartFeeName.push(i.arrPayName[t]),i.arrLastPartActualFeeName.push(e),i.arrLastPartNoFeeName.push(i.arrNoPayName[t]))}),this.rightTable[this.rightTable.length-1].shipFeeTotal!==this.rightTable[this.rightTable.length-1].shipFeeTotalActual&&(this.$notify.info({title:"提示",message:"最后一条数据实际只需支付部分未核销费用，多余的需要返回到左边列表！"}),this.leftTable.push(Object(b.objectMerge2)([],this.rightTable[this.rightTable.length-1])),this.arrLastPartFeeName.forEach(function(e){var t="no"+e.substring(0,1).toUpperCase()+e.substring(1),a=e+"Actual";i.leftTable[i.leftTable.length-1][a]=i.rightTable[i.rightTable.length-1][t]-i.rightTable[i.rightTable.length-1][a]})),this.$emit("loadTable",this.rightTable),this.countOrgLeftTable=Object(b.objectMerge2)([],this.leftTable)},getList:function(){var t=this;this.leftTable=this.$options.data().leftTable,this.rightTable=this.$options.data().rightTable,this.orgLeftTable=this.$options.data().orgLeftTable,this.countOrgLeftTable=this.$options.data().countOrgLeftTable;var e={};this.isModify?(this.leftTable=this.orgData.left,this.rightTable=this.orgData.right,this.orgLeftTable=this.orgData.left,this.countOrgLeftTable=this.orgData.left,this.$emit("loadTable",this.rightTable)):(this.$set(e,"orgId",this.orgId),this.$set(e,"incomePayType",this.incomePayType),this.$set(e,"paymentsType",this.paymentsType),this.$set(e,"settlementId",this.settlementId),this.$set(e,"startTime",Object(b.parseTime)(this.searchTime[0],"{y}-{m}-{d} ")+"00:00:00"),this.$set(e,"endTime",Object(b.parseTime)(this.searchTime[1],"{y}-{m}-{d} ")+"23:59:59"),Object(f.c)(e).then(function(e){t.loading=!1,t.leftTable=e,t.orgLeftTable=e,t.countOrgLeftTable=e,t.$emit("loadTable",t.rightTable)}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)}),e={})},getSearch:function(e){this.leftTable=e},clickDetailsRight:function(e){this.$refs.multipleTableRight.toggleRowSelection(e)},clickDetailsLeft:function(e){this.$refs.multipleTableLeft.toggleRowSelection(e)},getSelectionRight:function(e){this.selectedRight=e},getSelectionLeft:function(e){this.selectedLeft=e},changeTableKey:function(){this.tablekey=Math.random()},doAction:function(e){switch(e){case"goLeft":this.goLeft();break;case"goRight":this.goRight()}},uniqueArray:function(e,t,a){for(var l=[e[0]],i=1;i<e.length;i++){for(var o=e[i],r=!1,n=0;n<l.length;n++)if(o[t]===l[n][t]){if(a)for(var s in a)l[n][a[s]]=g.tmsMath._add(o[a[s]],l[n][a[s]]);r=!0;break}r||l.push(o)}return l},goLeft:function(){var a=this;0===this.selectedRight.length?this.$message({type:"warning",message:"请在左边表格选择数据"}):(this.selectedRight.forEach(function(t,e){t.loadAmount=t.repertoryAmount,t.loadWeight=t.repertoryWeight,t.loadVolume=t.repertoryVolume,a.leftTable=Object(b.objectMerge2)([],a.leftTable).filter(function(e){return e.shipSn!==t.shipSn}),a.rightTable.push(t),a.countOrgLeftTable=Object(b.objectMerge2)([],a.countOrgLeftTable).filter(function(e){return e.shipSn!==t.shipSn})}),this.rightTable=this.uniqueArray(Object(b.objectMerge2)(this.rightTable),"shipSn",this.arrLastPartActualFeeName),this.selectedRight=[],this.getPayName(),this.$emit("loadTable",this.rightTable))},goRight:function(){var a=this;0===this.selectedLeft.length?this.$message({type:"warning",message:"请在右边表格 选择数据"}):(this.selectedLeft.forEach(function(t,e){a.leftTable.push(t),a.countOrgLeftTable.push(t),a.rightTable=Object(b.objectMerge2)([],a.rightTable).filter(function(e){return e.shipSn!==t.shipSn})}),this.leftTable=this.uniqueArray(Object(b.objectMerge2)(this.leftTable),"shipSn",this.arrLastPartActualFeeName),this.countOrgLeftTable=this.uniqueArray(Object(b.objectMerge2)(this.countOrgLeftTable),"shipSn",this.arrLastPartActualFeeName),this.selectedLeft=[],this.getPayName(),this.$emit("loadTable",this.rightTable))},addItem:function(e,t){var a=this;clearTimeout(this.addTimer),this.addTimer=setTimeout(function(){a.selectedRight=[],a.selectedRight[t]=e,a.doAction("goLeft")},50)},minusItem:function(e,t){var a=this;clearTimeout(this.minusTimer),this.minusTimer=setTimeout(function(){a.selectedLeft=[],a.selectedLeft[t]=e,a.doAction("goRight")},50)},addALLList:function(){this.selectedRight=r()([],this.leftTable),this.doAction("goLeft")},minusAllList:function(){this.selectedLeft=r()([],this.rightTable),this.doAction("goRight")},dclickAddItem:function(e,t){this.selectedRight=[],this.selectedRight.push(e),this.doAction("goLeft")},dclickMinusItem:function(e,t){this.selectedLeft=[],this.selectedLeft.push(e),this.doAction("goRight")},getSumRight:function(e){return Object(g.getSummaries)(e,["shipFeeTotal","kickBackPay","transferPay","unusualPay","exceptionPay","pickPuPay","othePay","cargoAmount|","cargoWeight|","cargoVolume|","shipFeeTotalActual","noKickBackPay","hadKickBackPay","noTransferPay","hadTransferPay","noUnusualPay","hadUnusualPay","noExceptionPay","hadExceptionPay","noPickPuPay","hadPickPuPay","noOthePay","hadOthePay","noShipFeeTotal","hadShipFeeTotal"])},getSumLeft:function(e){return Object(g.getSummaries)(e,["shipFeeTotal","kickBackPay","transferPay","unusualPay","exceptionPay","pickPuPay","othePay","cargoAmount|","cargoWeight|","cargoVolume|","shipFeeTotalActual","cargoVolume","noKickBackPay","hadKickBackPay","noTransferPay","hadTransferPay","noUnusualPay","hadUnusualPay","noExceptionPay","hadExceptionPay","noPickPuPay","hadPickPuPay","noOthePay","hadOthePay","noShipFeeTotal","hadShipFeeTotal","kickBackPayActual","transferPayActual","unusualPayActual","exceptionPayActual","pickPuPayActual","othePayActual"])}}}},a49H:function(e,t){},cYMz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("FVhK"),i=a("PcpC");var o=function(e){a("u/c4")},r=a("VU/8")(l.a,i.a,o,null,null);t.default=r.exports},ceWI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("gr6L"),i=a("t9ti");var o=function(e){a("yHFX")},r=a("VU/8")(l.a,i.a,o,null,null);t.default=r.exports},eeSf:function(e,t,a){"use strict";var l=a("woOf"),i=a.n(l),o=a("0xDb"),r=a("pAQG"),n=a("QS/K"),s=a("Vi15"),c=a("TsW9");t.a={components:{querySelect:r.a},props:{popVisible:{type:Boolean,default:!1},info:{type:String,default:""},title:{type:String,default:"智能核销"},setSettlementId:{type:[Number,String]}},data:function(){return{formModel:{autoTotalAmount:0,paymentsType:1,feeId:""},senderOptions:[],truckOptions:[],settlementId:179,incomePayType:"PAYABLE",rules:{},searchTime:[Object(o.parseTime)(new Date-2592e6),Object(o.parseTime)(new Date)],pickerOptions2:{shortcuts:o.pickerOptions2},feeIds:[],feeIdsBatch:[{id:179,feeType:"干线"},{id:180,feeType:"短驳"},{id:181,feeType:"送货"}]}},computed:{isShow:{get:function(){if(this.popVisible){switch(this.formModel=this.$options.data().formModel,this.title){case"批次":this.getAllTrunk(),this.settlementId=179,this.formModel.settlementId=this.setSettlementId,this.$set(this.formModel,"truckIdNumber","");break;case"运单":this.getAllCustomer(),this.settlementId=178,this.formModel.settlementId="",this.$set(this.formModel,"shipSenderName","")}this.init()}return this.popVisible},set:function(){}}},watch:{title:{handler:function(e,t){},deep:!0},setSettlementId:{handler:function(e,t){179===this.settlementId&&(this.formModel.settlementId=e)},deep:!0}},methods:{init:function(){this.getFeeTypeDict()},getAllCustomer:function(){var t=this,e={currentPage:1,pageSize:200,vo:{orgid:this.otherinfo.orgid,customerType:1,customerMobile:"",customerName:""}};Object(s.b)(e).then(function(e){t.senderOptions=e.list}).catch(function(e){t._handlerCatchMsg(e)})},getAllTrunk:function(){var t=this;Object(c.e)().then(function(e){t.truckOptions=e.data}).catch(function(e){t._handlerCatchMsg(e)})},querySearchTruck:function(e,t){var a=this.truckOptions;t(e?a.filter(this.createFilter(new RegExp(e,"gi"),"truckIdNumber")):a)},querySearchSender:function(e,t){var a=this.senderOptions;t(e?a.filter(this.createFilter(new RegExp(e,"gi"),"truckIdNumber")):a)},createFilter:function(t,a){return function(e){if(e[a])return t.test(e[a])}},handleSelectTruck:function(e){this.formModel.truckIdNumber=e.truckIdNumber},handleSelectSender:function(e){this.formModel.shipSenderName=e.customerName},getFeeTypeDict:function(){var t=this;Object(n.b)(this.settlementId).then(function(e){t.feeIds=e}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},onSubmit:function(e){var a=this;this.$refs[e].validate(function(e){if(e){a.$set(a.formModel,"startTime",Object(o.parseTime)(a.searchTime[0],"{y}-{m}-{d} ")+"00:00:00"),a.$set(a.formModel,"endTime",Object(o.parseTime)(a.searchTime[1],"{y}-{m}-{d} ")+"23:59:59"),a.$set(a.formModel,"orgId",a.$route.query.orgId),a.$set(a.formModel,"incomePayType",a.incomePayType),178===a.settlementId&&a.$set(a.formModel,"settlementId",a.settlementId),a.formModel.autoTotalAmount=Number(a.formModel.autoTotalAmount);var t=i()({},a.formModel);Object(n.c)(t).then(function(e){a.$emit("success",{info:e,count:t.autoTotalAmount,type:a.settlementId}),a.closeMe(),a.$message({type:"success",message:"智能核销搜索运单操作成功"})}).catch(function(e){a._handlerCatchMsg(e)})}})},selectFeeIdBatch:function(e){this.$emit("change",e)},closeMe:function(e){this.$emit("close"),"function"==typeof e&&e()}}}},gr6L:function(e,t,a){"use strict";var l=a("pFYg"),r=a.n(l),i=a("woOf"),o=a.n(i),n=a("Dd8w"),s=a.n(n),c=a("bOdI"),h=a.n(c),u=a("NYxO"),d=(a("TsW9"),a("pAQG")),m=a("IcMT"),b=a("0xDb"),f=a("QS/K"),p=a("cYMz"),g=a("0xDb");t.a={data:function(){var e;return e={loading:!0,searchTime:[Object(b.parseTime)(new Date-5184e6),Object(b.parseTime)(new Date)],tablekey:"",truckMessage:"",searchForm:{},incomePayType:"PAYABLE",paymentsType:1,settlementId:179},h()(e,"loading",!1),h()(e,"btnsize","mini"),h()(e,"selectedRight",[]),h()(e,"selectedLeft",[]),h()(e,"orgLeftTable",[]),h()(e,"leftTable",[]),h()(e,"rightTable",[]),h()(e,"countOrgLeftTable",[]),h()(e,"FEE_TYPE",{179:"loadFeeTotal",180:"shortPay",181:"sendPay"}),h()(e,"orgData",{left:[],right:[]}),h()(e,"arrLastPartActualFeeName",[]),h()(e,"arrLastPartNoFeeName",[]),h()(e,"arrLastPartFeeName",[]),h()(e,"arrNoPayName",[]),h()(e,"arrPayName",[]),h()(e,"arrPayNameActual",[]),e},props:{setLoadTable:{type:Object,default:function(){}},isModify:{type:Boolean,default:!1},countSuccessList:{type:Array,default:[]},countNum:{type:[Number,String]},getSettlementId:{type:[Number,String]},orgId:{type:[Number,String]}},computed:s()({},Object(u.b)(["otherinfo"]),{feeName:{get:function(){return this.FEE_TYPE[this.settlementId]},set:function(){return""}}}),components:{transferTable:m.a,querySelect:d.a,currentSearch:p.default},watch:{isModify:{get:function(){this.isModify},set:function(){}},setLoadTable:{handler:function(e,t){e&&(this.orgData=o()({},e),this.getList())},deep:!0},countSuccessList:{handler:function(e,t){this.initCount(e,t)},deep:!0},getSettlementId:{handler:function(e,t){e&&(this.settlementId=e,this.getList())},deep:!0}},activated:function(){this.getPayName(),this.getList()},methods:{getPayName:function(){if(0!==this.rightTable.length){for(var e in this.arrNoPayName=[],this.rightTable[0])0===e.indexOf("no")&&this.arrNoPayName.push(e);for(var t in this.arrPayName=[],this.arrNoPayName){var a=this.arrNoPayName[t].substring(2,3).toLowerCase()+this.arrNoPayName[t].substring(3);this.arrPayName.push(a)}for(var l in this.arrhadPayName=[],this.arrNoPayName){var i="had"+this.arrNoPayName[l].substring(2);this.arrhadPayName.push(i)}for(var o in this.arrPayNameActual=[],this.arrPayName){var r=this.arrPayName[o]+"Actual";this.arrPayNameActual.push(r)}var n={arrPayName:this.arrPayName,arrNoPayName:this.arrNoPayName,arrhadPayName:this.arrhadPayName,arrPayNameActual:this.arrPayNameActual};this.$emit("feeName",n)}},initCount:function(e,t){var i=this;if(console.log("============后台返回的智能运单=============\n",e),this.arrLastPartActualFeeName=[],this.arrLastPartNoFeeName=[],this.arrLastPartFeeName=[],this.leftTable=[],this.rightTable=Object(b.objectMerge2)([],e),this.$emit("loadTable",this.rightTable),0===this.rightTable.length)return this.$message({type:"warning",message:"无符合智能核销条件的运单。"}),this.leftTable=Object(b.objectMerge2)([],this.orgLeftTable),!1;this.leftTable=Object(b.objectMerge2)([],this.orgLeftTable).filter(function(t,e){return-1===i.rightTable.findIndex(function(e){return t.batchNo===e.batchNo})}),0!==this.leftTable.length&&(console.log("第一次去重！！！！！"),this.leftTable=this.uniqueArray(this.leftTable,"batchNo")),this.$emit("loadTable",this.rightTable),this.getPayName();var o=!1;this.arrPayNameActual.forEach(function(e,t){var a=i.rightTable[i.rightTable.length-1][e],l=i.rightTable[i.rightTable.length-1][i.arrNoPayName[t]];l!==a&&""!==l&&null!==l&&""!==a&&null!==a&&(void 0===l?"undefined":r()(l))===(void 0===a?"undefined":r()(a))&&(o=!0,i.arrLastPartFeeName.push(i.arrPayName[t]),i.arrLastPartActualFeeName.push(e),i.arrLastPartNoFeeName.push(i.arrNoPayName[t]))}),this.rightTable[this.rightTable.length-1].loadFeeTotal!==this.rightTable[this.rightTable.length-1].loadFeeTotalActual?(this.$notify.info({title:"提示",message:"最后一条数据实际只需支付部分未核销费用，多余的需要返回到左边列表！"}),o=!0,this.arrLastPartFeeName.push("loadFeeTotal"),this.arrLastPartActualFeeName.push("loadFeeTotalActual")):o=!1,o&&(this.leftTable.push(Object(b.objectMerge2)([],this.rightTable[this.rightTable.length-1])),this.arrLastPartFeeName.forEach(function(e){var t="no"+e.substring(0,1).toUpperCase()+e.substring(1),a=e+"Actual";i.leftTable[i.leftTable.length-1][a]=i.rightTable[i.rightTable.length-1][t]-i.rightTable[i.rightTable.length-1][a],i.leftTable[i.leftTable.length-1].loadFeeTotalActual=i.rightTable[i.rightTable.length-1].loadFeeTotal-i.rightTable[i.rightTable.length-1].loadFeeTotalActual})),this.$emit("loadTable",this.rightTable),this.countOrgLeftTable=Object(b.objectMerge2)([],this.leftTable),console.log(this.countOrgLeftTable.length)},uniqueArray:function(e,t,a){for(var l=[e[0]],i=1;i<e.length;i++){for(var o=e[i],r=!1,n=0;n<l.length;n++)if(console.log(t,"//////111",o[t],l[n][t]),o[t]===l[n][t]){if(console.log(t,"//////222"),a)for(var s in a)l[n][a[s]]=g.tmsMath._add(o[a[s]],l[n][a[s]]);r=!0;break}r||l.push(o)}return l},getList:function(){var t=this;this.leftTable=this.$options.data().leftTable,this.rightTable=this.$options.data().rightTable,this.orgLeftTable=this.$options.data().orgLeftTable,this.countOrgLeftTable=this.$options.data().countOrgLeftTable;var e={};this.isModify?(this.leftTable=this.orgData.left,this.orgLeftTable=this.orgData.left,this.rightTable=this.orgData.right,this.countOrgLeftTable=this.orgData.left,this.$emit("loadTable",this.rightTable)):(this.$set(e,"orgId",this.orgId),this.$set(e,"incomePayType",this.incomePayType),this.$set(e,"paymentsType",this.paymentsType),this.$set(e,"settlementId",this.settlementId),this.$set(e,"startTime",Object(b.parseTime)(this.searchTime[0],"{y}-{m}-{d} ")+"00:00:00"),this.$set(e,"endTime",Object(b.parseTime)(this.searchTime[1],"{y}-{m}-{d} ")+"23:59:59"),Object(f.c)(e).then(function(e){t.loading=!1,t.leftTable=e,t.orgLeftTable=e,t.countOrgLeftTable=e,t.$emit("loadTable",t.rightTable)}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)}),e={})},setSettlementId:function(e){e&&(this.settlementId=e,this.tableKey=Math.random(),this.rightTable=this.$options.data().rightTable,this.getList(),this.$emit("setSettlementId",this.settlementId))},getSearch:function(e){this.leftTable=e},clickDetailsRight:function(e){this.$refs.multipleTableRight.toggleRowSelection(e)},clickDetailsLeft:function(e){this.$refs.multipleTableLeft.toggleRowSelection(e)},getSelectionRight:function(e){this.selectedRight=e},getSelectionLeft:function(e){this.selectedLeft=e},changeTableKey:function(){this.tablekey=Math.random()},doAction:function(e){switch(e){case"goLeft":this.goLeft();break;case"goRight":this.goRight()}},goLeft:function(){var a=this;0===this.selectedRight.length?this.$message({type:"warning",message:"请在左边表格选择数据"}):(this.selectedRight.forEach(function(t,e){t.loadAmount=t.repertoryAmount,t.loadWeight=t.repertoryWeight,t.loadVolume=t.repertoryVolume,a.leftTable=Object(b.objectMerge2)([],a.leftTable).filter(function(e){return e.batchNo!==t.batchNo}),a.rightTable.push(t),a.countOrgLeftTable=Object(b.objectMerge2)([],a.countOrgLeftTable).filter(function(e){return e.batchNo!==t.batchNo})}),this.rightTable=this.uniqueArray(Object(b.objectMerge2)(this.rightTable),"batchNo",this.arrLastPartActualFeeName),this.selectedRight=[],this.getPayName(),this.$emit("loadTable",this.rightTable),console.log("-",this.countOrgLeftTable.length))},goRight:function(){var a=this;0===this.selectedLeft.length?this.$message({type:"warning",message:"请在右边表格选择数据"}):(this.selectedLeft.forEach(function(t,e){a.leftTable.push(t),a.countOrgLeftTable.push(t),a.rightTable=Object(b.objectMerge2)([],a.rightTable).filter(function(e){return e.batchNo!==t.batchNo})}),this.leftTable=this.uniqueArray(Object(b.objectMerge2)(this.leftTable),"batchNo",this.arrLastPartActualFeeName),this.countOrgLeftTable=this.uniqueArray(Object(b.objectMerge2)(this.countOrgLeftTable),"batchNo",this.arrLastPartActualFeeName),this.selectedLeft=[],this.getPayName(),this.$emit("loadTable",this.rightTable),console.log("+",this.countOrgLeftTable.length))},addItem:function(e,t){var a=this;clearTimeout(this.addTimer),this.addTimer=setTimeout(function(){a.selectedRight=[],a.selectedRight[t]=e,a.doAction("goLeft")},50)},minusItem:function(e,t){var a=this;clearTimeout(this.minusTimer),this.minusTimer=setTimeout(function(){a.selectedLeft=[],a.selectedLeft[t]=e,a.doAction("goRight")},50)},addALLList:function(){this.selectedRight=o()([],this.leftTable),this.doAction("goLeft")},minusAllList:function(){this.selectedLeft=o()([],this.rightTable),this.doAction("goRight")},dclickAddItem:function(e,t){this.selectedRight=[],this.selectedRight.push(e),this.doAction("goLeft")},dclickMinusItem:function(e,t){this.selectedLeft=[],this.selectedLeft.push(e),this.doAction("goRight")},getSumRight:function(e){return Object(g.getSummaries)(e,["shortPay","sendPay","loadFeeTotal","startLoadPay","startOtherPay","endLoadPay","endOtherPay","repertoryAmount","loadFeeTotalActual","wholeSurePay","noShortPay","hadShortPay","noSendPay","hadSendPay","noLoadFeeTotal","hadLoadFeeTotal","noStartLoadPay","hadStartLoadPay","noStartOtherPay","hadStartOtherPay","noEndLoadPay","hadEndLoadPay","noEndOtherPay","hadEndOtherPay","noWholeSurePay","hadWholeSurePay","departTotal","departTotalActual","noDepartTotal","hadDepartTotal","arriveTotal","arriveTotalActual","noArriveTotal","hadArriveTotal"])},getSumLeft:function(e){return Object(g.getSummaries)(e,["shortPay","sendPay","loadFeeTotal","startLoadPay","startOtherPay","endLoadPay","endOtherPay","repertoryAmount","loadFeeTotalActual","wholeSurePay","noShortPay","hadShortPay","noSendPay","hadSendPay","noLoadFeeTotal","hadLoadFeeTotal","noStartLoadPay","hadStartLoadPay","noStartOtherPay","hadStartOtherPay","noEndLoadPay","hadEndLoadPay","noEndOtherPay","hadEndOtherPay","noWholeSurePay","hadWholeSurePay","departTotal","departTotalActual","noDepartTotal","hadDepartTotal","arriveTotal","arriveTotalActual","noArriveTotal","hadArriveTotal"])}}}},jCPK:function(e,t){},t9ti:function(e,t,a){"use strict";var l={render:function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("transferTable",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}]},[l("div",{staticClass:"tableHeadItemForm clearfix",attrs:{slot:"tableSearch"},slot:"tableSearch"},[l("currentSearch",{attrs:{info:a.countOrgLeftTable,getSettlementId:a.settlementId},on:{change:a.getSearch,setSettlementId:a.setSettlementId}})],1),a._v(" "),l("div",{staticClass:"tableHeadItemBtn",staticStyle:{height:"100%"},attrs:{slot:"tableLeft"},slot:"tableLeft"},[l("el-button",{staticClass:"tableAllBtn",attrs:{size:"mini"},on:{click:a.addALLList}}),a._v(" "),l("el-table",{key:a.tablekey,ref:"multipleTableRight",attrs:{data:a.leftTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumRight,"default-sort":{prop:"id",order:"ascending"},"show-overflow-tooltip":!0,"show-summary":!0},on:{"row-click":a.clickDetailsRight,"selection-change":a.getSelectionRight,"row-dblclick":a.dclickAddItem}},[l("el-table-column",{attrs:{fixed:"",type:"index",width:"50"}}),a._v(" "),l("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(t){return[l("el-button",{staticClass:"tableItemBtn",attrs:{size:"mini"},on:{click:function(e){a.addItem(t.row,t.$index)}}})]}}])}),a._v(" "),l("el-table-column",{attrs:{label:"发车批次",prop:"batchNo",fixed:"",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"truckIdNumber",sortable:"",label:"车牌号",width:"100"}}),a._v(" "),l("el-table-column",{attrs:{prop:"driverName",sortable:"",label:"司机",width:"120"}}),a._v(" "),180===a.settlementId?l("el-table-column",{attrs:{prop:"shortPay",sortable:"",label:"短驳费",width:"120"}}):a._e(),a._v(" "),180===a.settlementId?l("el-table-column",{attrs:{prop:"noShortPay",sortable:"",label:"未核销短驳费",width:"120"}}):a._e(),a._v(" "),180===a.settlementId?l("el-table-column",{attrs:{prop:"hadShortPay",sortable:"",label:"已核销短驳费",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?l("el-table-column",{attrs:{prop:"sendPay",sortable:"",label:"送货费",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?l("el-table-column",{attrs:{prop:"noSendPay",sortable:"",label:"未核销送货费",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?l("el-table-column",{attrs:{prop:"hadSendPay",sortable:"",label:"已核销送货费",width:"120"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"departTotal",sortable:"",label:"发车汇总",width:"100"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"noDepartTotal",sortable:"",label:"未核销发车汇总",width:"120"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"hadDepartTotal",sortable:"",label:"已核销发车汇总",width:"120"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"arriveTotal",sortable:"",label:"到车汇总",width:"100"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"noArriveTotal",sortable:"",label:"未核销到车汇总",width:"120"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"hadArriveTotal",sortable:"",label:"已核销到车汇总",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?l("el-table-column",{attrs:{prop:"departureTime",sortable:"",label:"送货时间",width:"160"}}):a._e(),a._v(" "),181===a.settlementId?l("el-table-column",{attrs:{prop:"requireArrivedTime",sortable:"",label:"到达时间",width:"160"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"departureTime",sortable:"",label:"发车时间",width:"160"}}):a._e(),a._v(" "),181!==a.settlementId?l("el-table-column",{attrs:{prop:"receivingTime",sortable:"",label:"到车时间",width:"160"}}):a._e(),a._v(" "),181!==a.settlementId?l("el-table-column",{attrs:{prop:"orgName",sortable:"",label:"发车网点",width:"120"}}):a._e(),a._v(" "),181!==a.settlementId?l("el-table-column",{attrs:{prop:"arriveOrgName",sortable:"",label:"到车网点",width:"120"}}):a._e(),a._v(" "),l("el-table-column",{attrs:{prop:"remark",sortable:"",label:"备注"}})],1)],1),a._v(" "),l("div",{staticClass:"tableHeadItemBtn",attrs:{slot:"tableRight"},slot:"tableRight"},[l("el-button",{staticClass:"tableAllBtnMinus",attrs:{size:"mini"},on:{click:a.minusAllList}}),a._v(" "),l("el-table",{key:a.tablekey,ref:"multipleTableLeft",staticStyle:{height:"100%"},attrs:{data:a.rightTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumLeft,"default-sort":{prop:"id",order:"ascending"},"show-summary":!0},on:{"row-dblclick":a.dclickMinusItem,"row-click":a.clickDetailsLeft,"selection-change":a.getSelectionLeft}},[l("el-table-column",{attrs:{fixed:"",type:"index",width:"50"}}),a._v(" "),l("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(t){return[l("el-button",{staticClass:"tableItemBtnMinus",attrs:{size:"mini"},on:{click:function(e){a.minusItem(t.row,t.$index)}}})]}}])}),a._v(" "),l("el-table-column",{attrs:{label:"发车批次",fixed:"",prop:"batchNo",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"truckIdNumber",sortable:"",label:"车牌号",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"driverName",sortable:"",label:"司机",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"loadFeeTotalActual",sortable:"",label:"实际合计",width:"120"}}),a._v(" "),180===a.settlementId?l("el-table-column",{attrs:{prop:"shortPay",sortable:"",label:"短驳费",width:"120"}}):a._e(),a._v(" "),180===a.settlementId?l("el-table-column",{attrs:{prop:"noShortPay",sortable:"",label:"未核销短驳费",width:"120"}}):a._e(),a._v(" "),180===a.settlementId?l("el-table-column",{attrs:{prop:"hadShortPay",sortable:"",label:"已核销短驳费",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?l("el-table-column",{attrs:{prop:"sendPay",sortable:"",label:"送货费",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?l("el-table-column",{attrs:{prop:"noSendPay",sortable:"",label:"未核销送货费",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?l("el-table-column",{attrs:{prop:"hadSendPay",sortable:"",label:"已核销送货费",width:"120"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"departTotal",sortable:"",label:"发车汇总",width:"100"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"departTotalActual",sortable:"",label:"发车汇总实际支出",width:"140"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"noDepartTotal",sortable:"",label:"未核销发车汇总",width:"120"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"hadDepartTotal",sortable:"",label:"已核销发车汇总",width:"120"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"arriveTotal",sortable:"",label:"到车汇总",width:"100"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"arriveTotalActual",sortable:"",label:"到车汇总实际支出",width:"140"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"noArriveTotal",sortable:"",label:"未核销到车汇总",width:"120"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"hadArriveTotal",sortable:"",label:"已核销到车汇总",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?l("el-table-column",{attrs:{prop:"departureTime",sortable:"",label:"送货时间",width:"160"}}):a._e(),a._v(" "),179===a.settlementId?l("el-table-column",{attrs:{prop:"departureTime",sortable:"",label:"发车时间",width:"160"}}):a._e(),a._v(" "),181!==a.settlementId?l("el-table-column",{attrs:{prop:"receivingTime",sortable:"",label:"到车时间",width:"160"}}):a._e(),a._v(" "),181!==a.settlementId?l("el-table-column",{attrs:{prop:"orgName",sortable:"",label:"发车网点",width:"120"}}):a._e(),a._v(" "),181!==a.settlementId?l("el-table-column",{attrs:{prop:"arriveOrgName",sortable:"",label:"到车网点",width:"120"}}):a._e(),a._v(" "),l("el-table-column",{attrs:{prop:"remark",sortable:"",label:"备注"}})],1)],1)])},staticRenderFns:[]};t.a=l},tsWw:function(e,t,a){"use strict";var l={render:function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("transferTable",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}]},[l("div",{staticClass:"tableHeadItemForm clearfix",attrs:{slot:"tableSearch"},slot:"tableSearch"},[l("currentSearch",{attrs:{info:a.countOrgLeftTable},on:{change:a.getSearch}})],1),a._v(" "),l("div",{staticClass:"tableHeadItemBtn",staticStyle:{height:"100%"},attrs:{slot:"tableLeft"},slot:"tableLeft"},[l("el-button",{staticClass:"tableAllBtn",attrs:{size:"mini"},on:{click:a.addALLList}}),a._v(" "),l("el-table",{key:a.tablekey,ref:"multipleTableRight",attrs:{data:a.leftTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumRight,"default-sort":{prop:"id",order:"ascending"},"show-overflow-tooltip":!0,"show-summary":!0},on:{"row-click":a.clickDetailsRight,"selection-change":a.getSelectionRight,"row-dblclick":a.dclickAddItem}},[l("el-table-column",{attrs:{fixed:"",width:"50",type:"index",label:"序号"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(e.$index+1)+"\n        ")]}}])}),a._v(" "),l("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(t){return[l("el-button",{staticClass:"tableItemBtn",attrs:{size:"mini"},on:{click:function(e){a.addItem(t.row,t.$index)}}})]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSn",label:"运单号",fixed:"",width:"130"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipGoodsSn",sortable:"",label:"货号",width:"150"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipFeeTotalActual",sortable:"",label:"实际合计",width:"150"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipFeeTotal",sortable:"",label:"运费合计",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noShipFeeTotal",sortable:"",label:"未核销运费合计",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadShipFeeTotal",sortable:"",label:"已核销运费合计",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"kickBackPay",sortable:"",label:"回扣",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noKickBackPay",sortable:"",label:"未核销回扣",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadKickBackPay",sortable:"",label:"已核销回扣",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"transferPay",sortable:"",label:"中转费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noTransferPay",sortable:"",label:"未核销中转费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadTransferPay",sortable:"",label:"已核销中转费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"unusualPay",sortable:"",label:"异动费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noUnusualPay",sortable:"",label:"未核销异动费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadUnusualPay",sortable:"",label:"已核销异动费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"exceptionPay",sortable:"",label:"异常理赔",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noExceptionPay",sortable:"",label:"未核销异常理赔",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadExceptionPay",sortable:"",label:"已核销异常理赔",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"pickPuPay",sortable:"",label:"实际提货费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noPickPuPay",sortable:"",label:"未核销实际提货费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadPickPuPay",sortable:"",label:"已核销实际提货费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"othePay",sortable:"",label:"其他费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noOthePay",sortable:"",label:"未核销其他费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadOthePay",sortable:"",label:"已核销其他费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipFromCityName",sortable:"",label:"出发城市",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(a._processTableSlot(e,"shipFromCityName"))+"\n        ")]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"shipToCityName",sortable:"",label:"到达城市",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(a._processTableSlot(e,"shipToCityName"))+"\n        ")]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoName",sortable:"",label:"货品名",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoAmount",sortable:"",label:"件数",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoWeight",sortable:"",label:"重量",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoVolume",sortable:"",label:"体积",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSenderUnit",sortable:"",label:"发货方",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSenderName",sortable:"",label:"发货人",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipRemarks",sortable:"",label:"运单备注",width:"120"}})],1)],1),a._v(" "),l("div",{staticClass:"tableHeadItemBtn",attrs:{slot:"tableRight"},slot:"tableRight"},[l("el-button",{staticClass:"tableAllBtnMinus",attrs:{size:"mini"},on:{click:a.minusAllList}}),a._v(" "),l("el-table",{key:a.tablekey,ref:"multipleTableLeft",staticStyle:{height:"100%"},attrs:{data:a.rightTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumLeft,"default-sort":{prop:"id",order:"ascending"},"show-summary":!0},on:{"row-dblclick":a.dclickMinusItem,"row-click":a.clickDetailsLeft,"selection-change":a.getSelectionLeft}},[l("el-table-column",{attrs:{fixed:"",width:"50",type:"index",label:"序号"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(e.$index+1)+"\n        ")]}}])}),a._v(" "),l("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(t){return[l("el-button",{staticClass:"tableItemBtnMinus",attrs:{size:"mini"},on:{click:function(e){a.minusItem(t.row,t.$index)}}})]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSn",label:"运单号",fixed:"",width:"130"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipGoodsSn",sortable:"",label:"货号",width:"150"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipFeeTotalActual",sortable:"",label:"实际合计",width:"150"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipFeeTotal",sortable:"",label:"运费合计",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noShipFeeTotal",sortable:"",label:"未核销运费合计",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadShipFeeTotal",sortable:"",label:"已核销运费合计",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipFeeTotalActual",sortable:"",label:"实际运费合计",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"kickBackPay",sortable:"",label:"回扣",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noKickBackPay",sortable:"",label:"未核销回扣",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadKickBackPay",sortable:"",label:"已核销回扣",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"kickBackPayActual",sortable:"",label:"实结回扣",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"transferPay",sortable:"",label:"中转费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noTransferPay",sortable:"",label:"未核销中转费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadTransferPay",sortable:"",label:"已核销中转费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"transferPayActual",sortable:"",label:"实结中转费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"unusualPay",sortable:"",label:"异动费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noUnusualPay",sortable:"",label:"未核销异动费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadUnusualPay",sortable:"",label:"已核销异动费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"unusualPayActual",sortable:"",label:"实结异动费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"exceptionPay",sortable:"",label:"异常理赔",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noExceptionPay",sortable:"",label:"未核销异常理赔",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadExceptionPay",sortable:"",label:"已核销异常理赔",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"exceptionPayActual",sortable:"",label:"实结异常理赔",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"pickPuPay",sortable:"",label:"实际提货费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noPickPuPay",sortable:"",label:"未核销实际提货费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadPickPuPay",sortable:"",label:"已核销实际提货费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"pickPuPayActual",sortable:"",label:"实结实际提货费",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"othePay",sortable:"",label:"其他费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"noOthePay",sortable:"",label:"未核销其他费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"hadOthePay",sortable:"",label:"已核销其他费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"othePayActual",sortable:"",label:"实结其他费用",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipFromCityName",sortable:"",label:"出发城市",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(a._processTableSlot(e,"shipFromCityName"))+"\n        ")]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"shipToCityName",sortable:"",label:"到达城市",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(a._processTableSlot(e,"shipToCityName"))+"\n        ")]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoName",sortable:"",label:"货品名",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoAmount",sortable:"",label:"件数",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoWeight",sortable:"",label:"重量",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoVolume",sortable:"",label:"体积",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSenderUnit",sortable:"",label:"发货方",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSenderName",sortable:"",label:"发货人",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipRemarks",sortable:"",label:"运单备注",width:"120"}})],1)],1)])},staticRenderFns:[]};t.a=l},"u/c4":function(e,t){},"xEn/":function(e,t,a){"use strict";var l=a("pAQG"),n=a("0xDb");t.a={components:{querySelect:l.a},data:function(){return{senderSearch:"",searchForm:{shipSenderName:"",senderCustomerUnit:"",shipSn:""},btnsize:"mini",selectVal:""}},props:{info:{type:Array,default:[]}},methods:{clearSearchSelect:function(e){this.$emit("change",Object(n.objectMerge2)([],this.info))},querySearch:function(e,t,a){var l=this.info;for(var i in this.searchForm[e]=t,this.selectVal=e,this.searchForm)void 0!==this.searchForm[i]&&""!==this.searchForm[i]||this.$emit("change",Object(n.objectMerge2)([],this.info));var o=t?l.filter(this.createFilter(t,e)):l;a(o);var r=[];o.forEach(function(e){r.push(e)}),this.$emit("change",r)},createFilter:function(t,a){return function(e){return-1!==e[a].toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(e){this.searchForm[this.selectVal]=e[this.selectVal],this.selectVal="";var t=[];t.push(e),this.$emit("change",t)},clearSender:function(e){this.searchForm=this.$options.data().searchForm}}}},yHFX:function(e,t){}});