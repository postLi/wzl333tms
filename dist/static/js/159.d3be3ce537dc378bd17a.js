webpackJsonp([159,250],{"+Fs/":function(t,e,a){"use strict";var l={render:function(){var a=this,t=a.$createElement,l=a._self._c||t;return l("transferTable",[l("el-button",{attrs:{slot:"tableRefresh",icon:"el-icon-refresh",size:"mini",type:"primary",plain:"",circle:""},on:{click:a.getList},slot:"tableRefresh"}),a._v(" "),l("div",{staticClass:"tableHeadItemForm clearfix",attrs:{slot:"tableSearch"},slot:"tableSearch"},[l("currentSearch",{attrs:{info:a.orgLeftTable},on:{change:a.getSearch}})],1),a._v(" "),l("div",{staticClass:"tableHeadItemBtn",staticStyle:{height:"100%"},attrs:{slot:"tableLeft"},slot:"tableLeft"},[l("el-button",{staticClass:"tableAllBtn",attrs:{size:"mini"},on:{click:a.addALLList}}),a._v(" "),l("el-table",{key:a.tablekey,ref:"multipleTableRight",attrs:{data:a.leftTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumRight,"default-sort":{prop:"id",order:"ascending"},"show-overflow-tooltip":!0,"show-summary":!0},on:{"row-dblclick":a.dclickAddItem,"row-click":a.clickDetailsRight,"selection-change":a.getSelectionRight}},[l("el-table-column",{attrs:{fixed:"",width:"50",label:"序号"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n          "+a._s(t.$index+1)+"\n        ")]}}])}),a._v(" "),l("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("el-button",{staticClass:"tableItemBtn",attrs:{size:"mini"},on:{click:function(t){a.addItem(e.row,e.$index)}}})]}}])}),a._v(" "),l("el-table-column",{attrs:{fixed:"",prop:"shipFromOrgName",label:"开单网点",width:"80"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSn",width:"130",label:"运单号"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipArrivepayFee",sortable:"",label:"到付(元)",width:"90"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipFromCityName",sortable:"",label:"出发城市",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipToCityName",sortable:"",label:"到达城市",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSenderName",sortable:"",label:"发货人",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSenderMobile",sortable:"",label:"发货人电话",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipReceiverName",sortable:"",label:"收货人",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipReceiverMobile",sortable:"",label:"收货人电话",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoName",sortable:"",label:"货品名",width:"140"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipGoodsSn",sortable:"",label:"货号",width:"140"}}),a._v(" "),l("el-table-column",{attrs:{prop:"repertoryAmount",sortable:"",label:"库存件数",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"repertoryWeight",sortable:"",label:"库存重量(千克)",width:"140"}}),a._v(" "),l("el-table-column",{attrs:{prop:"repertoryVolume",sortable:"",label:"库存体积(方)",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoAmount",sortable:"",label:"运单件数",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoWeight",sortable:"",label:"运单重量(千克)",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoVolume",sortable:"",label:"运单体积(方)",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipRemarks",sortable:"",label:"运单备注",width:"120"}})],1)],1),a._v(" "),l("div",{staticClass:"tableHeadItemBtn",attrs:{slot:"tableRight"},slot:"tableRight"},[l("el-button",{staticClass:"tableAllBtnMinus",attrs:{size:"mini"},on:{click:a.minusAllList}}),a._v(" "),l("el-table",{key:a.tablekey,ref:"multipleTableLeft",staticStyle:{height:"100%"},attrs:{data:a.rightTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumLeft,"default-sort":{prop:"id",order:"ascending"},"show-summary":!0},on:{"row-dblclick":a.dclickMinusItem,"row-click":a.clickDetailsLeft,"selection-change":a.getSelectionLeft}},[l("el-table-column",{attrs:{fixed:"",width:"50",label:"序号"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n          "+a._s(t.$index+1)+"\n        ")]}}])}),a._v(" "),l("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("el-button",{staticClass:"tableItemBtnMinus",attrs:{size:"mini"},on:{click:function(t){a.minusItem(e.row,e.$index)}}})]}}])}),a._v(" "),l("el-table-column",{attrs:{fixed:"",prop:"shipFromOrgName",label:"开单网点",width:"80"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSn",label:"运单号",width:"130"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipArrivepayFee",sortable:"",label:"到付(元)",width:"90"}}),a._v(" "),l("el-table-column",{attrs:{prop:"loadAmount",sortable:"",label:"配载件数",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("el-input",{attrs:{type:"number",size:a.btnsize,required:""},on:{change:function(t){a.changLoadData(e.$index)}},model:{value:e.row.loadAmount,callback:function(t){a.$set(e.row,"loadAmount",a._n(t))},expression:"scope.row.loadAmount"}})]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"loadWeight",sortable:"",label:"配载重量(千克)",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("el-input",{attrs:{type:"number",size:a.btnsize},on:{change:function(t){a.changLoadData(e.$index)}},model:{value:e.row.loadWeight,callback:function(t){a.$set(e.row,"loadWeight",a._n(t))},expression:"scope.row.loadWeight"}})]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"loadVolume",sortable:"",label:"配载体积(方)",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("el-input",{attrs:{type:"number",size:a.btnsize},on:{change:function(t){a.changLoadData(e.$index)}},model:{value:e.row.loadVolume,callback:function(t){a.$set(e.row,"loadVolume",a._n(t))},expression:"scope.row.loadVolume"}})]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"repertoryAmount",sortable:"",label:"库存件数",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"repertoryWeight",sortable:"",label:"库存重量(千克)",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"repertoryVolume",sortable:"",label:"库存体积(方)",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoAmount",sortable:"",label:"运单件数",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoWeight",sortable:"",label:"运单重量(千克)",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoVolume",sortable:"",label:"运单体积(方)",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipFromCityName",sortable:"",label:"出发城市",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipToCityName",sortable:"",label:"到达城市",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSenderName",sortable:"",label:"发货人",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipSenderMobile",sortable:"",label:"发货人电话",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipReceiverName",sortable:"",label:"收货人",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipReceiverMobile",sortable:"",label:"收货人电话",width:"120"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cargoName",sortable:"",label:"货品名",width:"140"}}),a._v(" "),l("el-table-column",{attrs:{prop:"shipGoodsSn",sortable:"",label:"货号",width:"140"}})],1)],1)],1)},staticRenderFns:[]};e.a=l},"/2Zc":function(t,e,a){"use strict";var l={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("el-form",{ref:"searchForm",staticClass:"tableHeadItemForm",attrs:{inline:"","label-position":"right",model:a.searchForm,"label-width":"70px"}},[e("el-form-item",{attrs:{label:"到达城市"}},[e("el-autocomplete",{attrs:{size:a.btnsize,"popper-class":"popperHide","fetch-suggestions":function(t,e){return a.querySearch("shipToCityName",t,e)},placeholder:"到达城市搜索"},on:{select:a.handleSelect},model:{value:a.searchForm.shipToCityName,callback:function(t){a.$set(a.searchForm,"shipToCityName",t)},expression:"searchForm.shipToCityName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"运单号"}},[e("el-autocomplete",{attrs:{size:a.btnsize,"popper-class":"popperHide","fetch-suggestions":function(t,e){return a.querySearch("shipSn",t,e)},placeholder:"运单号搜索"},on:{select:a.handleSelect},model:{value:a.searchForm.shipSn,callback:function(t){a.$set(a.searchForm,"shipSn",t)},expression:"searchForm.shipSn"}})],1)],1)},staticRenderFns:[]};e.a=l},"2Txg":function(t,e,a){"use strict";var l=a("woOf"),i=a.n(l),o=a("Dd8w"),r=a.n(o),s=a("bOdI"),n=a.n(s),c=a("NYxO"),h=a("TsW9"),d=a("IcMT"),u=a("0xDb"),b=a("sJaV"),f=a("0xDb");e.a={data:function(){var t;return t={tablekey:"",loadTruck:"",truckMessage:"",formModel:{}},n()(t,"loadTruck","loadTruckOne"),n()(t,"loading",!1),n()(t,"btnsize","mini"),n()(t,"selectedRight",[]),n()(t,"selectedLeft",[]),n()(t,"orgLeftTable",[]),n()(t,"leftTable",[]),n()(t,"rightTable",[]),n()(t,"orgData",{left:[],right:[]}),t},props:{setLoadTable:{type:Object,default:function(){}},isModify:{type:Boolean,default:!1}},computed:r()({},Object(c.b)(["otherinfo"])),components:{transferTable:d.a,currentSearch:b.default},watch:{isModify:{handler:function(t,e){this.getList()},deep:!0},setLoadTable:{handler:function(t,e){t&&(this.orgData=i()({},t),this.getList(),console.log("cval",t))},deep:!0}},mounted:function(){0===this.leftTable.length&&this.getList()},activated:function(){this.getList()},methods:{getList:function(){var e=this;console.log("isModify",this.isModify),this.leftTable=this.$options.data().leftTable,this.rightTable=this.$options.data().rightTable,this.orgLeftTable=this.$options.data().orgLeftTable,this.isModify?(this.leftTable=this.orgData.left,this.rightTable=this.orgData.right,this.orgLeftTable=this.orgData.left,this.$emit("loadTable",this.rightTable)):Object(h.c)(this.otherinfo.orgid).then(function(t){e.leftTable=t.data,e.orgLeftTable=t.data,e.$emit("loadTable",e.rightTable)}).catch(function(t){e.loading=!1,e._handlerCatchMsg(t)})},getSearch:function(t){this.leftTable=t},clickDetailsRight:function(t){this.$refs.multipleTableRight.toggleRowSelection(t)},clickDetailsLeft:function(t){this.$refs.multipleTableLeft.toggleRowSelection(t)},getSelectionRight:function(t){this.selectedRight=t},getSelectionLeft:function(t){this.selectedLeft=t},changeTableKey:function(){this.tablekey=Math.random()},doAction:function(t){switch(t){case"goLeft":this.goLeft();break;case"goRight":this.goRight()}},changLoadData:function(t){var e=this.rightTable[t].loadAmount,a=this.rightTable[t].loadWeight,l=this.rightTable[t].loadVolume,i=this.rightTable[t].repertoryAmount,o=this.rightTable[t].repertoryWeight,r=this.rightTable[t].repertoryVolume;return i<e||e<1||o<a||a<0||r<l||l<0?(this.$notify({title:"警告",message:"配载件数不能小于1,配载重量和体积不能小于0,都不能大于库存数量,默认为该库存数量",type:"warning"}),this.rightTable[t].loadAmount=i,this.rightTable[t].loadWeight=o,this.rightTable[t].loadVolume=r):e===i?(this.$notify({title:"提示",message:"配载件数等于该库存大小,即所有配载数量为库存数量",type:"warning"}),this.rightTable[t].loadAmount=i):l===r&&a===o&&(this.$notify({title:"提示",message:"配载重量与配载体积都等于该库存大小,即所有配载数量为库存数量",type:"warning"}),this.rightTable[t].loadWeight=o,this.rightTable[t].loadVolume=r),this.$emit("loadTable",this.rightTable),this.rightTable[t].loadAmount&&this.rightTable[t].loadWeight&&this.rightTable[t].loadVolume},goLeft:function(){var a=this;0===this.selectedRight.length?this.$message({type:"warning",message:"请在左边表格选择数据"}):(this.selectedRight.forEach(function(e,t){e.loadAmount=e.repertoryAmount,e.loadWeight=e.repertoryWeight,e.loadVolume=e.repertoryVolume,a.rightTable=a.rightTable.filter(function(t){return t.repertoryId!==e.repertoryId}),a.rightTable.push(e),a.leftTable=Object(u.objectMerge2)([],a.leftTable).filter(function(t){return t.repertoryId!==e.repertoryId}),a.orgLeftTable=Object(u.objectMerge2)([],a.orgLeftTable).filter(function(t){return t.repertoryId!==e.repertoryId})}),this.selectedRight=[],console.log("rightTable",this.rightTable),this.$emit("loadTable",this.rightTable))},goRight:function(){var a=this;0===this.selectedLeft.length?this.$message({type:"warning",message:"请在右边表格选择数据"}):(this.selectedLeft.forEach(function(e,t){a.leftTable=a.leftTable.filter(function(t){return t.repertoryId!==e.repertoryId}),a.orgLeftTable=a.orgLeftTable.filter(function(t){return t.repertoryId!==e.repertoryId}),a.leftTable.push(e),a.orgLeftTable.push(e),a.rightTable=Object(u.objectMerge2)([],a.rightTable).filter(function(t){return t.repertoryId!==e.repertoryId})}),this.selectedLeft=[],console.log("rightTable",this.rightTable),this.$emit("loadTable",this.rightTable))},addItem:function(t,e){this.selectedRight=[],this.selectedRight[e]=t,this.doAction("goLeft")},minusItem:function(t,e){this.selectedLeft=[],this.selectedLeft[e]=t,this.doAction("goRight")},addALLList:function(){this.selectedRight=i()([],this.leftTable),this.doAction("goLeft")},minusAllList:function(){this.selectedLeft=i()([],this.rightTable),this.doAction("goRight")},dclickAddItem:function(t,e){this.selectedRight=[],this.selectedRight.push(t),this.doAction("goLeft")},dclickMinusItem:function(t,e){this.selectedLeft=[],this.selectedLeft.push(t),this.doAction("goRight")},getSumRight:function(t){return Object(f.getSummaries)(t,["_index|2|单","_index|3|单","shipArrivepayFee|","repertoryAmount|","repertoryWeight|","repertoryVolume|","cargoAmount|","cargoWeight|","cargoVolume|"])},getSumLeft:function(t){return Object(f.getSummaries)(t,["_index|2|单","_index|3|单","shipArrivepayFee|","repertoryAmount|","repertoryWeight|","repertoryVolume|","cargoAmount|","cargoWeight|","cargoVolume|","loadAmount|","loadWeight|","loadVolume|"])}}}},"2Um6":function(t,e,a){"use strict";var l=a("pAQG"),s=a("0xDb");e.a={components:{querySelect:l.a},data:function(){return{senderSearch:"",searchForm:{shipToCityName:"",shipSn:""},btnsize:"mini",selectVal:""}},props:{info:{type:Array,default:[]}},methods:{querySearch:function(t,e,a){console.log(this.info);var l=this.info;for(var i in this.searchForm[t]=e,this.selectVal=t,this.searchForm)void 0!==this.searchForm[i]&&""!==this.searchForm[i]||this.$emit("change",Object(s.objectMerge2)([],this.info));var o=e?l.filter(this.createFilter(e,t)):l;a(o);var r=[];o.forEach(function(t){r.push(t)}),this.$emit("change",r)},createFilter:function(e,a){return function(t){return-1!==t[a].toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(t){this.searchForm[this.selectVal]=t[this.selectVal],this.selectVal="";var e=[];e.push(t),this.$emit("change",e)},clearSender:function(t){this.searchForm=this.$options.data().searchForm}}}},"76vN":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("2Txg"),i=a("+Fs/");var o=function(t){a("ceqy")},r=a("VU/8")(l.a,i.a,o,"data-v-88ba4c5a",null);e.default=r.exports},IcMT:function(t,e,a){"use strict";var l=a("PI8x"),i=a("QVoP");var o=function(t){a("PbzC")},r=a("VU/8")(l.a,i.a,o,null,null);e.a=r.exports},LqS5:function(t,e){},PI8x:function(t,e,a){"use strict";e.a={data:function(){return{isShowLeft:!1,isShowRight:!1,isShowReback:!1,searchForm:""}},methods:{doAction:function(t){switch(t){case"showAllLeft":this.showAllLeft();break;case"showAllRight":this.showAllRight();break;case"showReback":this.showReback()}},showAllLeft:function(){this.isShowLeft=!0,this.isShowRight=!1,this.isShowReback=!0},showAllRight:function(){this.isShowLeft=!1,this.isShowRight=!0,this.isShowReback=!0},showReback:function(){this.isShowReback=!1,this.isShowLeft=!1,this.isShowRight=!1}}}},PbzC:function(t,e){},QVoP:function(t,e,a){"use strict";var l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"transferTable"},[a("div",{staticClass:"transferTable_header"},[a("div",{staticClass:"transferTable_searchs"},[a("div",{staticClass:"transferTable_fresh"},[e._t("tableRefresh")],2),e._v(" "),e._t("tableSearch")],2),e._v(" "),a("div",{staticClass:"transferTable_header_btn_direction"},[a("el-tooltip",{attrs:{effect:"dark",content:"向左侧拉伸",placement:"top-end"}},[a("el-button",{attrs:{icon:"el-icon-arrow-right",type:"primary",circle:"",disabled:e.isShowLeft,size:"mini",plain:""},on:{click:function(t){e.doAction("showAllLeft")}}})],1),e._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:"向右侧拉伸",placement:"top-start"}},[a("el-button",{attrs:{icon:"el-icon-arrow-left",type:"primary",circle:"",disabled:e.isShowRight,size:"mini",plain:""},on:{click:function(t){e.doAction("showAllRight")}}})],1),e._v(" "),a("transition",{attrs:{name:"el-zoom-in-bottom"}},[e.isShowReback?a("el-button",{attrs:{icon:"el-icon-refresh",type:"primary",circle:"",size:"mini",plain:""},on:{click:function(t){e.doAction("showReback")}}}):e._e()],1),e._v(" "),a("div",{staticClass:"transferTable_header_btn_box clearfix"},[e._t("btnsBox")],2)],1)]),e._v(" "),a("div",{staticClass:"transferTable_content"},[a("div",{staticClass:"transferTable_content_table paddingRight",class:[e.isShowLeft?"showTableLeft":e.isShowRight?"shortTableLeft":""]},[e._t("tableLeft",[e._v("左边表格区")])],2),e._v(" "),a("div",{staticClass:"transferTable_content_table",class:[e.isShowRight?"showTableRight":""]},[e._t("tableRight",[e._v("右边表格区")])],2)])])},staticRenderFns:[]};e.a=l},TsW9:function(t,e,a){"use strict";e.a=function(t,e){return l.b.get("/api-order/order/load/v1/getBatchNo/",{params:{orgId:t,loadTypeId:e}})},e.h=function(t){return l.b.post("/api-order/order/load/v1/",t)},e.i=function(t){return l.b.put("/api-order/order/load/v1/",t)},e.c=function(t){return l.b.get("/api-order/order/load/v1/selectAddLoadRepertoryList/",{params:{orgId:t}})},e.f=function(t,e){return l.b.get("/api-order/order/load/v1/selectUpdateLoadRepertoryList/?orgId="+t+"&loadId="+e)},e.g=function(t,e){return l.b.get("/api-order/order/load/v1/selectUpdateLoadDetailList/?orgId="+t+"&loadId="+e)},e.d=function(t){return l.b.get("/api-order/order/load/v1/selectLoadDetailList/",{params:{loadId:t}})},e.e=function(){return l.b.get("/api-system/system/trunk/v1/findCarAndDriver/").then(function(t){return t})},e.b=function(){return l.b.get("/api-system/system/trunk/v1/findDriverAndCar/").then(function(t){return t})};var l=a("Vo7i")},bOdI:function(t,e,a){"use strict";e.__esModule=!0;var l,i=a("C4MV"),o=(l=i)&&l.__esModule?l:{default:l};e.default=function(t,e,a){return e in t?(0,o.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},ceqy:function(t,e){},sJaV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("2Um6"),i=a("/2Zc");var o=function(t){a("LqS5")},r=a("VU/8")(l.a,i.a,o,null,null);e.default=r.exports}});