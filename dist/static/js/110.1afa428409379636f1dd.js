webpackJsonp([110,260,316],{"++fd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("6fVI"),s=n("eE4v"),i=n("VU/8")(o.a,s.a,null,null,null);t.default=i.exports},"1ojz":function(e,t,n){"use strict";var o={render:function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"tab-content tab-content_sms miniHeaderSearch"},[o("div",{staticClass:"tab_info"},[o("div",{staticClass:"btns_box"},[o("el-button",{directives:[{name:"has",rawName:"v-has:SMS_CUSTOMIZATION_1",arg:"SMS_CUSTOMIZATION_1"}],attrs:{type:"primary",size:n.btnsize,icon:"el-icon-document",plain:""},on:{click:n.openAddSign}},[n._v("定制专属签名")]),n._v(" "),n.isShowSignBtn?o("el-button",{directives:[{name:"has",rawName:"v-has:SMS_CUSTOMIZATION_2",arg:"SMS_CUSTOMIZATION_2"}],attrs:{type:"primary",size:n.btnsize,icon:"el-icon-document",plain:""},on:{click:n.openShowSign}},[n._v("查看专属签名")]):n._e(),n._v(" "),o("span",{staticClass:"btns_box_smstips"},[n._v(n._s(n.smsDocText))])],1),n._v(" "),o("div",{staticClass:"info_tab info_tab_sms"},[o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{height:"100%","tooltip-effect":"dark",data:n.infoList,stripe:"",border:""},on:{"row-dblclick":n.editContent}},[o("el-table-column",{attrs:{fixed:"",sortable:"",width:"50",label:"序号"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v("\n            "+n._s((n.searchQuery.currentPage-1)*n.searchQuery.pageSize+e.$index+1)+"\n          ")]}}])}),n._v(" "),o("el-table-column",{attrs:{sortable:"",label:"短信发送节点",width:"150",prop:"sendNode"},scopedSlots:n._u([{key:"header",fn:function(e){return[o("tableHeaderSearch",{attrs:{scope:e,query:n.searchQuery},on:{change:n.changeKey}})]}},{key:"default",fn:function(e){return[n._v(n._s(e.row.sendNode))]}}])}),n._v(" "),o("el-table-column",{attrs:{sortable:"",label:"提醒对象",width:"110",prop:"remindTarget"},scopedSlots:n._u([{key:"header",fn:function(e){return[o("tableHeaderSearch",{attrs:{scope:e,query:n.searchQuery},on:{change:n.changeKey}})]}},{key:"default",fn:function(e){return[n._v(n._s(e.row.remindTarget))]}}])}),n._v(" "),o("el-table-column",{attrs:{sortable:"",label:"短信内容（双击编辑短信内容）",prop:"templateContent",align:"left"},scopedSlots:n._u([{key:"header",fn:function(e){return[o("tableHeaderSearch",{attrs:{scope:e,query:n.searchQuery},on:{change:n.changeKey}})]}},{key:"default",fn:function(e){return[o("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"hover",content:e.row.templateContent}},[o("span",{attrs:{slot:"reference"},slot:"reference"},[n._v(n._s(e.row.templateContent))])])]}}])}),n._v(" "),o("el-table-column",{attrs:{sortable:"",label:"审核状态",width:"120",prop:"applyStatus"},scopedSlots:n._u([{key:"header",fn:function(e){return[o("tableHeaderSearch",{attrs:{scope:e,query:n.searchQuery},on:{change:n.changeKey}})]}},{key:"default",fn:function(e){return[n._v("\n            "+n._s(0===e.row.applyStatus?"审核中":1===e.row.applyStatus?"审核通过":"审核不通过")+"\n          ")]}}])}),n._v(" "),o("el-table-column",{attrs:{sortable:"",label:"发送状态",width:"120",prop:"sendStatus"},scopedSlots:n._u([{key:"header",fn:function(e){return[o("tableHeaderSearch",{attrs:{scope:e,query:n.searchQuery},on:{change:n.changeKey}})]}},{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#67c23a","active-text":t.row.sendStatus?"开":"关"},on:{change:function(e){return n.handleEnable(e,t.row)}},nativeOn:{dblclick:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:t.row.sendStatus,callback:function(e){n.$set(t.row,"sendStatus",e)},expression:"scope.row.sendStatus"}})]}}])})],1)],1),n._v(" "),o("div",{staticClass:"info_tab_footer"},[n._v("\n      共计:"+n._s(n.total)+"\n      "),o("div",{staticClass:"show_pager"},[o("Pager",{attrs:{total:n.total},on:{change:n.handlePageChange}})],1)])]),n._v(" "),o("addCustomized",{attrs:{popVisible:n.addPopVisible},on:{close:n.closeAdd,success:n.fetchList}}),n._v(" "),o("popRight",{attrs:{info:n.selectInfo,popVisible:n.editInfoVisible},on:{"update:popVisible":function(e){n.editInfoVisible=e},close:n.closeEdit,success:n.getFecthList}})],1)},staticRenderFns:[]};t.a=o},"3gSR":function(e,t,n){"use strict";var o={render:function(){var o=this,e=o.$createElement,s=o._self._c||e;return s("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}],attrs:{title:o.popTitle,isShow:o.popVisible},on:{close:o.closeMe}},[s("template",{slot:"content"},[s("div",{staticClass:"smsedit_wrapper"},[s("div",{staticClass:"smsedit_tite"},[s("span",[o._v(o._s(o.info.sendNode))])]),o._v(" "),s("div",{staticClass:"smsedit_search"},[s("el-autocomplete",{attrs:{"fetch-suggestions":o.querySearch,placeholder:"请输入内容","popper-class":"popperHide"},on:{select:o.handleSelect},model:{value:o.currentSearch,callback:function(e){o.currentSearch=e},expression:"currentSearch"}},[s("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"}),o._v(" "),s("template",{slot:"prepend"},[o._v(" 可配置字段 "),s("span",[o._v(o._s(o.smsColumnLen))])])],2)],1),o._v(" "),s("div",{staticClass:"smsedit_list clearfix"},[o.isEmptySearch?s("p",[o._v("暂无数据")]):o._e(),o._v(" "),s("ul",o._l(o.smsColumn,function(t,n){return 0===t.isShow?s("li",{key:t.colCode,attrs:{draggable:"true","data-fileName":t.colName},on:{dragstart:function(e){o.drag(e)},click:function(e){o.addTemplate(t.colName,t,n)}}},[s("el-tag",{attrs:{type:-1!==t.colName.indexOf(o.currentSearch)&&o.currentSearch?"danger":"info",size:"mini"}},[o._v(o._s(t.colName))])],1):o._e()}))]),o._v(" "),s("div",{staticClass:"smsedit_tite"},[s("span",[o._v("短信内容 "),s("b",[o._v(o._s(o.contentLen)+"/250")])])]),o._v(" "),s("div",{staticClass:"smsedit_content",on:{drop:function(e){o.drop(e)},dragover:function(e){o.allowDrop(e)}}},[s("div",{staticClass:"smsedit_content_title"},[o._v("【"+o._s(o.info.sign)+"】")]),o._v(" "),s("el-input",{staticStyle:{height:"100%"},attrs:{id:"templateContent",type:"textarea",rows:2,placeholder:"请输入内容",autofocus:!0,maxlength:250},nativeOn:{keydown:function(e){return"button"in e||!o._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete"])?o.deleteItem(e):null}},model:{value:o.smsTemplate,callback:function(e){o.smsTemplate=e},expression:"smsTemplate"}})],1)])]),o._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:o.resetForm}},[o._v("恢复默认")]),o._v(" "),s("el-button",{on:{click:o.closeMe}},[o._v("取消")]),o._v(" "),s("el-button",{attrs:{type:"success"},on:{click:function(e){o.submitForm("formModel")}}},[o._v("保存")])],1)],2)},staticRenderFns:[]};t.a=o},"51XE":function(e,t,n){"use strict";var o=n("woOf"),s=n.n(o),i=n("P5Di"),a=n("DAYN"),r=n.n(a),l=n("l1TW"),p=n("0xDb"),c="";t.a={components:{popRight:i.a,draggable:r.a},props:{popVisible:{type:Boolean,default:!1},info:{type:Object,default:{}}},watch:{info:function(e){var t=this;e&&this.$nextTick(function(){t.postSmsSetColumnsList(),t.postSmsTemplateLog()})},popVisible:function(e){},smsColumn:{handler:function(e,t){e&&(this.smsColumnLen=e.length)},deep:!0}},computed:{contentLen:function(){var e=this.info.sign?this.info.sign.length:0;return this.smsTemplate.length+e+2},isEmptySearch:function(){return console.log(this.smsColumnLen),0===this.smsColumnLen}},data:function(){return{popTitle:"编辑短信",loading:!1,currentSearch:"",smsColumn:[],orgSmsColumn:[],smsTemplate:"",smsTemplateObj:{},smsColumnLen:0}},mounted:function(){},methods:{initTextarea:function(){var e=document.selection.createRange(),t=document.getElementById("templateContent");e.moveToElementText(t)},drag:function(e){c=e.currentTarget},drop:function(e){var n=this;if(e.preventDefault(),console.log("dom",c),c){var o=c.getAttribute("data-fileName");this.smsColumn.forEach(function(e,t){e.colName===o&&n.addTemplate(o,e,t)}),c=null}},allowDrop:function(e){e.preventDefault()},addTemplate:function(n,e){var t="("+n+")",o=document.getElementById("templateContent"),s=this.$const.cursorPosition.get(o);if(console.log("pos",s),this.contentLen<250){this.$const.cursorPosition.add(o,s,t);var i="",a="";this.smsColumn.forEach(function(e,t){e.colName===n&&(i=t)}),this.orgSmsColumn.forEach(function(e,t){e.colName===n&&(a=t)}),this.smsColumn[i].isShow=1,this.orgSmsColumn[a].isShow=1,this.smsColumn.splice(i,1),this.smsTemplate=o.value}},deleteItem:function(e){var t=document.getElementById("templateContent"),n=this.$const.cursorPosition.get(t),o=n.start;if(n.start!==n.end){e.preventDefault();var s=this.findCursorIndex(n.start+1),i=this.findCursorIndex(n.end);this.deleteStr(s[0]-(s[0]===s[1]?1:0),i[1])}else{var a=this.findCursorIndex(o);a[0]!==a[1]&&(e.preventDefault(),this.deleteStr(a[0],a[1]))}},findCursorIndex:function(e){var t=document.getElementById("templateContent").value,n=e,o=t.substring(0,n);if(")"===t.split("")[n-1])return[o.lastIndexOf("("),n];if(-1===o.indexOf("(")&&-1===o.indexOf(")"))return[e,e];if(-1!==o.lastIndexOf("(")&&o.lastIndexOf(")")<o.lastIndexOf("(")){var s=o.lastIndexOf("(");return[s,s+t.substring(s).indexOf(")")+1]}return[e,e]},deleteStr:function(e,t){var n=this,o=document.getElementById("templateContent"),s=o.value,i=s.substring(e,t),a=i.match(/(\([^)]*\))/gm),r=Object(p.objectMerge2)([],a);o.value=s.replace(i,""),this.$const.cursorPosition.set(o,{text:"",start:e,end:e}),this.smsTemplate=o.value,r.forEach(function(e,t){n.$set(r,t,e.substring(1,e.length-1))}),this.orgSmsColumn.forEach(function(t,e){r.forEach(function(e){t.colName===e&&(t.isShow=0,n.smsColumn.push(t))})})},submitForm:function(e){var t=this,n={id:this.info.id,defaultTmpId:this.info.defaultTmpId,companyId:this.info.companyId,remindTarget:this.info.remindTarget,remindTargetCode:this.info.remindTargetCode,sendNode:this.info.sendNode,sendNodeCode:this.info.sendNodeCode,templateContent:this.smsTemplate,templateContentCoded:this.info.templateContentCoded,applyStatus:this.info.applyStatus,sendStatus:this.info.sendStatus?0:1,sign:this.info.sign};console.log("submitForm",n),""!==n.templateContent?Object(l.l)(n).then(function(e){t.$message.success("更新短信模板成功！"),t.$emit("success"),t.closeMe()}).catch(function(e){t._handlerCatchMsg(e)}):this.$message.warning("短信不能为空！")},postSmsSetColumnsList:function(){var t=this,e={orgId:this.otherinfo.orgid,tmpLogId:this.info.id,defaultTmpId:""};Object(l.h)(e).then(function(e){t.smsColumn=e.filter(function(e){return 0===e.isShow}),t.orgSmsColumn=e,t.smsColumnLen=t.smsColumn.length})},postDefaultSmsTemplate:function(){var t=this,e={defaultTmpId:this.info.defaultTmpId,orgId:this.otherinfo.orgid};Object(l.f)(e).then(function(e){t.smsTemplate=e.templateContent,t.smsTemplateObj=e})},postSmsTemplateLog:function(){var t=this,e={id:this.info.id,orgId:this.otherinfo.orgid};Object(l.j)(e).then(function(e){e&&(t.smsTemplate=e.templateContent,t.smsTemplateObj=e)})},resetForm:function(){var t=this;this.loading=!0,this.postDefaultSmsTemplate();var e={orgId:this.otherinfo.orgid,tmpLogId:"",defaultTmpId:this.info.defaultTmpId};Object(l.h)(e).then(function(e){t.loading=!1,t.smsColumn=e.filter(function(e){return 0===e.isShow}),t.orgSmsColumn=e,t.smsColumnLen=t.smsColumn.length}).catch(function(e){t.loading=!1})},querySearch:function(t,e){void 0===(this.currentSearch=t)&&(this.currentSearch||(this.smsColumn=s()([],this.orgSmsColumn).filter(function(e){return 0===e.isShow})));var n=this.orgSmsColumn,o=t?n.filter(function(e){return-1!==e.colName.indexOf(t)}):n;this.smsColumn=Object(p.objectMerge2)([],o).filter(function(e){return 0===e.isShow}),e(o)},handleSelect:function(e){this.currentSearch=e.colName},closeMe:function(e){this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},"55Wa":function(e,t){},"6fVI":function(e,t,n){"use strict";var o=n("l1TW");t.a={props:{popVisible:{type:Boolean,default:!1}},data:function(){return{popTitle:"定制专属签名",loading:!0,isEdit:!1,formModel:{id:"",modifySign:"",companyId:""},rules:{modifySign:[{required:!0,message:"不能为空",trigger:"change"}]},isShow:!1}},watch:{popVisible:function(e){(this.isShow=e)&&this.postSmsSign()}},methods:{postSmsSign:function(){var t=this;Object(o.i)(this.otherinfo.orgid).then(function(e){e&&(t.formModel.modifySign=e.data.modifySign,t.formModel.id=e.data.id,t.isEdit=1===e.data.modifyCount&&"审核不通过"!==e.data.applyStatusZh)}).catch(function(e){t._handlerCatchMsg(e)})},closeMe:function(e){this.$emit("close"),"function"==typeof e&&e()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&(t.formModel.companyId=t.otherinfo.companyId,Object(o.a)(t.formModel).then(function(e){t.$message.success("添加专属签名成功！"),t.$emit("success"),t.closeMe()}))})}}}},AfZR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("51XE"),s=n("3gSR");var i=function(e){n("LceZ")},a=n("VU/8")(o.a,s.a,i,null,null);t.default=a.exports},LceZ:function(e,t){},TggM:function(e,t,n){"use strict";var o=n("woOf"),s=n.n(o),i=(n("NYxO"),n("l1TW")),a=n("1onU"),r=n("++fd"),l=n("AfZR"),p=n("vmn5");t.a={components:{Pager:a.a,popRight:l.default,addCustomized:r.default,tableHeaderSearch:p.a},data:function(){return{btnsize:"mini",infoList:[],signName:"",isShowSignBtn:!1,loading:!0,addPopVisible:!1,total:0,smsDocText:"",editInfoVisible:!1,selectInfo:{},searchQuery:{currentPage:1,pageSize:100,vo:{orgId:""}}}},mounted:function(){this.getSmsDocText(),this.postSmsSign(),this.fetchList()},methods:{changeKey:function(e){this.total=0,this.searchQuery=e,this.fetchList()},getSmsDocText:function(){var t=this;Object(i.c)(this.otherinfo.orgid).then(function(e){t.smsDocText=e.smsDocText}).catch(function(e){t._handlerCatchMsg(e)})},postSmsSign:function(){var t=this;Object(i.i)(this.otherinfo.orgid).then(function(e){e.data&&(t.signName=e.data.modifySign,1===e.data.modifyCount?t.isShowSignBtn=!0:t.isShowSignBtn=!1)}).catch(function(e){t._handlerCatchMsg(e)})},fetchList:function(){var t=this;this.loading=!0,this.searchQuery.vo.orgId=this.otherinfo.orgid,Object(i.k)(this.searchQuery).then(function(e){e&&(t.infoList=e.list,t.infoList.forEach(function(e){e.sendStatus=0===e.sendStatus}),t.total=e.total,t.loading=!1)}).catch(function(e){t._handlerCatchMsg(e),t.loading=!1})},handlePageChange:function(e){this.searchQuery.currentPage=e.pageNum,this.searchQuery.pageSize=e.pageSize},openShowSign:function(){var e=this.$createElement;this.$msgbox({title:"专属签名",message:e("div",{style:"text-align: center"},[e("p",{style:"font-size: 16px"},this.signName)])})},openAddSign:function(){this.addPopVisible=!0},closeAdd:function(){this.addPopVisible=!1},editContent:function(e,t){console.log(e),this.selectInfo=s()({},e),this.editInfoVisible=!0},closeEdit:function(){this.editInfoVisible=!1},getFecthList:function(){console.log("sdfsdfsdfsdf"),this.fetchList()},handleEnable:function(t,n){var o=this,e={id:n.id,sendStatus:t?0:1};Object(i.m)(e).then(function(e){o.fetchList(),o.$message.success("修改发送状态成功！")}).catch(function(e){n.sendStatus=!t,o._handlerCatchMsg(e)})}}}},YJbe:function(e,t){},eE4v:function(e,t,n){"use strict";var o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"tms_dialog tms_dialog_alignleft",attrs:{title:t.popTitle,visible:t.isShow,"close-on-click-modal":!1,"before-close":t.closeMe,width:"500px"},on:{"update:visible":function(e){t.isShow=e}}},[n("el-form",{ref:"formModel",attrs:{model:t.formModel,rules:t.rules}},[n("el-form-item",{attrs:{prop:"modifySign"}},[n("el-input",{attrs:{placeholder:"请输入短信前缀",disabled:t.isEdit,maxlength:25,minlength:1},model:{value:t.formModel.modifySign,callback:function(e){t.$set(t.formModel,"modifySign",e)},expression:"formModel.modifySign"}})],1),t._v(" "),n("p",[n("b",[t._v("系统默认前缀为公司名称：")]),n("br"),n("br"),n("el-tag",{attrs:{size:"mini"}},[t._v("例如")]),t._v(" 【公司名称】您在某某网点托运的5件电脑，已成功受理，运单号：123445554.")],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[t.isEdit?t._e():n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("formModel")}}},[t._v("确 定")]),t._v(" "),n("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],1)},staticRenderFns:[]};t.a=o},i2Q8:function(e,t,n){"use strict";var o=n("woOf"),s=n.n(o),i=n("0xDb"),a=n("9UCZ");t.a={components:{SelectType:a.a},props:{scope:{type:Object,default:function(){}},query:{type:Object,default:function(){}}},data:function(){return{btnsize:"mini",queryString:"",curSelect:{property:"shipShippingTypeName",label:"运输方式",type:"ship_shipping_type",options:[],filter:[],dispage:[]},specialType:[{property:"lowerPrice",label:"最低价格(元)",page:[],title:'查询"面议", 请输入 0'}],selectOptions:[{property:"shipShippingTypeName",label:"运输方式",dispage:[],type:"ship_shipping_type",options:[]},{property:"shipPayWayName",label:"付款方式",dispage:[],type:"ship_pay_way",options:[]},{property:"orderPayWayName",label:"付款方式",dispage:[],type:"ship_pay_way",options:[]},{property:"shipDeliveryMethodName",lable:"交接方式",type:"ship_delivery_method",options:[]},{property:"shipStatusName",lable:"运单状态",type:"ship_status",options:[]},{property:"shipBusinessTypeName",label:"业务类型",type:"ship_business_type",options:[]},{property:"sexFlag",label:"性别",type:"",options:[{dictName:"女",id:1},{dictName:"男",id:0}]},{property:"sendStatus",label:"发送状态",type:"",options:[{dictName:"开",id:1},{dictName:"关",id:0}]},{property:"licenseTypeName",label:"驾驶证类型",type:"driving_type",options:[]},{property:"truckSourceName",label:"车辆来源",type:"truck_source",options:[]},{property:"truckTypeName",label:"车型",type:"truck_type",options:[]},{property:"orerStatusName",label:"订单类型",type:"order_status",options:[]},{property:"shipReceiptRequireName",label:"回单要求",type:"ship_receipt_require",options:[]},{property:"signTypeName",label:"签收类型",type:"sign_type",options:[]},{property:"abnormalStatusName",label:"异常状态",type:"abnormal_status",options:[]},{property:"abnormalTypeName",label:"异常类型",type:"abnormal_type",options:[]},{property:"apportionType",label:"分摊方式",type:"apportion_type",options:[]},{property:"signStatus",label:"签收状态",type:"sign_status",options:[]},{property:"shipPayWay",label:"付款方式",type:"ship_pay_way",options:[]},{property:"shipDeliveryMethod",label:"交接方式",type:"ship_delivery_method",options:[]},{property:"totalStatusCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"nowPayStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"arrivepayStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"receiptpayStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"monthpayStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"changeStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"statusName",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"statusValue",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"incomePayTypeValue",label:"费用类型",type:"",options:[{dictName:"异动增款",id:"异动增款"},{dictName:"异动减款",id:"异动减款"}]},{property:"applyStatus",label:"审核状态",type:"",options:[{dictName:"审核中",id:0},{dictName:"审核通过",id:1},{dictName:"审核不通过",id:2}]},{property:"rangeStatus",label:"状态",type:"",options:[{dictName:"禁用",id:0},{dictName:"启用",id:1}]},{property:"pickupStatusName",label:"提货状态",type:"pickup_status",options:[],filter:["235"]},{property:"payMethodName",label:"付款方式",type:"ship_pay_way",options:[],filter:[]},{property:"batchTypeName",label:"批次状态",type:"short_batch_type",dispage:["/operation/order/arteryDepart/sender","/operation/order/track/artery","/operation/order/track/deliver","/operation/order/deliverManage"],options:[],filter:["46"]},{property:"bathStatusName",label:"批次状态",dispage:["/operation/order/arteryDelivery/sender"],type:"short_batch_type",options:[],filter:["46","47"]},{property:"batchTypeName",label:"批次状态",type:"main_batch_type",dispage:["/operation/order/shortDepart/deliver","/operation/order/track/deliver","/operation/order/track/deliver","/operation/order/deliverManage"],options:[],filter:["51"]},{property:"bathStatusName",label:"批次状态",dispage:["/operation/order/shortDepart/arrival"],type:"main_batch_type",options:[],filter:["51"]},{property:"batchTypeName",label:"批次状态",dispage:["/operation/order/shortDepart/deliver","/operation/order/arteryDepart/sender","/operation/order/track/artery"],type:"delivery_batch_type",options:[],filter:["56"]},{property:"unloadSignName",label:"卸货状态",type:"unload_type",options:[],filter:["405"]},{property:"signStatusName",label:"签收状态",type:"sign_status",options:[]},{property:"signCertificateName",label:"凭证状态",type:"sign_certificate",options:[],filter:["230"]},{property:"signCocumentTypeName",label:"签收证件",type:"sign_cocument_type",options:[]},{property:"backStatusName",label:"回单状态",type:"back_status",options:[]},{property:"recStatusName",label:"回收状态",type:"rec_status",options:[]},{property:"sendStatusName",label:"寄出状态",type:"send_status",options:[]},{property:"acceptStatusName",label:"接收状态",type:"accept_status",options:[]},{property:"giveoutStatusName",label:"发放状态",type:"giveout_status",options:[]},{property:"fundsGoodsStatusName",label:"货款状态",type:"funds_goods_status",options:[]},{property:"fundsRecStatusName",label:"回收状态",type:"funds_rec_status",options:[],filter:["253"]},{property:"fundsRemittanceStatusName",label:"汇款状态",type:"funds_remittance_status",options:[],filter:["256"]},{property:"fundsAccountStatusName",label:"到账状态",type:"funds_account_status",options:[],filter:["259"]},{property:"fundsGiveoutStatusName",label:"发放状态",type:"funds_giveout_status",options:[],filter:["262"]},{property:"paymentName",label:"中转付款方式",type:"payment_type",options:[]},{property:"status",label:"控货状态",onlypage:"/operation/service/controlgoods/allGoods",type:"",options:[{dictName:"未放货",id:1},{dictName:"已放货",id:2},{dictName:"未控货",id:"0"}]},{property:"dataSrcZh",label:"来源",type:"",options:[{dictName:"核销产生",id:"核销产生"},{dictName:"手工录入",id:"手工录入"}]},{property:"paymentsTypeZh",label:"方向",type:"",options:[{dictName:"收入",id:"收入"},{dictName:"支出",id:"支出"}]},{property:"verifyStatusZh",label:"审核状态",type:"",options:[{dictName:"未审核",id:"未审核"},{dictName:"已审核",id:"已审核"}]},{property:"checkStatusZh",label:"对账状态",type:"",options:[{dictName:"未对账",id:"未对账"},{dictName:"已对账",id:"已对账"}]}],unSearchList:[{property:"id",label:"序号"},{property:"number",label:"序号"},{property:"grossProfit",label:"毛利"},{property:"status",label:"控货状态",dispage:["/operation/service/controlgoods/noGoods","/operation/service/controlgoods/haveGoods"]}]}},computed:{specialTypeTitle:function(){var e="",t=this.scope.column.property.toLowerCase(),n=this.specialType.filter(function(e){return e.property.toLowerCase()===t});return n&&n.length&&(e=n[0].title),e},unSearch:function(){var t=this,n=this.scope.column.property.toLowerCase(),o=0,s=!1;return!this.unSearchList.filter(function(e){return e.property.toLowerCase()===n&&(s=!0,e.dispage&&e.dispage.length&&(o=e.dispage.filter(function(e){return e===t.$route.fullPath}).length)),e.dispage?!!(s&&0<o)||void 0:s}).length},isTime:function(){var e=/(time)/,t=this.scope.column.property.toLowerCase();if(e.test(t)&&"timeliness"!==t)return e.test(t);return!!["validityDate","validityStartdate","truckRegisterDate","truckScrapDate"].filter(function(e){return e.toLowerCase()===t}).length},isSelect:function(){var i=this,e=this.selectOptions.filter(function(e){var t,n=!1,o=!1,s=0;if(e.property===i.scope.column.property&&(n=!0,e.dispage&&e.dispage.length&&(s=e.dispage.filter(function(e){return e===i.$route.fullPath}).length),o=e.onlypage&&e.onlypage===i.$route.fullPath),t=!(0<s),e.onlypage){if(n&&t&&o)return!0}else if(n&&t)return!0});return e.length&&(this.curSelect=s()({},e[0])),e.length}},methods:{filterfn:function(t){if(this.curSelect.filter){var n=0;return this.curSelect.filter.forEach(function(e){t.id.toString()===e&&(n+=1)}),0===n}return""!==t.id},changeEnter:function(e,t,n){this.changeKey(e,t,n.target.value)},changeKey:function(t,e,n,o){var s=this;this.$nextTick(function(){var e=s.query;e.searchVo||s.$set(e,"searchVo",{}),s.isChange=!0,s.isTime&&(n=Object(i.parseTime)(n,"{y}-{m}-{d}")),e.searchVo[t.property]=n,e.currentPage=1,console.log("changeKey components::",e,t),s.$emit("change",e)})}}}},l1TW:function(e,t,n){"use strict";t.d=function(){return o.b.get("/api-plugin/system/tmssystemsmspackages/v1/all/").then(function(e){return e.data||{}})},t.b=function(e){return o.b.get("/api-plugin/system/tmssystemsmssummary/v1/searchSmsSurplus/",e).then(function(e){return e.data})},t.e=function(e){return o.b.post("/api-plugin/system/tmssystemsmssummary/v1/buy/",{packageId:e}).then(function(e){return e.data})},t.k=function(e){return o.b.post("/api-plugin/system/tmssystemsmstemplatelog/v1.1/getSmsTemplateLogList/",e).then(function(e){return e.data||{}})},t.a=function(e){return o.b.post("/api-plugin/system/tmssystemsmssign/v1.1/updateSmsSign/",e).then(function(e){return e.data||{}})},t.i=function(e){return o.b.post("/api-plugin/system/tmssystemsmssign/v1.1/getSmsSign/",{orgId:e}).then(function(e){return e})},t.m=function(e){return o.b.post("/api-plugin/system/tmssystemsmstemplatelog/v1.1/udpateSmsTemplateLogStatus/",e).then(function(e){return e.data})},t.g=function(e){return o.b.post("/api-plugin/system/tmssystemsmssendlog/v1.1/getSmsSendLogList/",e).then(function(e){return e.data})},t.h=function(e){return o.b.post("/api-plugin/system/tmssystemsmssetcolumns/v1.1/getSmsSetColumnsList/",e).then(function(e){return e.data})},t.f=function(e){return o.b.post("/api-plugin/system/tmssystemsmstemplate/v1.1/getDefaultSmsTemplate/",e).then(function(e){return e.data})},t.j=function(e){return o.b.post("/api-plugin/system/tmssystemsmstemplatelog/v1.1/getSmsTemplateLog/",e).then(function(e){return e.data})},t.l=function(e){return o.b.post("/api-plugin/system/tmssystemsmstemplatelog/v1.1/udpateSmsTemplateLog/",e).then(function(e){return e.data})},t.c=function(e){return o.b.post("/api-plugin/system/tmssystemsmssign/v1.1/getSmsDocText/",{orgId:e}).then(function(e){return e.data})};var o=n("Vo7i")},o1Rk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("TggM"),s=n("1ojz");var i=function(e){n("YJbe")},a=n("VU/8")(o.a,s.a,i,null,null);t.default=a.exports},sdyU:function(e,t,n){"use strict";var o={render:function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("div",{staticClass:"table-header-wrapper"},[o("p",{staticClass:"table-header-label",attrs:{title:n.scope.column.label}},[n._v(n._s(n.scope.column.label))]),n._v(" "),n.isTime&&n.unSearch?o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间",size:n.btnsize},on:{change:function(e){return n.changeKey(n.scope.column,n.scope.$index,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()},keyup:function(e){return"button"in e||!n._k(e.keyCode,"enter",13,e.key,"Enter")?(t=e,n.changeEnter(n.scope.column,n.scope.$index,t)):null;var t}},model:{value:n.queryString,callback:function(e){n.queryString="string"==typeof e?e.trim():e},expression:"queryString"}}):n.isSelect&&n.curSelect.type?o("SelectType",{attrs:{placeholder:"请选择",size:n.btnsize,type:n.curSelect.type,clearable:"",filterfn:n.filterfn},on:{changeItem:function(e,t){return n.changeKey(n.scope.column,n.scope.$index,t.dictName||"")}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()},keyup:function(e){return"button"in e||!n._k(e.keyCode,"enter",13,e.key,"Enter")?(t=e,n.changeEnter(n.scope.column,n.scope.$index,t)):null;var t}},model:{value:n.queryString,callback:function(e){n.queryString=e},expression:"queryString"}}):n.isSelect&&!n.curSelect.type&&n.unSearch?o("el-select",{attrs:{placeholder:"请选择",clearable:"",size:n.btnsize,type:n.curSelect.type},on:{change:function(e){return n.changeKey(n.scope.column,n.scope.$index,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()},keyup:function(e){return"button"in e||!n._k(e.keyCode,"enter",13,e.key,"Enter")?(t=e,n.changeEnter(n.scope.column,n.scope.$index,t)):null;var t}},model:{value:n.queryString,callback:function(e){n.queryString=e},expression:"queryString"}},n._l(n.curSelect.options,function(e,t){return o("el-option",{key:t,attrs:{label:e.dictName,value:e.id}})})):n.unSearch?o("el-tooltip",{attrs:{content:n.specialTypeTitle,disabled:!n.specialTypeTitle,placement:"top",effect:"light"}},[o("el-input",{staticClass:"table-header-input",attrs:{size:n.btnsize,placeholder:"搜索关键字",maxlength:50,clearable:""},on:{change:function(e){return n.changeKey(n.scope.column,n.scope.$index,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()},keyup:function(e){return"button"in e||!n._k(e.keyCode,"enter",13,e.key,"Enter")?(t=e,n.changeEnter(n.scope.column,n.scope.$index,t)):null;var t}},model:{value:n.queryString,callback:function(e){n.queryString="string"==typeof e?e.trim():e},expression:"queryString"}})],1):n._e()],1)},staticRenderFns:[]};t.a=o},vmn5:function(e,t,n){"use strict";var o=n("i2Q8"),s=n("sdyU");var i=function(e){n("55Wa")},a=n("VU/8")(o.a,s.a,i,null,null);t.a=a.exports}});