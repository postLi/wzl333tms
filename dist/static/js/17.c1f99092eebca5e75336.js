webpackJsonp([17,89,245,246,247,338],{"+zEK":function(e,t,i){"use strict";var a={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"detailTables"},[o("el-form",{staticClass:"detailTables_info",attrs:{inline:"","label-width":"100"},model:{value:a.info,callback:function(e){a.info=e},expression:"info"}},[o("table",[o("tbody",[o("tr",[o("th",[a._v("到达网点")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.arriveOrgName,callback:function(e){a.$set(a.info,"arriveOrgName",e)},expression:"info.arriveOrgName"}})],1),a._v(" "),o("th",[a._v("司机名称")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.dirverName,callback:function(e){a.$set(a.info,"dirverName",e)},expression:"info.dirverName"}})],1),a._v(" "),o("th",[a._v("司机电话")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.dirverMobile,callback:function(e){a.$set(a.info,"dirverMobile",e)},expression:"info.dirverMobile"}})],1)]),a._v(" "),o("tr",[o("th",[a._v("可载重量")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.truckLoad,callback:function(e){a.$set(a.info,"truckLoad",e)},expression:"info.truckLoad"}})],1),a._v(" "),o("th",[a._v("车牌号码")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.truckIdNumber,callback:function(e){a.$set(a.info,"truckIdNumber",e)},expression:"info.truckIdNumber"}})],1),a._v(" "),o("th",[a._v("分摊方式")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.apportionType,callback:function(e){a.$set(a.info,"apportionType",e)},expression:"info.apportionType"}})],1)]),a._v(" "),o("tr",[o("th",[a._v("可载体积")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.truckVolume,callback:function(e){a.$set(a.info,"truckVolume",e)},expression:"info.truckVolume"}})],1),a._v(" "),o("th",[a._v("配载日期")]),a._v(" "),o("td",[o("el-input",{attrs:{value:a._f("parseTime")(a.info.loadTime,"{y}-{m}-{d} {h}:{i}:{s}"),size:a.btnsize,disabled:""}})],1),a._v(" "),o("th",[a._v("预计到达时间")]),a._v(" "),o("td",[o("el-input",{attrs:{value:a._f("parseTime")(a.info.planArrivedTime,"{y}-{m}-{d} {h}:{i}:{s}"),size:a.btnsize,disabled:""}})],1)]),a._v(" "),o("tr",[o("th",[a._v("备注")]),a._v(" "),o("td",{attrs:{colspan:"5"}},[o("el-input",{attrs:{size:a.btnsize,disabled:"",maxlength:300},model:{value:a.info.remark,callback:function(e){a.$set(a.info,"remark",e)},expression:"info.remark"}})],1)])])])]),a._v(" "),o("table",{staticClass:"detailTables_info_artery"},[a._m(0),a._v(" "),o("tbody",[o("tr",[o("td",[a._v(a._s(a.info.nowpayCarriage))]),a._v(" "),o("td",[a._v(a._s(a.info.nowpayOilCard))]),a._v(" "),o("td",[a._v(a._s(a.info.backpayCarriage))]),a._v(" "),o("td",[a._v(a._s(a.info.backpayOilCard))]),a._v(" "),o("td",[a._v(a._s(a.info.arrivepayCarriage))]),a._v(" "),o("td",[a._v(a._s(a.info.arrivepayOilCard))]),a._v(" "),o("td",[a._v(a._s(a.info.carloadInsuranceFee))]),a._v(" "),o("td",[a._v(a._s(a.info.leaveHandlingFee))]),a._v(" "),o("td",[a._v(a._s(a.info.leaveOtherFee))]),a._v(" "),o("td",[a._v(a._s(a.info.arriveHandlingFee))]),a._v(" "),o("td",[a._v(a._s(a.info.arriveOtherFee))])])])]),a._v(" "),o("div",{staticClass:"tab_infos"},[o("div",{staticClass:"btns_box"},[o("el-button",{staticClass:"table_setup",attrs:{type:"primary",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:a.setTable}},[a._v("表格设置")]),a._v(" "),o("el-button",{staticClass:"table_setup",attrs:{type:"success",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:function(e){a.doAction("export")}}},[a._v("导出清单")]),a._v(" "),o("el-button",{staticClass:"table_setup",attrs:{type:"success",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:function(e){a.doAction("print")}}},[a._v("打印清单")])],1),a._v(" "),o("div",{staticClass:"info_tab"},[o("el-table",{ref:"multipleTable",staticStyle:{height:"100%"},attrs:{data:a.detailList,stripe:"",border:"",height:"100%","default-sort":{prop:"id",order:"ascending"},"tooltip-effect":"dark"},on:{"row-click":a.clickDetails,"selection-change":a.getSelection}},[o("el-table-column",{attrs:{fixed:"",sortable:"",type:"selection",width:"50"}}),a._v(" "),a._l(a.tableColumn,function(i){return[i.slot?o("el-table-column",{key:i.id,attrs:{fixed:i.fixed,sortable:"",label:i.label,width:i.width},scopedSlots:a._u([{key:"default",fn:function(t){return[i.click?o("span",{staticClass:"clickitem",domProps:{innerHTML:a._s(i.slot(t))},on:{click:function(e){e.stopPropagation(),i.click(t)}}}):o("span",{domProps:{innerHTML:a._s(i.slot(t))}})]}}])}):o("el-table-column",{key:i.id,attrs:{fixed:i.fixed,sortable:"",label:i.label,prop:i.prop,width:i.width}})]})],2)],1)]),a._v(" "),o("TableSetup",{attrs:{popVisible:a.setupTableVisible,columns:a.tableColumn},on:{close:function(e){a.setupTableVisible=!1},success:a.setColumn}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("现付车费(元)")]),e._v(" "),i("th",[e._v("现付油卡(元)")]),e._v(" "),i("th",[e._v("回付车费(元)")]),e._v(" "),i("th",[e._v("回付油卡(元)")]),e._v(" "),i("th",[e._v("到付车费(元)")]),e._v(" "),i("th",[e._v("到付油卡(元)")]),e._v(" "),i("th",[e._v("整车保险费(元)")]),e._v(" "),i("th",[e._v("发站装卸费(元)")]),e._v(" "),i("th",[e._v("发站其他费(元)")]),e._v(" "),i("th",[e._v("到站装卸费(元)")]),e._v(" "),i("th",[e._v("到站其他费(元)")])])])}]};t.a=a},"01nq":function(e,t,i){"use strict";t.e=function(e){return a.b.post("/api-order/order/track/v1/list/",e).then(function(e){return e.data||{list:[],totalCount:0}})},t.f=function(e){return a.b.post("/api-order/order/track/v1/transferList/",e).then(function(e){return e.data||{list:[],totalCount:0}})},t.b=function(e){return a.b.get("/api-order/order/track/v1/getLoadTrack/"+e).then(function(e){return e.data})},t.a=function(e){return a.b.delete("/api-order/order/track/v1/"+e).then(function(e){return e.data})},t.d=function(e){return a.b.post("/api-order/order/track/v1/insertTrack/",e).then(function(e){return e.data})},t.g=function(e){return a.b.put("/api-order/order/track/v1/updateById/",e).then(function(e){return e.data})},t.c=function(e){return a.b.get("/api-order/order/load/v1/selectLoadDetailList/?loadId="+e).then(function(e){return e.data})};var a=i("Vo7i")},"1A72":function(e,t){},"3TtR":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("UxYz"),o=i("SJFH");var r=function(e){i("ufrc")},n=i("VU/8")(a.a,o.a,r,null,null);t.default=n.exports},"46Pd":function(e,t,i){"use strict";var a=i("TsW9"),o=i("puNT"),r=i("UQm2");t.a={components:{TableSetup:o.a},props:{info:{type:Object,default:{}},isShow:{type:Boolean,default:!1}},data:function(){return{btnsize:"mini",setupTableVisible:!1,loading:!0,loadId:"",detailList:[],selected:[],query:{arriveOrgid:0,batchNo:"",batchTypeId:0,departureEndTime:"",departureStartTime:"",dirverName:"",loadEndTime:"",loadId:0,loadStartTime:"",loadTypeId:0,orgId:0,truckIdNumber:""},tableColumn:[{label:"运单号",prop:"shipSn",width:"130",fixed:!0},{label:"开单网点",prop:"shipFromOrgName",width:"130",fixed:!1},{label:"配载件数",prop:"loadAmount",width:"120",fixed:!1},{label:"配载重量",prop:"loadWeight",width:"120",fixed:!1},{label:"配载体积",prop:"loadVolume",width:"120",fixed:!1},{label:"库存件数",prop:"repertoryAmount",width:"120",fixed:!1},{label:"库存重量",prop:"repertoryWeight",width:"120",fixed:!1},{label:"库存体积",prop:"repertoryVolume",width:"120",fixed:!1},{label:"运单件数",prop:"cargoAmount",width:"120",fixed:!1},{label:"运单重量",prop:"cargoWeight",width:"120",fixed:!1},{label:"运单体积",prop:"cargoVolume",width:"120",fixed:!1},{label:"发站",prop:"shipFromCityName",width:"120",fixed:!1},{label:"到站",prop:"shipToCityName",width:"120",fixed:!1},{label:"发货人",prop:"shipSenderName",width:"120",fixed:!1},{label:"收货人",prop:"shipReceiverName",width:"120",fixed:!1},{label:"收货人电话",prop:"shipReceiverMobile",width:"120",fixed:!1},{label:"货品名",prop:"cargoName",width:"120",fixed:!1},{label:"货号",prop:"shipGoodsSn",width:"120",fixed:!1},{label:"运单备注",prop:"shipRemarks",width:"120",fixed:!1}]}},watch:{isShow:{handler:function(e,t){e&&this.fecthSelectLoadList()},immediate:!0},info:function(e){e&&this.fecthSelectLoadList()}},methods:{setTable:function(){this.setupTableVisible=!0},fecthSelectLoadList:function(){this.getLoadTrack()},getSelection:function(e){this.selected=e},doAction:function(e){switch(e){case"print":Object(r.d)({data:this.selected.length?this.selected:this.detailList,columns:this.tableColumn});break;case"export":Object(r.g)({data:this.selected.length?this.selected:this.detailList,columns:this.tableColumn,name:"在途跟踪"})}},clickDetails:function(e){this.$refs.multipleTable.toggleRowSelection(e)},getLoadTrack:function(){var t=this;this.loading=!0,this.loadId=this.info.id,Object(a.e)(this.loadId).then(function(e){t.detailList=e.data,t.loading=!1}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},setColumn:function(e){this.tableColumn=e,this.tablekey=Math.random()}}}},"55Wa":function(e,t){},"71AH":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Bo/6"),o=i("B9JS"),r=i("VU/8")(a.a,o.a,null,null,null);t.default=r.exports},"8vYc":function(e,t){},B5CQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("tHXe"),o=i("Mwi+"),r=i("VU/8")(a.a,o.a,null,null,null);t.default=r.exports},B9JS:function(e,t,i){"use strict";var a={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"tab-content miniHeaderSearch"},[o("SearchForm",{attrs:{orgid:a.otherinfo.orgid,btnsize:a.btnsize},on:{change:a.getSearchParam}}),a._v(" "),o("div",{staticClass:"tab_info"},[o("div",{staticClass:"btns_box"},[o("el-button",{staticClass:"table_setup",attrs:{type:"primary",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:a.setTable}},[a._v("表格设置")]),a._v(" "),o("el-button",{directives:[{name:"has",rawName:"v-has:LOADTRACK1",arg:"LOADTRACK1"}],staticClass:"table_setup",attrs:{type:"success",size:a.btnsize,icon:"el-icon-setting",plain:"",disabled:a.isDisBtn},on:{click:a.setInfo}},[a._v("在途跟踪")])],1),a._v(" "),o("div",{staticClass:"info_tab"},[o("el-table",{key:a.tablekey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:a.dataList,stripe:"",border:"","summary-method":a.getSumLeft,"show-summary":"",height:"100%","tooltip-effect":"dark","default-sort":{prop:"id",order:"ascending"}},on:{"row-dblclick":a.setInfo,"row-click":a.clickDetails,"selection-change":a.getSelection}},[o("el-table-column",{attrs:{fixed:"",sortable:"",type:"selection",width:"60"}}),a._v(" "),a._l(a.tableColumn,function(i){return[i.slot?o("el-table-column",{key:i.id,attrs:{fixed:i.fixed,sortable:"",label:i.label,prop:i.prop,width:i.width},scopedSlots:a._u([{key:"header",fn:function(e){return[o("tableHeaderSearch",{attrs:{scope:e,query:a.searchQuery},on:{change:a.changeKey}})]}},{key:"default",fn:function(t){return[i.click?o("span",{staticClass:"clickitem",domProps:{innerHTML:a._s(i.slot(t))},on:{click:function(e){e.stopPropagation(),i.click(t)}}}):o("span",{domProps:{innerHTML:a._s(i.slot(t))}})]}}])}):o("el-table-column",{key:i.id,attrs:{fixed:i.fixed,sortable:"",label:i.label,prop:i.prop,width:i.width},scopedSlots:a._u([{key:"header",fn:function(e){return[o("tableHeaderSearch",{attrs:{scope:e,query:a.searchQuery},on:{change:a.changeKey}})]}},{key:"default",fn:function(e){return[a._v(a._s(e.row[i.prop]))]}}])})]})],2)],1),a._v(" "),o("div",{staticClass:"info_tab_footer"},[a._v("\n      共计:"+a._s(a.total)+"\n      "),o("div",{staticClass:"show_pager"},[o("Pager",{attrs:{total:a.total},on:{change:a.handlePageChange}})],1)]),a._v(" "),o("editInfo",{attrs:{orgid:a.orgid,id:a.trackId,info:a.trackInfo,popVisible:a.editInfoVisible,detailType:"detailArtery"},on:{"update:popVisible":function(e){a.editInfoVisible=e},close:a.closeMe}}),a._v(" "),o("TableSetup",{attrs:{popVisible:a.setupTableVisible,columns:a.tableColumn,code:"LOADTRACK1"},on:{close:a.closeSetupTable,success:a.setColumn}})],1)],1)},staticRenderFns:[]};t.a=a},"Bo/6":function(e,t,i){"use strict";var a=i("woOf"),o=i.n(a),r=i("Dd8w"),n=i.n(r),s=i("B5CQ"),l=i("NYxO"),c=i("01nq"),p=i("1onU"),d=i("OdPB"),u=i("puNT"),f=i("0xDb"),h=i("vmn5");t.a={components:{SearchForm:s.default,Pager:p.a,editInfo:d.default,TableSetup:u.a,tableHeaderSearch:h.a},computed:n()({},Object(l.mapGetters)(["otherinfo"]),{orgid:function(){return this.isModify?this.selectInfo.orgid:this.searchQuery.vo.orgid||this.otherinfo.orgid}}),data:function(){var t=this;return{btnsize:"mini",dataList:[],total:0,tablekey:0,isDisBtn:!0,trackId:0,selectInfo:[],trackInfo:{},loading:!0,editInfoVisible:!1,setupTableVisible:!1,searchQuery:{currentPage:1,pageSize:100,vo:{loadTypeId:39,orgId:0}},tableColumn:[{label:"序号",prop:"number",width:"70",fixed:!0,slot:function(e){return(t.searchQuery.currentPage-1)*t.searchQuery.pageSize+e.$index+1}},{label:"发车批次",prop:"batchNo",width:"110",fixed:!0},{label:"批次状态",prop:"batchTypeName",width:"100",fixed:!0},{label:"车牌号",prop:"truckIdNumber",width:"100"},{label:"司机",prop:"dirverName",width:"100"},{label:"司机电话",prop:"dirverMobile",width:"120"},{label:"发车时间",prop:"departureTime",width:"160",slot:function(e){return""+Object(f.parseTime)(e.row.departureTime,"{y}-{m}-{d} {h}:{i}:{s}")}},{label:"配载时间",prop:"loadTime",width:"160",slot:function(e){return""+Object(f.parseTime)(e.row.loadTime,"{y}-{m}-{d} {h}:{i}:{s}")}},{label:"目的网点",prop:"arriveOrgName",width:"120"},{label:"实载总件数",prop:"loadAmountall",width:"120"},{label:"实载总重量",prop:"loadWeightall",width:"120"},{label:"实载总体积",prop:"loadVolumeall",width:"120"},{label:"运单总件数",prop:"shipAmount",width:"120"},{label:"运单总重量",prop:"shipWeightall",width:"120"},{label:"运单总体积",prop:"shipVolumeall",width:"120"},{label:"重量装载率",prop:"weightLoadRate",width:"120"},{label:"体积装载率",prop:"volumeLoadRate",width:"120"},{label:"现付车费",prop:"nowpayCarriage",width:"120"},{label:"现付油卡",prop:"nowpayOilCard",width:"120"},{label:"到付车费",prop:"arrivepayCarriage",width:"120"},{label:"到付油卡",prop:"arrivepayOilCard",width:"120"},{label:"回付油卡",prop:"backpayOilCard",width:"120"},{label:"回付车费",prop:"backpayCarriage",width:"120"},{label:"整车保险费",prop:"carloadInsuranceFee",width:"120"},{label:"发站装卸费",prop:"leaveHandlingFee",width:"120"},{label:"发站其他费",prop:"leaveOtherFee",width:"120"},{label:"到站装卸费",prop:"arriveHandlingFee",width:"120"},{label:"到站其他费",prop:"arriveOtherFee",width:"120"},{label:"分摊方式",prop:"apportionType",width:"120"},{label:"可载重量",prop:"truckLoad",width:"120"},{label:"可载体积",prop:"truckVolume",width:"120"},{label:"配载人",prop:"username",width:"120"},{label:"发车人",prop:"truckUsername",width:"120"},{label:"备注",prop:"remark",width:"120"}]}},mounted:function(){this.searchQuery.vo.orgId=this.otherinfo.orgid},methods:{changeKey:function(e){this.total=0,this.searchQuery=e,this.loading||this.fetchList()},getSumLeft:function(e,t){return Object(f.getSummaries)(e,f.operationPropertyCalc)},getSearchParam:function(e){this.searchQuery.currentPage=this.$options.data().searchQuery.currentPage,this.searchQuery.pageSize=this.$options.data().searchQuery.pageSize,this.searchQuery.vo=o()({},e),this.searchQuery.vo.orgId||(this.searchQuery.vo.orgId=this.otherinfo.orgid,this.searchQuery.vo.loadTypeId=39),this.fetchList()},getSelection:function(e){if(1===e.length){this.selectInfo=o()([],e),this.isDisBtn=!1;var t=this.selectInfo[0].id;this.trackId=t,this.trackInfo=o()({},this.selectInfo[0])}else 1<e.length&&this.$message({type:"warning",message:"只能选择一条数据进行跟踪设置"}),this.isDisBtn=!0},clickDetails:function(e){this.$refs.multipleTable.toggleRowSelection(e)},setTable:function(){this.setupTableVisible=!0},closeSetupTable:function(){this.setupTableVisible=!1},setInfo:function(){this.editInfoVisible=!0,this.$refs.multipleTable.clearSelection()},closeMe:function(){this.editInfoVisible=!1},handlePageChange:function(e){this.searchQuery.currentPage=e.pageNum,this.searchQuery.pageSize=e.pageSize,this.fetchList()},fetchList:function(){this.getAllList()},getAllList:function(){var t=this;return this.loading=!0,51===this.searchQuery.vo.batchTypeId&&(this.searchQuery.vo.batchTypeId=void 0),Object(c.e)(this.searchQuery).then(function(e){e&&(t.dataList=e.list,t.total=e.total),t.loading=!1}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},setColumn:function(e){this.tableColumn=e,this.tablekey=Math.random()}}}},F5BD:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("46Pd"),o=i("lIxA");var r=function(e){i("8vYc")},n=i("VU/8")(a.a,o.a,r,null,null);t.default=n.exports},"Mwi+":function(e,t,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{ref:"searchForm",staticClass:"staff_searchinfo clearfix",attrs:{inline:!0,size:t.btnsize,"label-position":"right",rules:t.rules,model:t.searchForm,"label-width":"70px"}},[i("div",{staticClass:"staff_searchinfo--input"},[i("el-form-item",{attrs:{label:"配载时间"}},[i("el-date-picker",{attrs:{type:"daterange","unlink-panels":"",align:"right","value-format":"yyyy-MM-dd hh:mm:ss","start-placeholder":"开始日期","picker-options":t.pickerOptions,"end-placeholder":"结束日期"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"批次状态",prop:"batchTypeId"}},[i("selectBatchType",{attrs:{type:"main_batch_type"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.batchTypeId,callback:function(e){t.$set(t.searchForm,"batchTypeId",e)},expression:"searchForm.batchTypeId"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"发车批次"}},[i("el-input",{attrs:{maxlength:15,"auto-complete":"off",placeholder:"发车批次",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.batchNo,callback:function(e){t.$set(t.searchForm,"batchNo",e)},expression:"searchForm.batchNo"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"车牌号"}},[i("el-input",{attrs:{maxlength:8,"auto-complete":"off",placeholder:"车牌号",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.truckIdNumber,callback:function(e){t.$set(t.searchForm,"truckIdNumber",e)},expression:"searchForm.truckIdNumber"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"司机名称"}},[i("el-input",{attrs:{maxlength:8,"auto-complete":"off",placeholder:"司机名称",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.searchForm.dirverName,callback:function(e){t.$set(t.searchForm,"dirverName",e)},expression:"searchForm.dirverName"}})],1)],1),t._v(" "),i("el-form-item",{staticClass:"staff_searchinfo--btn"},[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),i("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){t.clearForm("searchForm")}}},[t._v("清空")])],1)],1)},staticRenderFns:[]};t.a=a},NX9x:function(e,t){},OdPB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("nN/X"),o=i("ritI");var r=function(e){i("1A72")},n=i("VU/8")(a.a,o.a,r,null,null);t.default=n.exports},P0Fm:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("gnv1"),o=i("+zEK");var r=function(e){i("NX9x")},n=i("VU/8")(a.a,o.a,r,null,null);t.default=n.exports},SJFH:function(e,t,i){"use strict";var a={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"detailTables"},[o("el-form",{staticClass:"detailTables_info",attrs:{inline:"","label-width":"100"},model:{value:a.info,callback:function(e){a.info=e},expression:"info"}},[o("table",[o("tbody",[o("tr",[o("th",[a._v("到达网点")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.arriveOrgName,callback:function(e){a.$set(a.info,"arriveOrgName",e)},expression:"info.arriveOrgName"}})],1),a._v(" "),o("th",[a._v("司机名称")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.dirverName,callback:function(e){a.$set(a.info,"dirverName",e)},expression:"info.dirverName"}})],1),a._v(" "),o("th",[a._v("司机电话")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.dirverMobile,callback:function(e){a.$set(a.info,"dirverMobile",e)},expression:"info.dirverMobile"}})],1)]),a._v(" "),o("tr",[o("th",[a._v("车牌号码")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.truckIdNumber,callback:function(e){a.$set(a.info,"truckIdNumber",e)},expression:"info.truckIdNumber"}})],1),a._v(" "),o("th",[a._v("短驳费")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.shortFee,callback:function(e){a.$set(a.info,"shortFee",e)},expression:"info.shortFee"}})],1),a._v(" "),o("th",[a._v("分摊方式")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.apportionType,callback:function(e){a.$set(a.info,"apportionType",e)},expression:"info.apportionType"}})],1)]),a._v(" "),o("tr",[o("th",[a._v("可载体积")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.truckVolume,callback:function(e){a.$set(a.info,"truckVolume",e)},expression:"info.truckVolume"}})],1),a._v(" "),o("th",[a._v("短驳日期")]),a._v(" "),o("td",[o("el-input",{attrs:{value:a._f("parseTime")(a.info.loadTime,"{y}-{m}-{d} {h}:{i}:{s}"),size:a.btnsize,disabled:""}})],1),a._v(" "),o("th",[a._v("要求到达时间")]),a._v(" "),o("td",[o("el-input",{attrs:{value:a._f("parseTime")(a.info.requireArrivedTime,"{y}-{m}-{d} {h}:{i}:{s}"),size:a.btnsize,disabled:""}})],1)]),a._v(" "),o("tr",[o("th",[a._v("可载重量")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.truckLoad,callback:function(e){a.$set(a.info,"truckLoad",e)},expression:"info.truckLoad"}})],1),a._v(" "),o("th",[a._v("备注")]),a._v(" "),o("td",{attrs:{colspan:"3"}},[o("el-input",{attrs:{size:a.btnsize,disabled:"",maxlength:300},model:{value:a.info.remark,callback:function(e){a.$set(a.info,"remark",e)},expression:"info.remark"}})],1)])])])]),a._v(" "),o("div",{staticClass:"tab_infos"},[o("div",{staticClass:"btns_box"},[o("el-button",{staticClass:"table_setup",attrs:{type:"primary",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:a.setTable}},[a._v("表格设置")]),a._v(" "),o("el-button",{staticClass:"table_setup",attrs:{type:"success",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:function(e){a.doAction("export")}}},[a._v("导出清单")]),a._v(" "),o("el-button",{staticClass:"table_setup",attrs:{type:"success",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:function(e){a.doAction("print")}}},[a._v("打印清单")])],1),a._v(" "),o("div",{staticClass:"info_tab"},[o("el-table",{ref:"multipleTable",staticStyle:{height:"100%"},attrs:{data:a.detailList,stripe:"",border:"",height:"100%","default-sort":{prop:"id",order:"ascending"},"tooltip-effect":"dark"},on:{"row-click":a.clickDetails,"selection-change":a.getSelection}},[o("el-table-column",{attrs:{fixed:"",sortable:"",type:"selection",width:"50"}}),a._v(" "),a._l(a.tableColumn,function(i){return[i.slot?o("el-table-column",{key:i.id,attrs:{fixed:i.fixed,sortable:"",label:i.label,width:i.width},scopedSlots:a._u([{key:"default",fn:function(t){return[i.click?o("span",{staticClass:"clickitem",domProps:{innerHTML:a._s(i.slot(t))},on:{click:function(e){e.stopPropagation(),i.click(t)}}}):o("span",{domProps:{innerHTML:a._s(i.slot(t))}})]}}])}):o("el-table-column",{key:i.id,attrs:{fixed:i.fixed,sortable:"",label:i.label,prop:i.prop,width:i.width}})]})],2)],1)]),a._v(" "),o("TableSetup",{attrs:{popVisible:a.setupTableVisible,columns:a.tableColumn},on:{close:function(e){a.setupTableVisible=!1},success:a.setColumn}})],1)},staticRenderFns:[]};t.a=a},TsW9:function(e,t,i){"use strict";t.a=function(e,t){return a.b.get("/api-order/order/load/v1/getBatchNo/",{params:{orgId:e,loadTypeId:t}})},t.i=function(e){return a.b.post("/api-order/order/load/v1/",e)},t.j=function(e){return a.b.put("/api-order/order/load/v1/",e)},t.d=function(e){return a.b.get("/api-order/order/load/v1/selectAddLoadRepertoryList/",{params:{orgId:e}})},t.g=function(e,t){return a.b.get("/api-order/order/load/v1/selectUpdateLoadRepertoryList/?orgId="+e+"&loadId="+t)},t.h=function(e,t){return a.b.get("/api-order/order/load/v1/selectUpdateLoadDetailList/?orgId="+e+"&loadId="+t)},t.e=function(e){return a.b.get("/api-order/order/load/v1/selectLoadDetailList/",{params:{loadId:e}})},t.f=function(){return a.b.get("/api-system/system/trunk/v1/findCarAndDriver/").then(function(e){return e})},t.b=function(){return a.b.get("/api-system/system/trunk/v1/findDriverAndCar/").then(function(e){return e})},t.c=function(e){return a.b.post("/api-order/order/tmsordertrailterminal/v1/list",e).then(function(e){return e.data})};var a=i("Vo7i")},UxYz:function(e,t,i){"use strict";var a=i("TsW9"),o=i("puNT"),r=i("UQm2");t.a={components:{TableSetup:o.a},props:{info:{type:Object,default:{}},isShow:{type:Boolean,default:!1}},data:function(){return{loading:!0,btnsize:"mini",setupTableVisible:!1,loadId:"",detailList:[],selected:[],query:{arriveOrgid:0,batchNo:"",batchTypeId:0,departureEndTime:"",departureStartTime:"",dirverName:"",loadEndTime:"",loadId:0,loadStartTime:"",loadTypeId:0,orgId:0,truckIdNumber:""},tableColumn:[{label:"运单号",prop:"shipSn",width:"130",fixed:!0},{label:"开单网点",prop:"shipFromOrgName",width:"130",fixed:!1},{label:"配载件数",prop:"loadAmount",width:"120",fixed:!1},{label:"配载重量",prop:"loadWeight",width:"120",fixed:!1},{label:"配载体积",prop:"loadVolume",width:"120",fixed:!1},{label:"库存件数",prop:"repertoryAmount",width:"120",fixed:!1},{label:"库存重量",prop:"repertoryWeight",width:"120",fixed:!1},{label:"库存体积",prop:"repertoryVolume",width:"120",fixed:!1},{label:"运单件数",prop:"cargoAmount",width:"120",fixed:!1},{label:"运单重量",prop:"cargoWeight",width:"120",fixed:!1},{label:"运单体积",prop:"cargoVolume",width:"120",fixed:!1},{label:"发站",prop:"shipFromCityName",width:"120",fixed:!1},{label:"到站",prop:"shipToCityName",width:"120",fixed:!1},{label:"发货人",prop:"shipSenderName",width:"120",fixed:!1},{label:"收货人",prop:"shipReceiverName",width:"120",fixed:!1},{label:"收货人电话",prop:"shipReceiverMobile",width:"120",fixed:!1},{label:"货品名",prop:"cargoName",width:"120",fixed:!1},{label:"货号",prop:"shipGoodsSn",width:"120",fixed:!1},{label:"运单备注",prop:"shipRemarks",width:"120",fixed:!1}]}},watch:{isShow:{handler:function(e,t){e&&this.fecthSelectLoadList()},immediate:!0},info:function(e){e&&this.fecthSelectLoadList()}},methods:{setTable:function(){this.setupTableVisible=!0},fecthSelectLoadList:function(){this.getLoadTrack()},getSelection:function(e){this.selected=e},doAction:function(e){switch(e){case"print":Object(r.d)({data:this.selected.length?this.selected:this.detailList,columns:this.tableColumn});break;case"export":Object(r.g)({data:this.selected.length?this.selected:this.detailList,columns:this.tableColumn,name:"在途跟踪"})}},clickDetails:function(e){this.$refs.multipleTable.toggleRowSelection(e)},getLoadTrack:function(){var t=this;this.loading=!0,this.loadId=this.info.id,Object(a.e)(this.loadId).then(function(e){t.detailList=e.data,t.loading=!1}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},setColumn:function(e){this.tableColumn=e,this.tablekey=Math.random()}}}},gnv1:function(e,t,i){"use strict";var a=i("TsW9"),o=i("puNT"),r=i("UQm2");t.a={components:{TableSetup:o.a},props:{info:{type:Object,default:{}},isShow:{type:Boolean,default:!1}},data:function(){return{btnsize:"mini",setupTableVisible:!1,loading:!0,loadId:"",detailList:[],selected:[],query:{arriveOrgid:0,batchNo:"",batchTypeId:0,departureEndTime:"",departureStartTime:"",dirverName:"",loadEndTime:"",loadId:0,loadStartTime:"",loadTypeId:0,orgId:0,truckIdNumber:""},tableColumn:[{label:"运单号",prop:"shipSn",width:"130",fixed:!0},{label:"开单网点",prop:"shipFromOrgName",width:"130",fixed:!1},{label:"配载件数",prop:"loadAmount",width:"120",fixed:!1},{label:"配载重量",prop:"loadWeight",width:"120",fixed:!1},{label:"配载体积",prop:"loadVolume",width:"120",fixed:!1},{label:"库存件数",prop:"repertoryAmount",width:"120",fixed:!1},{label:"库存重量",prop:"repertoryWeight",width:"120",fixed:!1},{label:"库存体积",prop:"repertoryVolume",width:"120",fixed:!1},{label:"运单件数",prop:"cargoAmount",width:"120",fixed:!1},{label:"运单重量",prop:"cargoWeight",width:"120",fixed:!1},{label:"运单体积",prop:"cargoVolume",width:"120",fixed:!1},{label:"发站",prop:"shipFromCityName",width:"120",fixed:!1},{label:"到站",prop:"shipToCityName",width:"120",fixed:!1},{label:"发货人",prop:"shipSenderName",width:"120",fixed:!1},{label:"收货人",prop:"shipReceiverName",width:"120",fixed:!1},{label:"收货人电话",prop:"shipReceiverMobile",width:"120",fixed:!1},{label:"货品名",prop:"cargoName",width:"120",fixed:!1},{label:"货号",prop:"shipGoodsSn",width:"120",fixed:!1},{label:"运单备注",prop:"shipRemarks",width:"120",fixed:!1}]}},watch:{isShow:{handler:function(e,t){e&&(this.loading=!0,this.fecthSelectLoadList())},immediate:!0},info:function(e){e&&this.fecthSelectLoadList()}},methods:{setTable:function(){this.setupTableVisible=!0},fecthSelectLoadList:function(){this.getLoadTrack()},getSelection:function(e){this.selected=e},doAction:function(e){switch(e){case"print":Object(r.d)({data:this.selected.length?this.selected:this.detailList,columns:this.tableColumn});break;case"export":Object(r.g)({data:this.selected.length?this.selected:this.detailList,columns:this.tableColumn,name:"在途跟踪"})}},clickDetails:function(e){this.$refs.multipleTable.toggleRowSelection(e)},getLoadTrack:function(){var t=this;this.loading=!0,this.loadId=this.info.id,Object(a.e)(this.loadId).then(function(e){t.detailList=e.data,t.loading=!1}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},setColumn:function(e){this.tableColumn=e,this.tablekey=Math.random()}}}},i2Q8:function(e,t,i){"use strict";var a=i("woOf"),o=i.n(a),r=i("0xDb"),n=i("9UCZ");t.a={components:{SelectType:n.a},props:{scope:{type:Object,default:function(){}},query:{type:Object,default:function(){}}},data:function(){return{btnsize:"mini",queryString:"",curSelect:{property:"shipShippingTypeName",label:"运输方式",type:"ship_shipping_type",options:[],filter:[],dispage:[]},specialType:[{property:"lowerPrice",label:"最低价格(元)",page:[],title:'查询"面议", 请输入 0'}],selectOptions:[{property:"shipShippingTypeName",label:"运输方式",dispage:[],type:"ship_shipping_type",options:[]},{property:"shipPayWayName",label:"付款方式",dispage:[],type:"ship_pay_way",options:[]},{property:"orderPayWayName",label:"付款方式",dispage:[],type:"ship_pay_way",options:[]},{property:"shipDeliveryMethodName",lable:"交接方式",type:"ship_delivery_method",options:[]},{property:"shipStatusName",lable:"运单状态",type:"ship_status",options:[]},{property:"shipBusinessTypeName",label:"业务类型",type:"ship_business_type",options:[]},{property:"sexFlag",label:"性别",type:"",options:[{dictName:"女",id:1},{dictName:"男",id:0}]},{property:"sendStatus",label:"发送状态",type:"",options:[{dictName:"开",id:1},{dictName:"关",id:0}]},{property:"licenseTypeName",label:"驾驶证类型",type:"driving_type",options:[]},{property:"truckSourceName",label:"车辆来源",type:"truck_source",options:[]},{property:"truckTypeName",label:"车型",type:"truck_type",options:[]},{property:"orerStatusName",label:"订单类型",type:"order_status",options:[]},{property:"shipReceiptRequireName",label:"回单要求",type:"ship_receipt_require",options:[]},{property:"signTypeName",label:"签收类型",type:"sign_type",options:[]},{property:"abnormalStatusName",label:"异常状态",type:"abnormal_status",options:[]},{property:"abnormalTypeName",label:"异常类型",type:"abnormal_type",options:[]},{property:"apportionType",label:"分摊方式",type:"apportion_type",options:[]},{property:"signStatus",label:"签收状态",type:"sign_status",options:[]},{property:"shipPayWay",label:"付款方式",type:"ship_pay_way",options:[]},{property:"shipDeliveryMethod",label:"交接方式",type:"ship_delivery_method",options:[]},{property:"totalStatusCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"nowPayStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"arrivepayStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"receiptpayStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"monthpayStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"changeStateCn",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"statusName",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"statusValue",label:"核销状态",type:"count_status",options:[],filter:[""]},{property:"incomePayTypeValue",label:"费用类型",type:"",options:[{dictName:"异动增款",id:"异动增款"},{dictName:"异动减款",id:"异动减款"}]},{property:"applyStatus",label:"审核状态",type:"",options:[{dictName:"审核中",id:0},{dictName:"审核通过",id:1},{dictName:"审核不通过",id:2}]},{property:"rangeStatus",label:"状态",type:"",options:[{dictName:"禁用",id:0},{dictName:"启用",id:1}]},{property:"pickupStatusName",label:"提货状态",type:"pickup_status",options:[],filter:["235"]},{property:"payMethodName",label:"付款方式",type:"ship_pay_way",options:[],filter:[]},{property:"batchTypeName",label:"批次状态",type:"short_batch_type",dispage:["/operation/order/arteryDepart/sender","/operation/order/track/artery","/operation/order/track/deliver","/operation/order/deliverManage"],options:[],filter:["46"]},{property:"bathStatusName",label:"批次状态",dispage:["/operation/order/arteryDelivery/sender"],type:"short_batch_type",options:[],filter:["46","47"]},{property:"batchTypeName",label:"批次状态",type:"main_batch_type",dispage:["/operation/order/shortDepart/deliver","/operation/order/track/deliver","/operation/order/track/deliver","/operation/order/deliverManage"],options:[],filter:["51"]},{property:"bathStatusName",label:"批次状态",dispage:["/operation/order/shortDepart/arrival"],type:"main_batch_type",options:[],filter:["51"]},{property:"batchTypeName",label:"批次状态",dispage:["/operation/order/shortDepart/deliver","/operation/order/arteryDepart/sender","/operation/order/track/artery"],type:"delivery_batch_type",options:[],filter:["56"]},{property:"unloadSignName",label:"卸货状态",type:"unload_type",options:[],filter:["405"]},{property:"signStatusName",label:"签收状态",type:"sign_status",options:[]},{property:"signCertificateName",label:"凭证状态",type:"sign_certificate",options:[],filter:["230"]},{property:"signCocumentTypeName",label:"签收证件",type:"sign_cocument_type",options:[]},{property:"backStatusName",label:"回单状态",type:"back_status",options:[]},{property:"recStatusName",label:"回收状态",type:"rec_status",options:[]},{property:"sendStatusName",label:"寄出状态",type:"send_status",options:[]},{property:"acceptStatusName",label:"接收状态",type:"accept_status",options:[]},{property:"giveoutStatusName",label:"发放状态",type:"giveout_status",options:[]},{property:"fundsGoodsStatusName",label:"货款状态",type:"funds_goods_status",options:[]},{property:"fundsRecStatusName",label:"回收状态",type:"funds_rec_status",options:[],filter:["253"]},{property:"fundsRemittanceStatusName",label:"汇款状态",type:"funds_remittance_status",options:[],filter:["256"]},{property:"fundsAccountStatusName",label:"到账状态",type:"funds_account_status",options:[],filter:["259"]},{property:"fundsGiveoutStatusName",label:"发放状态",type:"funds_giveout_status",options:[],filter:["262"]},{property:"paymentName",label:"中转付款方式",type:"payment_type",options:[]},{property:"status",label:"控货状态",onlypage:"/operation/service/controlgoods/allGoods",type:"",options:[{dictName:"未放货",id:1},{dictName:"已放货",id:2},{dictName:"未控货",id:"0"}]},{property:"dataSrcZh",label:"来源",type:"",options:[{dictName:"核销产生",id:"核销产生"},{dictName:"手工录入",id:"手工录入"}]},{property:"paymentsTypeZh",label:"方向",type:"",options:[{dictName:"收入",id:"收入"},{dictName:"支出",id:"支出"}]},{property:"verifyStatusZh",label:"审核状态",type:"",options:[{dictName:"未审核",id:"未审核"},{dictName:"已审核",id:"已审核"}]},{property:"checkStatusZh",label:"对账状态",type:"",options:[{dictName:"未对账",id:"未对账"},{dictName:"已对账",id:"已对账"}]}],unSearchList:[{property:"id",label:"序号"},{property:"number",label:"序号"},{property:"grossProfit",label:"毛利"},{property:"status",label:"控货状态",dispage:["/operation/service/controlgoods/noGoods","/operation/service/controlgoods/haveGoods"]}]}},computed:{specialTypeTitle:function(){var e="",t=this.scope.column.property.toLowerCase(),i=this.specialType.filter(function(e){return e.property.toLowerCase()===t});return i&&i.length&&(e=i[0].title),e},unSearch:function(){var t=this,i=this.scope.column.property.toLowerCase(),a=0,o=!1;return!this.unSearchList.filter(function(e){return e.property.toLowerCase()===i&&(o=!0,e.dispage&&e.dispage.length&&(a=e.dispage.filter(function(e){return e===t.$route.fullPath}).length)),e.dispage?!!(o&&0<a)||void 0:o}).length},isTime:function(){var e=/(time)/,t=this.scope.column.property.toLowerCase();if(e.test(t)&&"timeliness"!==t)return e.test(t);return!!["validityDate","validityStartdate","truckRegisterDate","truckScrapDate"].filter(function(e){return e.toLowerCase()===t}).length},isSelect:function(){var r=this,e=this.selectOptions.filter(function(e){var t,i=!1,a=!1,o=0;if(e.property===r.scope.column.property&&(i=!0,e.dispage&&e.dispage.length&&(o=e.dispage.filter(function(e){return e===r.$route.fullPath}).length),a=e.onlypage&&e.onlypage===r.$route.fullPath),t=!(0<o),e.onlypage){if(i&&t&&a)return!0}else if(i&&t)return!0});return e.length&&(this.curSelect=o()({},e[0])),e.length}},methods:{filterfn:function(t){if(this.curSelect.filter){var i=0;return this.curSelect.filter.forEach(function(e){t.id.toString()===e&&(i+=1)}),0===i}return""!==t.id},changeEnter:function(e,t,i){this.changeKey(e,t,i.target.value)},changeKey:function(t,e,i,a){var o=this;this.$nextTick(function(){var e=o.query;e.searchVo||o.$set(e,"searchVo",{}),o.isChange=!0,o.isTime&&(i=Object(r.parseTime)(i,"{y}-{m}-{d}")),e.searchVo[t.property]=i,e.currentPage=1,console.log("changeKey components::",e,t),o.$emit("change",e)})}}}},lIxA:function(e,t,i){"use strict";var a={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"detailTables"},[o("el-form",{staticClass:"detailTables_info",attrs:{inline:"","label-width":"100"},model:{value:a.info,callback:function(e){a.info=e},expression:"info"}},[o("table",[o("tbody",[o("tr",[o("th",[a._v("司机名称")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.dirverName,callback:function(e){a.$set(a.info,"dirverName",e)},expression:"info.dirverName"}})],1),a._v(" "),o("th",[a._v("司机电话")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.dirverMobile,callback:function(e){a.$set(a.info,"dirverMobile",e)},expression:"info.dirverMobile"}})],1),a._v(" "),o("th",[a._v("车牌号码")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.truckIdNumber,callback:function(e){a.$set(a.info,"truckIdNumber",e)},expression:"info.truckIdNumber"}})],1)]),a._v(" "),o("tr",[o("th",[a._v("送货费")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.deliveryFee,callback:function(e){a.$set(a.info,"deliveryFee",e)},expression:"info.deliveryFee"}})],1),a._v(" "),o("th",[a._v("分摊方式")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.apportionType,callback:function(e){a.$set(a.info,"apportionType",e)},expression:"info.apportionType"}})],1),a._v(" "),o("th",[a._v("送货日期")]),a._v(" "),o("td",[o("el-input",{attrs:{value:a._f("parseTime")(a.info.loadTime,"{y}-{m}-{d} {h}:{i}:{s}"),size:a.btnsize,disabled:""}})],1)]),a._v(" "),o("tr",[o("th",[a._v("可载重量")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.truckLoad,callback:function(e){a.$set(a.info,"truckLoad",e)},expression:"info.truckLoad"}})],1),a._v(" "),o("th",[a._v("可载体积")]),a._v(" "),o("td",[o("el-input",{attrs:{size:a.btnsize,disabled:""},model:{value:a.info.truckVolume,callback:function(e){a.$set(a.info,"truckVolume",e)},expression:"info.truckVolume"}})],1),a._v(" "),o("th",[a._v("要求到达时间")]),a._v(" "),o("td",[o("el-input",{attrs:{value:a._f("parseTime")(a.info.requireArrivedTime,"{y}-{m}-{d} {h}:{i}:{s}"),size:a.btnsize,disabled:""}})],1)]),a._v(" "),o("tr",[o("th",[a._v("备注")]),a._v(" "),o("td",{attrs:{colspan:"5"}},[o("el-input",{attrs:{size:a.btnsize,disabled:"",maxlength:300},model:{value:a.info.remark,callback:function(e){a.$set(a.info,"remark",e)},expression:"info.remark"}})],1)])])])]),a._v(" "),o("div",{staticClass:"tab_infos"},[o("div",{staticClass:"btns_box"},[o("el-button",{staticClass:"table_setup",attrs:{type:"primary",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:a.setTable}},[a._v("表格设置")]),a._v(" "),o("el-button",{staticClass:"table_setup",attrs:{type:"success",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:function(e){a.doAction("export")}}},[a._v("导出清单")]),a._v(" "),o("el-button",{staticClass:"table_setup",attrs:{type:"success",size:a.btnsize,icon:"el-icon-setting",plain:""},on:{click:function(e){a.doAction("print")}}},[a._v("打印清单")])],1),a._v(" "),o("div",{staticClass:"info_tab"},[o("el-table",{ref:"multipleTable",staticStyle:{height:"100%"},attrs:{data:a.detailList,stripe:"",border:"",height:"100%","default-sort":{prop:"id",order:"ascending"},"tooltip-effect":"dark"},on:{"row-click":a.clickDetails,"selection-change":a.getSelection}},[o("el-table-column",{attrs:{fixed:"",sortable:"",type:"selection",width:"50"}}),a._v(" "),a._l(a.tableColumn,function(i){return[i.slot?o("el-table-column",{key:i.id,attrs:{fixed:i.fixed,sortable:"",label:i.label,width:i.width},scopedSlots:a._u([{key:"default",fn:function(t){return[i.click?o("span",{staticClass:"clickitem",domProps:{innerHTML:a._s(i.slot(t))},on:{click:function(e){e.stopPropagation(),i.click(t)}}}):o("span",{domProps:{innerHTML:a._s(i.slot(t))}})]}}])}):o("el-table-column",{key:i.id,attrs:{fixed:i.fixed,sortable:"",label:i.label,prop:i.prop,width:i.width}})]})],2)],1)]),a._v(" "),o("TableSetup",{attrs:{popVisible:a.setupTableVisible,columns:a.tableColumn},on:{close:function(e){a.setupTableVisible=!1},success:a.setColumn}})],1)},staticRenderFns:[]};t.a=a},"nN/X":function(e,t,i){"use strict";var a=i("bOdI"),o=i.n(a),r=(i("E4LH"),i("P5Di")),n=i("01nq"),s=(i("NYxO"),i("3TtR")),l=i("P0Fm"),c=i("F5BD"),p=i("0xDb"),d=i("t5DY");t.a={components:{popRight:r.a,Detail:s.default,DetailArtery:l.default,DetailDeliver:c.default},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},id:{type:[Number,String]},info:{type:Object,default:{}},detailType:{type:String,default:""}},data:function(){return o()({popTitle:"在途跟踪",loading:!0,isModify:!1,infoId:{},trackDetail:[],activeName:"first",formModel:{},ruleForm:{loadStatus:[{required:!0,trigger:"blur",message:"不能为空"}],operatorTime:[{required:!0,trigger:"blur",message:"不能为空"}],operatorInfo:[{required:!0,trigger:"blur",message:"不能为空"}]},isShowBtn:!0,isFootEdit:!1},"formModel",{addStatus:1,id:0,loadId:0,loadStatus:"",operatorInfo:"",operatorOrgid:1,operatorTime:"",operatorUserid:0})},watch:{id:function(){},info:function(e){e&&(this.getDetail(),this.getSystemTime())},popVisible:function(e,t){this.popVisible&&(this.getDetail(),this.getSystemTime())}},methods:{getSystemTime:function(){var t=this;this.formModel.id||Object(d.k)().then(function(e){e&&(t.formModel.operatorTime=Object(p.parseTime)(e.trim(),"{y}-{m}-{d} {h}:{i}:{s}"))}).catch(function(e){t._handlerCatchMsg(e)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&(t.formModel.id?t.$confirm("此操作将修改跟踪信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.editTrack()}):t.$confirm("此操作将添加跟踪信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.addTrack()}))})},getDetail:function(){var t=this,e=this.id;return Object(n.b)(e).then(function(e){t.trackDetail=Object(p.objectMerge2)([],e),t.loading=!1}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},closeMe:function(e){this.$emit("update:popVisible",!1),"function"==typeof e&&e()},deleteTrack:function(e){var t=this;this.$confirm("此操作将删除本跟踪信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(n.a)(e.id).then(function(e){t.$message({type:"success",message:"删除成功"}),t.getDetail(),t.resetForm()}).catch(function(e){t._handlerCatchMsg(e)})})},editItem:function(e){this.formModel=Object(p.objectMerge2)({},e),this.isModify=!0},editTrack:function(){var t=this;return console.log("修改",this.formModel),this.formModel.transferId=0,this.formModel.operatorTime=Object(p.parseTime)(this.formModel.operatorTime,"{y}-{m}-{d} {h}:{i}:{s}"),Object(n.g)(this.formModel).then(function(e){t.$message({type:"success",message:"修改成功"}),t.getDetail(),t.resetForm()}).catch(function(e){t._handlerCatchMsg(e)})},addTrack:function(){var t=this;return console.log("添加"),this.formModel.loadId=this.id,this.formModel.operatorTime=Object(p.parseTime)(this.formModel.operatorTime,"{y}-{m}-{d} {h}:{i}:{s}"),Object(n.d)(this.formModel).then(function(e){t.$message({type:"success",message:"添加成功"}),t.getDetail(),t.resetForm()}).catch(function(e){t._handlerCatchMsg(e)})},handleClick:function(){"second"===this.activeName?this.isFootEdit=!0:this.isFootEdit=!1},resetForm:function(){var e=this;this.$nextTick(function(){e.isModify=!1,e.$refs.formModel.resetFields(),e.formModel=e.$options.data().formModel,e.getSystemTime()})},offThisActive:function(e){var t=Object(p.closest)(e.target,".el-step");t&&t.classList.remove("trackactive")},setThisActive:function(e){var t=Object(p.closest)(e.target,".el-step");t&&t.classList.add("trackactive")}}}},ritI:function(e,t,i){"use strict";var a={render:function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:i.loading,expression:"loading"}],staticClass:"trackInfoPop",attrs:{title:i.popTitle,isShow:i.popVisible},on:{close:i.closeMe}},[a("template",{slot:"content"},[a("div",{staticClass:"content_head"},[i._v("\n      批次号： "+i._s(i.info.batchNo)+"\n    ")]),i._v(" "),a("div",{staticClass:"editInfoPop_content"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":i.handleClick},model:{value:i.activeName,callback:function(e){i.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"批次详情",name:"first"}},["detailShort"===i.detailType?a("Detail",{staticClass:"animated fadeInRight",attrs:{info:i.info,isShow:i.popVisible}}):"detailArtery"===i.detailType?a("DetailArtery",{staticClass:"animated fadeInRight",attrs:{info:i.info,isShow:i.popVisible}}):a("DetailDeliver",{staticClass:"animated fadeInRight",attrs:{info:i.info,isShow:i.popVisible}})],1),i._v(" "),a("el-tab-pane",{attrs:{label:"批次跟踪",name:"second"}},[a("div",{staticClass:"info_box"},[a("el-row",{staticClass:"stepItem_title"},[a("el-col",{staticClass:"tracktype",attrs:{span:5}},[i._v("类型")]),i._v(" "),a("el-col",{attrs:{span:4}},[i._v("操作时间")]),i._v(" "),a("el-col",{attrs:{span:3}},[i._v("操作网点")]),i._v(" "),a("el-col",{attrs:{span:4}},[i._v("操作人")]),i._v(" "),a("el-col",{attrs:{span:8}},[i._v("操作信息")])],1),i._v(" "),a("div",{staticClass:"stepinfo"},[a("el-steps",{attrs:{direction:"vertical"}},i._l(i.trackDetail,function(t,e){return a("el-step",{key:e,class:{firstactive:0===e},nativeOn:{mouseover:function(e){return i.setThisActive(e)},mouseout:function(e){return i.offThisActive(e)}}},[a("span",{staticClass:"location",attrs:{slot:"icon"},slot:"icon"}),i._v(" "),a("template",{slot:"description"},[a("el-row",{staticClass:"stepItem"},[a("el-col",{attrs:{span:5}},[a("span",{staticClass:"typebox"},[i._v(i._s(t.loadStatus))]),i._v(" "),1===t.addStatus?[a("span",{staticClass:"modifybtn",attrs:{title:"编辑"},on:{click:function(e){i.editItem(t)}}}),i._v(" "),a("span",{staticClass:"deletebtn",attrs:{title:"删除"},on:{click:function(e){i.deleteTrack(t)}}})]:i._e()],2),i._v(" "),a("el-col",{attrs:{span:4}},[a("p",[i._v(i._s(t.operatorTime))])]),i._v(" "),a("el-col",{attrs:{span:3}},[a("p",[i._v(i._s(t.orgName))])]),i._v(" "),a("el-col",{attrs:{span:4}},[a("p",[1===t.addStatus?a("i",{staticClass:"track-human"}):a("i",{staticClass:"icon_blank"}),i._v(" "+i._s(t.operatorUsername)+"\n                        ")])]),i._v(" "),a("el-col",{attrs:{span:8}},[a("p",[i._v(i._s(t.operatorInfo))])])],1)],1)],2)}))],1)],1)])],1)],1)]),i._v(" "),i.isFootEdit?a("div",{staticClass:"stepinfo-footer stepFrom",attrs:{slot:"footer"},slot:"footer"},[a("el-form",{ref:"formModel",attrs:{inline:"",model:i.formModel,rules:i.ruleForm}},[a("el-form-item",{attrs:{label:"类型",prop:"loadStatus"}},[a("el-input",{attrs:{maxlength:10,placeholder:"类型",size:"mini"},model:{value:i.formModel.loadStatus,callback:function(e){i.$set(i.formModel,"loadStatus",e)},expression:"formModel.loadStatus"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"时间",prop:"operatorTime"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd hh:mm:ss",type:"datetime",placeholder:"选择时间",size:"mini"},model:{value:i.formModel.operatorTime,callback:function(e){i.$set(i.formModel,"operatorTime","string"==typeof e?e.trim():e)},expression:"formModel.operatorTime"}})],1),i._v(" "),a("el-form-item",{attrs:{label:"操作信息",prop:"operatorInfo"}},[a("el-input",{attrs:{maxlength:250,placeholder:"",size:"mini"},model:{value:i.formModel.operatorInfo,callback:function(e){i.$set(i.formModel,"operatorInfo",e)},expression:"formModel.operatorInfo"}})],1),i._v(" "),a("el-form-item",{staticClass:"tracksavebtn"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){i.submitForm("formModel")}}},[i._v("保 存")]),i._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[i.isModify?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){i.resetForm()}}},[i._v("取 消")]):i._e()],1)],1)],1)],1):a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:i.closeMe}},[i._v("关闭")])],1)],2)},staticRenderFns:[]};t.a=a},sdyU:function(e,t,i){"use strict";var a={render:function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("div",{staticClass:"table-header-wrapper"},[a("p",{staticClass:"table-header-label",attrs:{title:i.scope.column.label}},[i._v(i._s(i.scope.column.label))]),i._v(" "),i.isTime&&i.unSearch?a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间",size:i.btnsize},on:{change:function(e){return i.changeKey(i.scope.column,i.scope.$index,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()},keyup:function(e){return"button"in e||!i._k(e.keyCode,"enter",13,e.key,"Enter")?(t=e,i.changeEnter(i.scope.column,i.scope.$index,t)):null;var t}},model:{value:i.queryString,callback:function(e){i.queryString="string"==typeof e?e.trim():e},expression:"queryString"}}):i.isSelect&&i.curSelect.type?a("SelectType",{attrs:{placeholder:"请选择",size:i.btnsize,type:i.curSelect.type,clearable:"",filterfn:i.filterfn},on:{changeItem:function(e,t){return i.changeKey(i.scope.column,i.scope.$index,t.dictName||"")}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()},keyup:function(e){return"button"in e||!i._k(e.keyCode,"enter",13,e.key,"Enter")?(t=e,i.changeEnter(i.scope.column,i.scope.$index,t)):null;var t}},model:{value:i.queryString,callback:function(e){i.queryString=e},expression:"queryString"}}):i.isSelect&&!i.curSelect.type&&i.unSearch?a("el-select",{attrs:{placeholder:"请选择",clearable:"",size:i.btnsize,type:i.curSelect.type},on:{change:function(e){return i.changeKey(i.scope.column,i.scope.$index,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()},keyup:function(e){return"button"in e||!i._k(e.keyCode,"enter",13,e.key,"Enter")?(t=e,i.changeEnter(i.scope.column,i.scope.$index,t)):null;var t}},model:{value:i.queryString,callback:function(e){i.queryString=e},expression:"queryString"}},i._l(i.curSelect.options,function(e,t){return a("el-option",{key:t,attrs:{label:e.dictName,value:e.id}})})):i.unSearch?a("el-tooltip",{attrs:{content:i.specialTypeTitle,disabled:!i.specialTypeTitle,placement:"top",effect:"light"}},[a("el-input",{staticClass:"table-header-input",attrs:{size:i.btnsize,placeholder:"搜索关键字",maxlength:50,clearable:""},on:{change:function(e){return i.changeKey(i.scope.column,i.scope.$index,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()},keyup:function(e){return"button"in e||!i._k(e.keyCode,"enter",13,e.key,"Enter")?(t=e,i.changeEnter(i.scope.column,i.scope.$index,t)):null;var t}},model:{value:i.queryString,callback:function(e){i.queryString="string"==typeof e?e.trim():e},expression:"queryString"}})],1):i._e()],1)},staticRenderFns:[]};t.a=a},tHXe:function(e,t,i){"use strict";var a=i("woOf"),o=i.n(a),r=i("pFYg"),n=i.n(r),s=i("E4LH"),l=i("o9X6"),c=i("pAQG"),p=i("9UCZ"),d=i("0xDb");t.a={components:{SelectTree:l.a,selectBatchType:p.a,querySelect:c.a},props:{btnsize:{type:String,default:"mini"},orgid:{type:Number}},data:function(){return{searchForm:{loadTypeId:39,orgId:0,batchTypeId:51},cityName:{},rules:{shipSn:[{validator:function(e,t,i){var a=s.a.ONLY_NUMBER;""!==t&&null!==t&&t&&void 0!==t?a.test(t)?i():i(new Error("请输入最多15位数字")):i()},tigger:"blur"}]},searchTime:[Object(d.parseTime)(new Date-5184e6),Object(d.parseTime)(new Date)],defaultTime:[+new Date-5184e6,+new Date],pickerOptions:{shortcuts:d.pickerOptions2}}},mounted:function(){this.searchForm.batchTypeId=this.$options.data().searchForm.batchTypeId,this.onSubmit()},methods:{onSubmit:function(){this.searchTime&&(this.searchForm.startTime=Object(d.parseTime)(this.searchTime[0],"{y}-{m}-{d} ")+"00:00:00",this.searchForm.endTime=Object(d.parseTime)(this.searchTime[1],"{y}-{m}-{d} ")+"23:59:59"),console.log(n()(this.searchForm.batchTypeId),this.searchForm.batchTypeId,this.searchForm),this.$emit("change",this.searchForm)},clearForm:function(e){this.$refs[e].resetFields(),this.searchTime=this.$options.data().searchTime,this.searchForm=o()({},this.$options.data().searchForm)}}}},ufrc:function(e,t){},vmn5:function(e,t,i){"use strict";var a=i("i2Q8"),o=i("sdyU");var r=function(e){i("55Wa")},n=i("VU/8")(a.a,o.a,r,null,null);t.a=n.exports}});