webpackJsonp([4,25,42,217,309],{"/OH/":function(e,t,i){"use strict";var o=i("xoQy"),a=i("BB2Z");var s=function(e){i("z6yh")},r=i("VU/8")(o.a,a.a,s,"data-v-52474850",null);t.a=r.exports},"/n+A":function(e,t,i){"use strict";var o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"popRight-center",class:{showPopRight:e.isShow},style:{zIndex:e.zIndex}},[i("div",{staticClass:"popRight-header"},[e._t("title",[e._v(e._s(e.title))]),e._v(" "),i("i",{staticClass:"el-icon-close",attrs:{title:"关闭"},on:{click:e.close}})],2),e._v(" "),e.shouldRender?i("div",{staticClass:"popRight-content"},[e._t("content",[e._v("内容")])],2):e._e(),e._v(" "),i("div",{staticClass:"popRight-footer"},[e._t("footer",[e._v("底部")])],2)])},staticRenderFns:[]};t.a=o},"01I6":function(e,t,i){"use strict";var o=i("Dd8w"),a=i.n(o),s=i("DAQk"),r=i("ttFD"),l=i("Ka9r"),n=i("T8y6"),c=i("u8ra"),d=i("NYxO"),m=i("1onU"),f=i("TIfe"),u=i("0xDb");t.a={name:"groupManage",components:{AddDot:r.default,AddPeople:s.default,Pager:m.a,DepMaintain:l.default},computed:a()({},Object(d.mapGetters)(["otherinfo"]),{getDataTree:function(){return this.checkedInput?this.dataTreeFn(Object(u.objectMerge2)([],this.dataTree)):this.dataTree}}),data:function(){return{checkedInput:!1,getCheckedKeyId:"",btnsize:"mini",searchQuery:{orgid:"",name:"",mobile:"",pageSize:100,pageNum:1,searchVo:{}},loading:!0,addDoTotVisible:!1,addPeopleVisible:!1,addDepMaintainisible:!1,hiddenDep:!1,isDepMain:!1,usersArr:[],total:0,orgName:"",isModify:!1,tableColumn:[{label:"姓名",prop:"name",width:"130"},{label:"归属网点",prop:"orgName",width:"150"},{label:"归属部门",prop:"departmentName",width:"150"},{label:"职务",prop:"position"},{label:"登录账号",prop:"username"},{label:"性别",prop:"sexFlag",width:"120",slot:function(e){return"0"===e.row.sexFlag?"男":"1"===e.row.sexFlag?"女":""}}],ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px",selected:[],dataTree:[],defaultProps:{children:"children",label:"name"},getOrgId:"",form:{orgName:"",orgTypeName:"",status:32,responsibleTelephone:"",responsibleName:"",city:"",serviceName:"",parentName:"",servicePhone:"",detailedAddr:"",networkCode:"",collectionFee:"",benchmark:"",warningQuota:"",lockMachineQuota:"",manageType:3,remarks:"",accountStatus:"0",parentId:0},orgInfoCache:{},userinfo:{},pageSize:"",pageNum:"",getform:{}}},mounted:function(){this.loading=!0,this.fetchOrg(),this.userinfo=Object(f.c)(),this.userinfo.companyId===this.userinfo.orgid&&(this.hiddenDep=!0)},methods:{changeKey:function(e){this.total=0,this.searchQuery=e,this.fetchAllUsers(this.getOrgId,"","",e.pageSize,e.pageNum,this.searchQuery.searchVo)},dataTreeFn:function(e){var i=this;return e.filter(function(e,t){return 31!==e.status&&(e.children&&(e.children=i.dataTreeFn(e.children)),!0)})},updateSuccess:function(e){var t=this;this.fetchOrg(this.getOrgId),e&&this.getOrgInfo(this.getOrgId).then(function(e){t.getOrgId===t.otherinfo.orgid&&(t.userinfo.companyInfo=e||t.userinfo.companyInfo,t.$store.commit("SET_OTHERINFO",t.userinfo),Object(f.m)(t.userinfo))})},fetchOrg:function(){var t=this;this.loading=!0,Object(c.i)(this.otherinfo.orgid).then(function(e){t.dataTree=e,t.fetchOrgId(t.dataTree[0].id),t.loading=!1}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},handleOrgInfo:function(e){this.form=e,this.getform=Object(u.objectMerge2)({},this.form)},fetchOrgId:function(e){this.loading=!0,this.getOrgId=parseInt(e,10),this.searchQuery.orgid=this.getOrgId,this.fetchAllUsers(e),this.orgInfoCache[e]?(this.handleOrgInfo(this.orgInfoCache[e]),this.loading=!1):(this.loading=!0,this.getOrgInfo(e)),this.loading=!1},getOrgInfo:function(t){var i=this;return this.loading=!0,Object(n.e)(t).then(function(e){return i.orgInfoCache[t]=e.data,i.handleOrgInfo(e.data),i.loading=!1,e.data})},fetchAllUsers:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100,a=this,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1;arguments[5];this.loading=!0,Object(c.d)(e,t,i,o,s,this.searchQuery.searchVo).then(function(e){a.usersArr=e.list,a.total=e.total,a.loading=!1})},seleClick:function(e){this.selected=e},doAction:function(e){var t=this;if(!this.selected.length&&"deletePeople"===e)return this.$message({message:"请选择要操作的员工~",type:"warning"}),!1;switch(e){case"addPeople":this.addPeopleVisible=!0,this.addDoTotVisible=!1,this.addDepMaintainisible=!1,this.isModify=!1,this.isDepMain=!1;break;case"addNot":this.isModify=!1,this.isDepMain=!1,this.addDoTotVisible=!0,this.addPeopleVisible=!1,this.addDepMaintainisible=!1;break;case"modifyNot":if(!this._checkExperience(this.form,"network"))return!1;this.isModify=!0,this.isDepMain=!1,this.addDoTotVisible=!0;break;case"depMain":this.isModify=!1,this.isDepMain=!0,this.addDepMaintainisible=!0,this.addDoTotVisible=!1,this.addPeopleVisible=!1;break;case"deletePeople":if(!this._checkExperience(this.selected[0],"username"))return!1;this.addDepMaintainisible=!1,this.addDoTotVisible=!1,this.addPeopleVisible=!1;var i=1<this.selected.length?this.selected.length+"名":this.selected[0].name,o="";this.selected.map(function(e){o+=e.id+","}),o=o.slice(0,o.length-1),this.$confirm("确定要删除 "+i+" 员工吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,Object(c.a)(o).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.fetchOrgId(t.getOrgId),t.loading=!1})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}this.$refs.multipleTable.clearSelection()},filterTag:function(e,t){return t.tag===e},getCheckedKeys:function(){this.loading=!0,this.getCheckedKeyId=this.$refs.tree._data.currentNode.node.data.id,this.fetchOrgId(this.$refs.tree._data.currentNode.node.data.id),this.addDoTotVisible=!1,this.loading=!1},closeAddDot:function(){this.addDoTotVisible=!1},closeAddPeople:function(){this.addPeopleVisible=!1},closeDep:function(){this.addDepMaintainisible=!1},handlePageChange:function(e){this.searchQuery.pageSize=e.pageSize,this.searchQuery.pageNum=e.pageNum,this.fetchAllUsers(this.getOrgId,"","",e.pageSize,e.pageNum,this.searchQuery.searchVo)},doLayout:function(){this.$refs.multipleTable.doLayout()},clickDetails:function(e,t,i){this.$refs.multipleTable.toggleRowSelection(e)}}}},"3EPC":function(e,t,i){"use strict";var o=i("qYK6"),a=i("/n+A");var s=function(e){i("f3wf")},r=i("VU/8")(o.a,a.a,s,null,null);t.a=r.exports},"7sm4":function(e,t,i){"use strict";var o={render:function(){var i=this,e=i.$createElement,o=i._self._c||e;return o("div",[!i.ui&&i.text?o("span",[i._v("\n        "+i._s(i.itemProvince&&i.itemProvince.value)+i._s(i.itemCity&&i.itemCity.value)+i._s(i.itemArea&&i.itemArea.value)+i._s(i.itemTown&&i.itemTown.value)+"\n    ")]):i._e(),i._v(" "),i.text||i.ui||!i.province?i._e():o("select",{directives:[{name:"model",rawName:"v-model",value:i.nowProvince,expression:"nowProvince"}],class:i.className,on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});i.nowProvince=e.target.multiple?t:t[0]}}},[i.blank?o("option",{attrs:{value:""}},[i._v(i._s(i.lang.pleaseSelect))]):i._e(),i._v(" "),i._l(i.listProvince,function(e){return o("option",{key:e.key,domProps:{value:e.key}},[i._v(i._s(e.value))])})],2),i._v(" "),!i.text&&!i.ui&&i.city&&i.haveCity?o("select",{directives:[{name:"model",rawName:"v-model",value:i.nowCity,expression:"nowCity"}],class:i.className,on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});i.nowCity=e.target.multiple?t:t[0]}}},[i.blank?o("option",{attrs:{value:""}},[i._v(i._s(i.lang.pleaseSelect))]):i._e(),i._v(" "),i._l(i.listCity,function(e){return o("option",{key:e.key,domProps:{value:e.key}},[i._v(i._s(e.value))])})],2):i._e(),i._v(" "),!i.text&&!i.ui&&(i.area&&i.city||!i.haveCity)&&i.listArea.length?o("select",{directives:[{name:"model",rawName:"v-model",value:i.nowArea,expression:"nowArea"}],class:i.className,on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});i.nowArea=e.target.multiple?t:t[0]}}},[i.blank?o("option",{attrs:{value:""}},[i._v(i._s(i.lang.pleaseSelect))]):i._e(),i._v(" "),i._l(i.listArea,function(e){return o("option",{key:e.key,domProps:{value:e.key}},[i._v(i._s(e.value))])})],2):i._e(),i._v(" "),!i.text&&!i.ui&&i.town&&i.area&&i.city?o("select",{directives:[{name:"model",rawName:"v-model",value:i.nowTown,expression:"nowTown"}],class:i.className,on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});i.nowTown=e.target.multiple?t:t[0]}}},[i.blank?o("option",{attrs:{value:""}},[i._v(i._s(i.lang.pleaseSelect))]):i._e(),i._v(" "),i._l(i.listTown,function(e){return o("option",{key:e.key,domProps:{value:e.key}},[i._v(i._s(e.value))])})],2):i._e(),i._v(" "),i.ui?o("div",{ref:"caller",staticClass:"caller-container",on:{click:function(e){e.stopPropagation(),e.preventDefault(),i.showDropdown(!0)}}},[i._t("default")],2):i._e(),i._v(" "),i.ui?o("v-dropdown",{ref:"dropdown",on:{hidedropdown:i.hidedropdown}},[o("div",{staticClass:"rg-header"},[o("h3",[o("span",{directives:[{name:"show",rawName:"v-show",value:!(i.itemProvince||i.itemCity||i.itemArea||i.itemTown),expression:"!itemProvince&&!itemCity&&!itemArea&&!itemTown"}]},[i._v("行政区划选择器")]),i._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:i.itemProvince||i.itemCity||i.itemArea||i.itemTown,expression:"itemProvince||itemCity||itemArea||itemTown"}],staticClass:"rg-header-selected"},[i._v("\n                    "+i._s(i.itemProvince&&i.itemProvince.value)+i._s(i.itemCity&&i.itemCity.value)+i._s(i.itemArea&&i.itemArea.value)+i._s(i.itemTown&&i.itemTown.value)+"\n                ")])]),i._v(" "),o("button",{staticClass:"rg-removeall-button",attrs:{type:"button",title:"清除选择"},on:{click:i.clear}},[o("i",{staticClass:"iconfont icon-removeall"})]),i._v(" "),o("button",{staticClass:"rg-done-button",attrs:{type:"button",title:"完成"},on:{click:function(e){i.showDropdown(!1)}}},[o("i",{staticClass:"iconfont icon-selected"})])]),i._v(" "),i.search?o("div",{staticClass:"rg-search"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:i.query,expression:"query",modifiers:{trim:!0}}],ref:"input",staticClass:"rg-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:i.query},on:{input:function(e){e.target.composing||(i.query=e.target.value.trim())},blur:function(e){i.$forceUpdate()}}})]):i._e(),i._v(" "),o("div",{staticClass:"rg-level-tabs"},[o("ul",i._l(i.levels,function(e,t){return i.checkAvailable(t)?o("li",{key:t},[o("a",{class:{active:t===i.levelIndex},attrs:{href:"javascript:void(0);",tab_id:"selectmenu_tab_"+(t+1),data_index:t},on:{click:function(e){i.levelIndex=t}}},[i._v(i._s(e.title))])]):i._e()}))]),i._v(" "),o("div",{staticClass:"rg-results-container"},[o("ul",{staticClass:"rg-results"},[i._l(i.list,function(t,e){return o("li",{key:e,class:{"rg-item":!0,active:i.matchItem(t)},on:{click:function(e){i.itemSelect(t)}}},[i._v(i._s(t.value))])}),i._v(" "),o("li",{directives:[{name:"show",rawName:"v-show",value:0===i.list.length,expression:"list.length === 0"}],staticClass:"rg-message-box"},[i._v("无匹配项目")])],2)])]):i._e()],1)},staticRenderFns:[]};t.a=o},"8sHD":function(e,t,i){var o=i("kM2E"),a=i("KpO7");o(o.S+o.F*(Number.parseInt!=a),"Number",{parseInt:a})},ABFs:function(e,t,i){"use strict";var o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"add-dot"},[i("pop-right",{staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[i("template",{staticClass:"addEmployeerPop-content",slot:"content"},[t.companyId===t.form.id?i("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[i("el-form-item",{attrs:{label:"公司名称","label-width":t.formLabelWidth,prop:"orgName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:t.companyId===t.form.id||31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网点类型","label-width":t.formLabelWidth}},[i("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.companyId===t.form.id||31===t.form.status},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"公司状态","label-width":t.formLabelWidth,disabled:"disabled"}},[i("el-select",{attrs:{disabled:!(!t.isModify&&t.companyId===t.form.id||31===t.form.status)},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[i("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),i("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"公司代码","label-width":t.formLabelWidth,prop:"networkCode"}},[i("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status||t.companyId===t.form.id,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[i("el-input",{attrs:{"auto-complete":"off",maxlength:30,disabled:31===t.form.status},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"所在城市","label-width":t.formLabelWidth,prop:"city"}},[i("querySelect",{attrs:{filterable:"",show:"select",search:"longAddr",valuekey:"longAddr",disabled:t.companyId===t.form.id||31===t.form.status,type:"city",remote:!0,clearable:""},on:{change:t.getCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"园区名称","label-width":t.formLabelWidth,prop:"parkName"}},[i("el-input",{attrs:{disabled:31===t.form.status,placeholder:"选择所在园区"},on:{focus:t.doctionPark},model:{value:t.form.parkName,callback:function(e){t.$set(t.form,"parkName",e)},expression:"form.parkName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"统一社会信用代码","label-width":t.formLabelWidth,prop:"socialCreditCode"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.socialCreditCode,callback:function(e){t.$set(t.form,"socialCreditCode",e)},expression:"form.socialCreditCode"}})],1),t._v(" "),i("div",{staticClass:"rem-add-dot"},[i("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth,prop:""}},[i("el-input",{attrs:{type:"textarea",rows:2,disabled:31===t.form.status,maxlength:50,placeholder:"不可超300字","auto-complete":"off"},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1)],1)],1):i("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[i("el-form-item",{attrs:{label:"网点名称","label-width":t.formLabelWidth,prop:"orgName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网点类型","label-width":t.formLabelWidth}},[i("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.isModify},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网点状态","label-width":t.formLabelWidth,disabled:"disabled"}},[i("el-select",{attrs:{disabled:!t.isModify},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[i("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),i("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"上级网点","label-width":t.formLabelWidth}},[i("SelectTree",{attrs:{disabled:t.isModify||31===t.form.status,orgid:t.form.parentId||t.otherinfo.orgid},on:{change:t.canadd},model:{value:t.form.parentId,callback:function(e){t.$set(t.form,"parentId",e)},expression:"form.parentId"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"经营类型","label-width":t.formLabelWidth}},[i("el-select",{attrs:{disabled:31===t.form.status},model:{value:t.form.manageType,callback:function(e){t.$set(t.form,"manageType",e)},expression:"form.manageType"}},[i("el-option",{attrs:{label:"自营",value:3}}),t._v(" "),i("el-option",{attrs:{label:"加盟",value:4}})],1)],1),t._v(" "),t.isModify?i("el-form-item",{attrs:{label:"创建时间","label-width":t.formLabelWidth}},[i("el-input",{attrs:{value:t._f("parseTime")(t.form.createTime,"{y}/{m}/{d}"),disabled:t.isModify||31===t.form.status}})],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[i("el-input",{attrs:{maxlength:11,"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"所在城市","label-width":t.formLabelWidth,prop:"city"}},[i("querySelect",{attrs:{filterable:"",show:"select",search:"longAddr",valuekey:"longAddr",disabled:31===t.form.status,type:"city",remote:!0,clearable:""},on:{change:t.getCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:30},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网点ID","label-width":t.formLabelWidth,prop:"networkCode"}},[i("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"代收款限额","label-width":t.formLabelWidth,prop:""}},[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.collectionFee,callback:function(e){t.$set(t.form,"collectionFee",e)},expression:"form.collectionFee"}},[i("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),i("el-form-item",{attrs:{label:"提现基准","label-width":t.formLabelWidth,prop:""}},[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:9},model:{value:t.form.benchmark,callback:function(e){t.$set(t.form,"benchmark",e)},expression:"form.benchmark"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"预警额度","label-width":t.formLabelWidth,prop:""}},[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.warningQuota,callback:function(e){t.$set(t.form,"warningQuota",e)},expression:"form.warningQuota"}},[i("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),i("el-form-item",{attrs:{label:"锁机额度","label-width":t.formLabelWidth,prop:""}},[i("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{"auto-complete":"off",maxlength:9,disabled:31===t.form.status},model:{value:t.form.lockMachineQuota,callback:function(e){t.$set(t.form,"lockMachineQuota",e)},expression:"form.lockMachineQuota"}},[i("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),i("el-form-item",{attrs:{label:"园区名称","label-width":t.formLabelWidth,prop:"parkName"}},[i("el-input",{attrs:{disabled:31===t.form.status,placeholder:"选择所在园区"},on:{focus:t.doctionPark},model:{value:t.form.parkName,callback:function(e){t.$set(t.form,"parkName",e)},expression:"form.parkName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"统一社会信用代码","label-width":t.formLabelWidth,prop:"socialCreditCode"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.socialCreditCode,callback:function(e){t.$set(t.form,"socialCreditCode",e)},expression:"form.socialCreditCode"}})],1),t._v(" "),i("div",{staticClass:"ad-add-dot-admin"},[t.isModify?t._e():i("div",{staticClass:"ad-add-dot"},[i("el-checkbox",{attrs:{checked:""},model:{value:t.form.accountStatus,callback:function(e){t.$set(t.form,"accountStatus",e)},expression:"form.accountStatus"}},[t._v("开通管理员账号")]),t._v(" "),i("p",[t._v(" 密码：123456")])],1),t._v(" "),t.form.accountStatus&&!t.isModify?i("el-form-item",{attrs:{"label-width":t.formLabelWidth,prop:"accountName"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip,tabindex:"-1"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由字母、数字组成\n                "),i("br"),t._v("长度范围2~15个字符")]),t._v(" "),i("el-input",{staticStyle:{width:"307px"},attrs:{"auto-complete":"off"},on:{focus:function(e){t.tooltip=!0},blur:function(e){t.tooltip=!1}},model:{value:t.form.accountName,callback:function(e){t.$set(t.form,"accountName","string"==typeof e?e.trim():e)},expression:"form.accountName"}})],1)],1):t._e()],1),t._v(" "),i("div",{staticClass:"rem-add-dot"},[i("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth}},[i("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"off",disabled:31===t.form.status,maxlength:30,placeholder:"不可超30字"},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth,prop:""}},[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"不可超300字","auto-complete":"off",maxlength:300},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保存")]),t._v(" "),i("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2),t._v(" "),i("AddPark",{attrs:{isMatreg:t.isMatreg,centerDialogVisible:t.centerDialogVisible},on:{close:t.closeAddReg,success:t.getsuccess}})],1)},staticRenderFns:[]};t.a=o},AmWJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("01I6"),a=i("Iq6R");var s=function(e){i("Jmrl")},r=i("VU/8")(o.a,a.a,s,null,null);t.default=r.exports},BB2Z:function(e,t,i){"use strict";var o={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"v-dropdown-container",style:[e.styleSheet]},[e._t("default")],2)},staticRenderFns:[]};t.a=o},DAQk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("wO8r"),a=i("Q5/P");var s=function(e){i("whtI")},r=i("VU/8")(o.a,a.a,s,null,null);t.default=r.exports},IEVd:function(e,t){},Iq6R:function(e,t,i){"use strict";var o={render:function(){var o=this,e=o.$createElement,a=o._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}],staticClass:"company miniHeaderSearch clearfix"},[a("div",{staticClass:"company-box"},[a("div",{staticClass:"side_left"},[a("el-tree",{ref:"tree",attrs:{data:o.getDataTree,"node-key":"id","default-expanded-keys":[1],props:o.defaultProps,"default-expand-all":""},on:{"node-click":o.getCheckedKeys},scopedSlots:o._u([{key:"default",fn:function(e){var t=e.node,i=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{class:[31===i.status?"treeClass":"treeAct"]},[o._v(o._s(t.label))])])}}])})],1),o._v(" "),a("div",{staticClass:"side_right"},[a("el-collapse",{attrs:{accordion:"",change:"doLayout"}},[0===o.form.parentId?a("el-collapse-item",{attrs:{title:"公司信息:"}},[a("div",{staticClass:"side_right_top",class:{currActive:31===o.form.status}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:o.form,inline:!0,"label-position":"right",size:"mini"}},[a("el-form-item",{attrs:{label:"公司名称","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.orgName,callback:function(e){o.$set(o.form,"orgName",e)},expression:"form.orgName"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"网点类型","label-width":o.formLabelWidth}},[a("el-input",{attrs:{value:o.form.orgTypeName,disabled:""}})],1),o._v(" "),a("el-form-item",{attrs:{label:"公司状态","label-width":o.formLabelWidth,disabled:"disabled"}},[a("el-input",{attrs:{value:32===o.form.status?"有效":"无效",disabled:""}})],1),o._v(" "),a("el-form-item",{attrs:{label:"客服人员","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.serviceName,callback:function(e){o.$set(o.form,"serviceName",e)},expression:"form.serviceName"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"客服电话","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.servicePhone,callback:function(e){o.$set(o.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"公司代码","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.networkCode,callback:function(e){o.$set(o.form,"networkCode",e)},expression:"form.networkCode"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"负责人","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.responsibleName,callback:function(e){o.$set(o.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"负责人电话","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.responsibleTelephone,callback:function(e){o.$set(o.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"所在城市","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.city,callback:function(e){o.$set(o.form,"city",e)},expression:"form.city"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"园区","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.parkName,callback:function(e){o.$set(o.form,"parkName",e)},expression:"form.parkName"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"统一社会信用代码","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.socialCreditCode,callback:function(e){o.$set(o.form,"socialCreditCode",e)},expression:"form.socialCreditCode"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"详情地址","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.detailedAddr,callback:function(e){o.$set(o.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1)],1)],1)]):a("el-collapse-item",{attrs:{title:"网点信息:"}},[a("div",{staticClass:"side_right_top",class:{currActive:31===o.form.status}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:o.form,inline:!0,"label-position":"right",size:"mini"}},[a("el-form-item",{attrs:{label:"网点名称","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.orgName,callback:function(e){o.$set(o.form,"orgName",e)},expression:"form.orgName"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"网点类型","label-width":o.formLabelWidth}},[a("el-input",{attrs:{value:o.form.orgTypeName,disabled:""}})],1),o._v(" "),a("el-form-item",{attrs:{label:"网点状态","label-width":o.formLabelWidth,disabled:"disabled"}},[a("el-input",{attrs:{value:32===o.form.status?"有效":"无效",disabled:""}})],1),o._v(" "),a("el-form-item",{attrs:{label:"客服人员","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.serviceName,callback:function(e){o.$set(o.form,"serviceName",e)},expression:"form.serviceName"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"客服电话","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.servicePhone,callback:function(e){o.$set(o.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"上级网点","label-width":o.formLabelWidth}},[a("el-input",{attrs:{value:o.form.parentName||o.form.orgName,disabled:""}})],1),o._v(" "),a("el-form-item",{attrs:{label:"经营类型","label-width":o.formLabelWidth}},[a("el-input",{attrs:{value:4===o.form.manageType?"加盟":"自营",disabled:""}})],1),o._v(" "),a("el-form-item",{attrs:{label:"创建时间","label-width":o.formLabelWidth}},[a("el-input",{attrs:{value:o._f("parseTime")(o.form.createTime,"{y}/{m}/{d}"),disabled:""}})],1),o._v(" "),a("el-form-item",{attrs:{label:"网点代码","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.networkCode,callback:function(e){o.$set(o.form,"networkCode",e)},expression:"form.networkCode"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"代收款限额","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.collectionFee,callback:function(e){o.$set(o.form,"collectionFee",e)},expression:"form.collectionFee"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"负责人","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.responsibleName,callback:function(e){o.$set(o.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"负责人电话","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.responsibleTelephone,callback:function(e){o.$set(o.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"所在城市","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.city,callback:function(e){o.$set(o.form,"city",e)},expression:"form.city"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"锁机额度","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.lockMachineQuota,callback:function(e){o.$set(o.form,"lockMachineQuota",e)},expression:"form.lockMachineQuota"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"预警额度","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.warningQuota,callback:function(e){o.$set(o.form,"warningQuota",e)},expression:"form.warningQuota"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"园区","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.parkName,callback:function(e){o.$set(o.form,"parkName",e)},expression:"form.parkName"}})],1),o._v(" "),a("el-form-item",{attrs:{label:"统一社会信用代码","label-width":o.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:o.form.socialCreditCode,callback:function(e){o.$set(o.form,"socialCreditCode",e)},expression:"form.socialCreditCode"}})],1)],1)],1)])],1),o._v(" "),a("div",{staticClass:"side_right_bottom clearfix"},[a("div",{staticClass:"btns_box_lrl clearfix"},[32===o.form.status?a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_ADD",arg:"ORGTREELIST_ADD"}],attrs:{type:"primary",size:o.btnsize,icon:"el-icon-circle-plus",plain:""},on:{click:function(e){o.doAction("addPeople")}}},[o._v(" 新增员工\n          ")]):o._e(),o._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_DELETE",arg:"ORGTREELIST_DELETE"}],attrs:{type:"danger",size:o.btnsize,icon:"el-icon-delete",plain:""},on:{click:function(e){o.doAction("deletePeople")}}},[o._v("\n            删除员工\n          ")]),o._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_UPDATE",arg:"ORGTREELIST_UPDATE"}],attrs:{type:"primary",size:o.btnsize,icon:"el-icon-edit",plain:""},on:{click:function(e){o.doAction("modifyNot")}}},[o._v("修改网点\n          ")]),o._v(" "),32===o.form.status?a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_ADDWD",arg:"ORGTREELIST_ADDWD"}],attrs:{type:"primary",size:o.btnsize,icon:"el-icon-circle-plus",plain:""},on:{click:function(e){o.doAction("addNot")}}},[o._v("\n            新增网点\n          ")]):o._e(),o._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has:ORGTREELIST_EDIT",arg:"ORGTREELIST_EDIT"}],attrs:{type:"primary",size:o.btnsize,icon:"el-icon-edit",plain:""},on:{click:function(e){o.doAction("depMain")}}},[o._v("部门维护\n          ")]),o._v(" "),a("el-col",{staticClass:"org-name"},[a("p",[o._v(o._s(o.form.orgName))])])],1),o._v(" "),a("div",{staticClass:"info_news"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:o.usersArr,stripe:"",border:"","tooltip-effect":"dark",height:"100%"},on:{"row-click":o.clickDetails,"selection-change":o.seleClick}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),o._v(" "),o._l(o.tableColumn,function(t){return[t.slot?a("el-table-column",{key:t.id,attrs:{fixed:t.fixed,prop:t.prop,sortable:"",label:t.label,width:t.width},scopedSlots:o._u([{key:"header",fn:function(e){return[a("tableHeaderSearch",{attrs:{scope:e,query:o.searchQuery},on:{change:o.changeKey}})]}},{key:"default",fn:function(e){return[a("div",{staticClass:"td-slot",domProps:{innerHTML:o._s(t.slot(e))}})]}}])}):a("el-table-column",{key:t.id,attrs:{fixed:t.fixed,sortable:"",label:t.label,prop:t.prop,width:t.width},scopedSlots:o._u([{key:"header",fn:function(e){return[a("tableHeaderSearch",{attrs:{scope:e,query:o.searchQuery},on:{change:o.changeKey}})]}},{key:"default",fn:function(e){return[o._v(o._s(e.row[t.prop]))]}}])})]}),o._v(" "),a("el-table-column",{attrs:{width:"220",prop:"rolesName",label:"权限角色"},scopedSlots:o._u([{key:"header",fn:function(e){return[a("tableHeaderSearch",{attrs:{scope:e,query:o.searchQuery},on:{change:o.changeKey}})]}},{key:"default",fn:function(e){return["0"!==e.row.rolesId?a("span",[o._v(o._s(e.row.rolesName))]):a("span",{staticClass:"unauth"},[o._v("未授权")])]}}])})],2)],1)])],1),o._v(" "),a("AddDot",{attrs:{dotInfo:o.getform,orgid:o.getOrgId||o.otherinfo.orgid,companyId:o.otherinfo.companyId,isModify:o.isModify,getCheckedKeyId:o.getCheckedKeyId,popVisible:o.addDoTotVisible},on:{"update:isModify":function(e){o.isModify=e},success:o.updateSuccess,close:o.closeAddDot}}),o._v(" "),a("AddPeople",{attrs:{popVisible:o.addPeopleVisible,orgid:o.getOrgId||o.otherinfo.orgid},on:{"update:popVisible":function(e){o.addPeopleVisible=e},close:o.closeAddPeople,success:function(e){o.fetchOrgId(o.getOrgId)}}}),o._v(" "),a("DepMaintain",{attrs:{popVisible:o.addDepMaintainisible,isDepMain:o.isDepMain,dotInfo:o.usersArr,createrId:o.otherinfo.orgid},on:{"update:popVisible":function(e){o.addDepMaintainisible=e},close:o.closeDep}})],1),o._v(" "),a("div",{staticClass:"info_news_footer"},[a("div",{staticClass:"checked_footer"},[a("el-checkbox",{attrs:{value:"checkbox",checked:"checked"},model:{value:o.checkedInput,callback:function(e){o.checkedInput=e},expression:"checkedInput"}},[o._v("过滤失效网点")])],1),o._v(" "),a("div",{staticClass:"total_footer"},[o._v("共计:"+o._s(o.total))]),o._v(" "),a("div",{staticClass:"show_pager"},[a("Pager",{attrs:{total:o.total},on:{change:o.handlePageChange}})],1)])])},staticRenderFns:[]};t.a=o},Jmrl:function(e,t){},Ka9r:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("N+M1"),a=i("yyJD");var s=function(e){i("QoE5")},r=i("VU/8")(o.a,a.a,s,null,null);t.default=r.exports},KpO7:function(e,t,i){var o=i("7KvD").parseInt,a=i("mnVu").trim,s=i("hyta"),r=/^[-+]?0[xX]/;e.exports=8!==o(s+"08")||22!==o(s+"0x16")?function(e,t){var i=a(String(e),3);return o(i,t>>>0||(r.test(i)?16:10))}:o},LaJi:function(e,t){},"N+M1":function(e,t,i){"use strict";var o=i("3EPC"),a=i("T8y6");t.a={components:{PopFrame:o.a},props:{popVisible:{type:Boolean,default:!1},dotInfo:[Object,Array],isDepMain:{type:Boolean,default:!1},createrId:[Number,String]},directives:{focus:{inserted:function(e){e.focus()}}},data:function(){return{theulkey:"theulkey",currentIndex:0,checked1:!0,popTitle:"部门",loading:!0,getMentInfo:[{dictName:"",id:""}],checked:!0,checked2:!0,hiddenAdd:!1,hiddenEdit:!1,showDate:!1,dictName:"",orderId:"",resInfo:[{dictName:""}],addText:"添加",editText:"编辑",remText:"关闭",showBotton:!1,remBotton:!1,restaurants:[]}},computed:{isShow:{get:function(){return this.popVisible},set:function(){}}},watch:{isDepMain:function(){this.isDepMain&&(this.popTitle="部门",this.showBotton=!0,this.hiddenAdd=!1,this.hiddenEdit=!1,this.showDate=!0)},dotInfo:function(e){},popVisible:function(e){this.popVisible&&this.getSelectDict()},createrId:function(e){}},mounted:function(){},methods:{editDepFun:function(){},resetValue:function(e,t){return function(){e.dictName=t}},getSelectDict:function(){var t=this;this.loading=!0,Object(a.f)(this.createrId).then(function(e){t.getMentInfo=e,t.loading=!1,t.theulkey=(Math.random()+"").substr(2)}).catch(function(e){t._handlerCatchMsg(e)})},getAddDate:function(){var t=this;return this.loading=!0,Object(a.g)(this.createrId,this.dictName).then(function(e){t.dictName="",t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})},closeMe:function(e){"部门"===this.popTitle?(this.$emit("close"),"function"==typeof e&&e()):this.reset()},editMe:function(){var e=this;this.popTitle="编辑",this.remBotton=!0,this.showBotton=!1,this.hiddenAdd=!1,this.hiddenEdit=!0,this.showDate=!1,this.currentIndex=0,setTimeout(function(){e.$refs.svginputEdit.focus()},100)},submitForm:function(e){var t=this;this.popTitle="添加",this.hiddenAdd=!0,this.showBotton=!1,this.hiddenEdit=!1,this.showDate=!1,setTimeout(function(){t.$refs.svginput.focus()},100)},reset:function(){this.popTitle="部门",this.remBotton=!1,this.showBotton=!0,this.hiddenAdd=!1,this.hiddenEdit=!1,this.showDate=!0},addDep:function(){var t=this;if(!this.dictName)return this.$message({message:"请输入用户名~",type:"warning"}),!1;this.loading=!0,this.getAddDate().then(function(e){t.$message({type:"success",message:"添加成功!"}),t.getSelectDict(t.createrId),t.closeMe(),t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})},editDep:function(e){var t=this,i=e.id;if(this.dictName=e.dictName,0===e.orgid)return this.$message({type:"info",message:"系统默认部门不能修改!"}),!1;this.loading=!0,Object(a.j)(this.createrId,this.dictName,i).then(function(e){t.$message({type:"success",message:"修改成功!"}),t.closeMe(),t.getSelectDict(),t.theulkey=(Math.random()+"").substr(2),t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})},delDep:function(e){var t=this,i=e.id,o=e.dictName;if(0===e.orgid)return this.$message({type:"info",message:"系统默认部门不能修改!"}),!1;this.$confirm("确定要删除 "+o+" 部门吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,Object(a.a)(i,t.otherinfo.orgid).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getSelectDict(),t.theulkey=(Math.random()+"").substr(2),t.loading=!1}).catch(function(e){t._handlerCatchMsg(e)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}}},PN7R:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("s7/i"),a=i("kX6U");var s=function(e){i("IEVd")},r=i("VU/8")(o.a,a.a,s,null,null);t.default=r.exports},"Q5/P":function(e,t,i){"use strict";var o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[i("template",{staticClass:"addEmployeerPop-content",slot:"content"},[i("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[i("el-form-item",{attrs:{label:"用户姓名","label-width":t.formLabelWidth,prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"手机号码","label-width":t.formLabelWidth,prop:"mobilephone"}},[i("el-input",{attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.mobilephone,callback:function(e){t.$set(t.form,"mobilephone",e)},expression:"form.mobilephone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"登录账号","label-width":t.formLabelWidth,prop:"username"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip,tabindex:"-1"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由小写字母、数字组成"),i("br"),t._v("长度范围2~30个字符")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.username,expression:"form.username",modifiers:{trim:!0}},{name:"onlyNumberAndLetter",rawName:"v-onlyNumberAndLetter"}],staticClass:"nativeinput",attrs:{type:"text","auto-complete":"off",maxlength:"30"},domProps:{value:t.form.username},on:{focus:function(e){t.tooltip=!0},blur:[function(e){t.tooltip=!1},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value.trim())}}})])],1),t._v(" "),i("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth,prop:"password"}},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.password,expression:"form.password",modifiers:{trim:!0}},{name:"onlyNumberAndLetter",rawName:"v-onlyNumberAndLetter"}],staticClass:"nativeinput",attrs:{type:"text",maxlength:"15","auto-complete":"off"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("el-form-item",{attrs:{label:"职位","label-width":t.formLabelWidth,prop:"position"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"员工号","label-width":t.formLabelWidth,prop:"jobNumber"}},[i("el-input",{attrs:{"auto-complete":"off",maxlength:20},model:{value:t.form.jobNumber,callback:function(e){t.$set(t.form,"jobNumber",e)},expression:"form.jobNumber"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"性别",prop:"sexFlag","label-width":t.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.form.sexFlag,callback:function(e){t.$set(t.form,"sexFlag",e)},expression:"form.sexFlag"}},[i("el-option",{attrs:{label:"男",value:"0"}}),t._v(" "),i("el-option",{attrs:{label:"女",value:"1"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{required:"",prop:"orgid",label:"归属网点","label-width":t.formLabelWidth}},[i("SelectTree",{attrs:{filterable:"",orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"权限角色","label-width":t.formLabelWidth,prop:"rolesId"}},[i("el-select",{attrs:{"collapse-tags":"",filterable:"",multiple:"","filter-method":t.makefilter,placeholder:"请选择权限"},model:{value:t.form.rolesId,callback:function(e){t.$set(t.form,"rolesId",e)},expression:"form.rolesId"}},t._l(t.roleslist,function(e){return i("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}},[i("span",{staticClass:"query-input-myautocomplete",domProps:{innerHTML:t._s(t.highLight(e,"roleName"))}})])}))],1),t._v(" "),i("el-form-item",{attrs:{label:"归属部门","label-width":t.formLabelWidth,prop:"departmentId"}},[i("SelectType",{attrs:{orgid:t.otherinfo.orgid,type:"department_type",filterable:"",placeholder:"请选择部门"},model:{value:t.form.departmentId,callback:function(e){t.$set(t.form,"departmentId",e)},expression:"form.departmentId"}})],1)],1),t._v(" "),t.isModify?t._e():i("div",{staticClass:"info"},[t._v("注：密码默认为：123456")])],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isModify?t._e():i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("确 定")]),t._v(" "),i("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=o},Q9eS:function(e,t){},QoE5:function(e,t){},UZPH:function(e,t,i){"use strict";t.a={cn:{pleaseSelect:"请选择"},en:{pleaseSelect:"Please select"}}},f3wf:function(e,t){},gBtx:function(e,t,i){e.exports={default:i("qrpI"),__esModule:!0}},hyta:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},kX6U:function(e,t,i){"use strict";var o={render:function(){var o=this,e=o.$createElement,a=o._self._c||e;return a("div",{staticClass:"wzlReg"},[a("el-dialog",{attrs:{title:o.popTitle,visible:o.isShow,width:"30%",center:"","close-on-click-modal":!1,"before-close":o.closeMe},on:{"update:visible":function(e){o.isShow=e},close:o.closeMe}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:o.formAllData,rules:o.rules,inline:!0,"label-position":"right","label-width":"100px"}},[a("div",{staticClass:"search_warrper"},[a("el-form-item",{attrs:{label:"",prop:"belongCityName"}},[a("vregion",{staticClass:"form-control",attrs:{ui:!0},on:{values:o.regionChange}},[a("el-input",{attrs:{placeholder:"请选择园区所在地"},model:{value:o.formAllData.belongCityName,callback:function(e){o.$set(o.formAllData,"belongCityName",e)},expression:"formAllData.belongCityName"}})],1)],1),o._v(" "),a("el-form-item",{attrs:{label:"",prop:"recommendFee"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入园区名称","auto-complete":"off",clearable:""},model:{value:o.formAllData.parkName,callback:function(e){o.$set(o.formAllData,"parkName","string"==typeof e?e.trim():e)},expression:"formAllData.parkName"}})],1),o._v(" "),a("el-form-item",{staticClass:"staff_searchinfo--btn"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:function(e){o.handleSearch("searchForm")}}},[o._v("搜索")]),o._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-close",type:"info",plain:""},on:{click:function(e){o.handleSearch("clearForm")}}},[o._v("重置")])],1)],1),o._v(" "),a("div",{staticClass:"classify_info"},[a("ul",{staticClass:"addlist"},o._l(o.dataset,function(t,i){return a("li",{key:i,class:{itemHover:o.itemIndex===i},on:{click:function(e){o.selectList(t)},mouseenter:function(e){o.enter(t,i),o.dataset}}},[a("h4",[o._v(o._s(t.parkName))]),o._v(" "),a("span",[o._v(o._s(t.locationProvince+t.locationCity+t.locationArea+t.parkAddress))])])}))])]),o._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"info_tab_footer"},[o._v("共计:"+o._s(o.dataTotal)+"\n        "),a("div",{staticClass:"show_pager"},[a("Pager",{attrs:{total:o.dataTotal,sizes:o.sizes},on:{change:o.handlePageChange}})],1)])])],1)],1)},staticRenderFns:[]};t.a=o},m59D:function(e,t,i){"use strict";var o=i("woOf"),a=i.n(o),s=i("//Fk"),r=i.n(s),l=i("Dd8w"),n=i.n(l),c=i("T8y6"),d=i("P5Di"),m=i("o9X6"),f=i("PN7R"),u=i("hq98"),h=i("E4LH"),p=(i("0xDb"),i("NYxO")),v=i("9UCZ");t.a={components:{popRight:d.a,SelectTree:m.a,querySelect:u.a,SelectType:v.a,AddPark:f.default},computed:n()({},Object(p.mapGetters)(["otherinfo"]),{isShow:{get:function(){return this.popVisible},set:function(){}}}),props:{popVisible:{type:Boolean,default:!1},isModify:{type:Boolean,default:!1},dotInfo:Object,orgid:{type:Number},companyId:{type:Number},getCheckedKeyId:{type:[Number,String]}},watch:{"form.accountStatus":{handler:function(){this.form.accountName=""}},popVisible:function(e){e&&(this.formKey=Math.random(),this.fetchData()),console.log("dotinfo",this.dotInfo),this.watchDate(this.dotInfo)},getCheckedKeyId:function(e){this.watchDate()},dotInfo:{handler:function(e,t){this.checkShowMessage=!1,this.watchDate(this.dotInfo)},immediate:!0,deep:!0},isModify:{handler:function(){this.watchDate()},immediate:!0}},data:function(){var e=function(e,t,i){i()};return{centerDialogVisible:!1,isMatreg:!1,parkList:[],tooltip:!1,formKey:"",popTitle:"新增网点",checked:!0,loading:!1,checkShowMessage:!1,netWorkType:[],newnNetWorkType:[],manageType:[],netWorkStatus:[],isChecked:!1,isCheckedShow:!1,form:{parkId:"",parkName:"",orgName:"",orgType:1,status:32,responsibleTelephone:"",responsibleName:"",city:"",serviceName:"",parentName:"",servicePhone:"",detailedAddr:"",networkCode:"",collectionFee:"",benchmark:"",warningQuota:"",lockMachineQuota:"",manageType:3,remarks:"",accountStatus:!0,parentId:0,createTime:"",id:"",accountName:""},rules:{orgName:[{required:!0,message:"请输入网点名称"}],servicePhone:[{required:!0,pattern:h.a.TELANDPHONE,message:"客服号码格式不正确"}],responsibleName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],responsibleTelephone:[{pattern:h.a.MOBILE,message:"请输入正确的电话号码",trigger:["blur","change"]}],serviceName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],networkCode:[{required:!0,message:"请输入网点代码"},{max:10,message:"不可超过10个字符",trigger:"blur"}],city:[{required:!0,message:"请选择城市"}],accountName:[{required:!0,message:"请输入有效的登录账号",pattern:h.a.USERNAME_NOUP},{max:15,message:"不能超过15个字符",trigger:"blur"}]},dialogVisible:!1,formLabelWidth:"120px"}},mounted:function(){},methods:{doctionPark:function(){console.log("doctionPark"),this.centerDialogVisible=!0,this.isMatreg=!0},closeAddReg:function(){this.centerDialogVisible=!1,this.isMatreg=!1},getsuccess:function(e){this.$set(this.form,"parkName",e.parkName),this.$set(this.form,"parkId",e.id),this.$set(this.form,"socialCreditCode",e.substationCode||"")},changePark:function(t){console.log("park",t,this.parkList.filter(function(e){return e.id===t})[0]),this.form.parkName=this.parkList.filter(function(e){return e.id===t})[0].parkName},fetchParks:function(){var t=this;return Object(c.i)({pageSize:500,currentPage:1}).then(function(e){e&&(t.parkList=e.list||[])}).catch(function(e){t._handlerCatchMsg(e)})},fetchData:function(){var t=this;this.loading=!0,this.form.parentId=this.orgid||this.companyId,r.a.all([Object(c.c)(this.form.parentId),Object(c.b)(this.form.parentId),Object(c.d)(this.form.parentId)]).then(function(e){t.manageType=e[1],t.netWorkStatus=e[2],t.netWorkType=e[0],t.loading=!1}).catch(function(e){t._handlerCatchMsg(e),t.loading=!1})},canadd:function(e,t){t&&t.index&&5<=t.index&&(this.$message.info("添加的层级数不能超过5层，请重新选择~"),this.form.parentId=this.otherinfo.companyId)},watchDate:function(){for(var e in this.form)this.form[e]="";this.isModify?(this.popTitle="修改网点",this.form=a()({},this.dotInfo),this.changeDate(this.dotInfo),this.form.id=this.dotInfo.id,this.form.parentId=this.dotInfo.parentId||this.companyId):(this.popTitle="新增网点",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid)},getCity:function(e){this.form.city=e?e.longAddr:e},getOrgid:function(e){this.form.parentId=e},newDate:function(){},reset:function(){for(var e in this.$refs.ruleForm.resetFields(),this.form)this.form[e]="",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid},closeMe:function(e){this.$emit("close"),this.reset(),"function"==typeof e&&e()},submitForm:function(e,i){var o=this;this.$refs[e].validate(function(e){if(o.isChecked=!1,o.isCheckedShow=!1,!e)return o.$message({type:"error",message:"保存失败"}),!1;o.loading=!0;var t=void 0;o.isModify?(o.form.id===o.form.parentId&&o.form.parentId===o.otherinfo.companyId&&(o.form.parentId=0),o.form.id=o.dotInfo.id,o.form.createTime=+new Date(o.form.createTime),"总公司"===o.form.orgType&&(o.form.orgType=5),t=Object(c.k)(o.form)):(!0===o.form.accountStatus?o.form.accountStatus=0:o.form.accountStatus=1,t=Object(c.h)(o.form)),t.then(function(e){o.$emit("success",o.isModify),o.$message.success("保存成功"),o.formKey=Math.random(),o.reset(),i||o.closeMe(),o.popTitle="新增网点",o.loading=!1,o.$emit("update:isModify",!1)}).catch(function(e){o._handlerCatchMsg(e),o.loading=!1})})},changeDate:function(e){this.form.orgName=e.orgName,this.form.responsibleTelephone=e.responsibleTelephone,this.form.responsibleName=e.responsibleName,this.form.city=e.city,this.form.serviceName=e.serviceName,this.form.parentName=e.parentName,this.form.servicePhone=e.servicePhone,this.form.detailedAddr=e.detailedAddr,this.form.networkCode=e.networkCode,this.form.collectionFee=e.collectionFee,this.form.benchmark=e.benchmark,this.form.warningQuota=e.warningQuota,this.form.lockMachineQuota=e.lockMachineQuota,this.form.remarks=e.remarks,this.form.status=e.status,this.form.accountStatus=e.accountStatus,this.form.manageType=e.manageType,this.form.createTime=e.createTime,5===e.orgType?this.form.orgType="总公司":this.form.orgType=e.orgType}}}},mcg1:function(e,t,i){"use strict";var o=i("oCPT"),a=i("7sm4");var s=function(e){i("Q9eS")},r=i("VU/8")(o.a,a.a,s,null,null);t.a=r.exports},mnVu:function(e,t,i){var r=i("kM2E"),o=i("52gC"),l=i("S82l"),n=i("hyta"),a="["+n+"]",s=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),d=function(e,t,i){var o={},a=l(function(){return!!n[e]()||"​"!="​"[e]()}),s=o[e]=a?t(m):n[e];i&&(o[i]=s),r(r.P+r.F*a,"String",o)},m=d.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},oCPT:function(e,t,i){"use strict";var o=i("//Fk"),s=i.n(o),a=i("gBtx"),r=i.n(a),l=i("fZjL"),n=i.n(l),c=i("t5DY"),d=i("/OH/"),m=i("UZPH");t.a={name:"vregion",components:{"v-dropdown":d.a},props:{blank:{type:Boolean,default:!0},province:{type:Boolean,default:!0},city:{type:Boolean,default:!0},area:{type:Boolean,default:!0},town:{type:Boolean,default:!1},i18n:{type:String,default:"cn"},selected:Object,ui:{type:Boolean,default:!1},search:{type:Boolean,default:!0},text:{type:Boolean,default:!1},ifAera:{type:Boolean,default:!1}},data:function(){return{listProvince:[],listCity:[],listArea:[],listTown:[],nowProvince:"",nowCity:"",nowArea:"",nowTown:"",haveCity:!0,className:"",lang:{},init:this.selected,pauseWatch:!1,query:"",levels:[{index:0,title:"省/直辖市"},{index:1,title:"市"},{index:2,title:"区/县"},{index:3,title:"乡/镇/街道"}],levelIndex:-1,list:[],itemProvince:null,itemCity:null,itemArea:null,itemTown:null}},watch:{query:function(t){var e=this.getList(this.levelIndex),i=[];0===(i=e.filter(function(e){return e.value.toLowerCase().includes(t.toLowerCase())})).length&&(i=e.filter(function(e){return e.key.includes(t)})),this.list=i},nowProvince:function(i){var o=this;this.pauseWatch||this.city&&this.fetchCity(i,"city").then(function(e){if(e.code===o.nowProvince){var t=e.data;o.listArea.length&&o.listArea.splice(0,o.listArea.length),o.listCity=t,o.nowCity="",o.haveCity||(o.nowArea=""),o.itemProvince=o.listProvince.find(function(e){return e.key===i}),o.haveCity=!!o.listCity.length,o.$nextTick(function(){!o.haveCity&&o.area?o.changeCity():o.initSelected(2),o.ui&&(o.levelIndex=o.haveCity?1:2)}),o.changeValues()}})},nowCity:function(t){this.pauseWatch||(this.changeCity(),this.itemCity=this.listCity.find(function(e){return e.key===t}),this.ui&&(this.levelIndex=2),this.changeValues())},nowArea:function(t){if(!this.pauseWatch){if(t&&this.town){var e=[];this.listTown=e}else this.listTown=[];this.town&&(this.nowTown=""),console.log("nowArea:",t,this.listArea),this.itemArea=this.listArea.find(function(e){return e.key===t}),this.initSelected(4),this.ui&&this.town&&(this.levelIndex=3),this.changeValues()}},nowTown:function(t){this.pauseWatch||(this.itemTown=this.listTown.find(function(e){return e.key===t}),this.changeValues())},selected:{handler:function(e){e&&n()(e).length&&(this.init=e,this.initSelected(1))},deep:!0},levelIndex:function(e){this.list=this.getList(e)}},methods:{hidedropdown:function(e){this.showDropdown(!1),this.$emit("hidedropdown",e)},changeCity:function(){var i=this;if(this.area||!this.haveCity&&this.province){if(this.haveCity&&!this.nowCity||!this.haveCity&&!this.nowProvince)console.log("2222222222:",this.haveCity,this.nowProvince,this.nowCity),this.listArea=[];else{var e=r()(this.haveCity?this.nowCity:this.nowProvince),o=this.haveCity;this.fetchCity(e).then(function(e){var t=e.data;if(o){if(i.nowCity!==e.code)return}else if(i.nowProvince!==e.code)return;i.listArea=t,console.log("333333333:",i.haveCity,i.nowProvince,i.nowCity,o,e.code,t),t.length&&(i.list=i.getList(2),i.initSelected(3))})}this.nowArea=""}else this.initSelected(3)},changeValues:function(){var e=this;this.$nextTick(function(){e.$emit("values",{province:e.itemProvince,city:e.itemCity,area:e.itemArea,town:e.itemTown})})},initSelected:function(e){var t=this,i=this.init,o=0;if(i&&n()(i).length){switch(e){case 1:t.province&&i.province&&(t.nowProvince=i.province);break;case 2:t.city&&i.city&&(t.nowCity=i.city);break;case 3:t.area&&i.area&&(t.nowArea=i.area);break;case 4:t.town&&i.town&&(t.nowTown=i.town)}t.province&&i.province&&o++,t.city&&(i.city||!i.city&&!t.haveCity&&t.area&&i.area)&&o++,t.area&&i.area&&o++,t.town&&i.town&&o++,e===o&&(this.init=null)}},getList:function(e){var t=[];switch(e){case 0:t=this.listProvince;break;case 1:t=this.listCity;break;case 2:t=this.listArea;break;case 3:t=this.listTown}return t},checkAvailable:function(e){var t=!1;switch(e){case 0:this.province&&(t=!0);break;case 1:this.city&&this.haveCity&&(t=!0);break;case 2:this.area&&(t=!0);break;case 3:this.town&&(t=!0)}return t},matchItem:function(e){return e.key===this.nowProvince||e.key===this.nowCity||e.key===this.nowArea||e.key===this.nowTown},itemSelect:function(e){switch(console.log("223434343",e),this.levelIndex){case 0:this.nowProvince=e.key,this.itemProvince=e,console.log("111111",e);break;case 1:this.nowCity=e.key,this.itemCity=e;break;case 2:this.nowArea=e.key,this.itemArea=e;break;case 3:this.nowTown=e.key,this.itemTown=e}},showDropdown:function(e){var t=this;if(console.log(e),"boolean"==typeof e){var i=this;this.$refs.dropdown.$emit("show",e,this.$refs.caller);var o=!1;!1===e&&this.ifAera&&(["北京","天津","重庆","上海","香港","澳门","台湾"].forEach(function(e){0===t.itemProvince.name.indexOf(e)&&(o=!0)}),null==this.itemCity&&!1===o&&this.$emit("testCity")),e&&(this.query="",this.$nextTick(function(){return i.$refs.input.focus({preventScroll:!0})}))}},clear:function(){var e=this;this.pauseWatch=!0,this.nowProvince="",this.nowCity="",this.nowArea="",this.nowTown="",this.itemProvince=null,this.itemCity=null,this.itemArea=null,this.itemTown=null,this.listCity=[],this.listArea=[],this.listTown=[],this.levelIndex=0,this.$nextTick(function(){e.pauseWatch=!1,e.changeValues()})},fetchCity:function(){var i=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=arguments[1];return new s.a(function(t){if("city"===a){var e=void 0;if(11e4===o&&(e="北京"),12e4===o&&(e="天津"),31e4===o&&(e="上海"),5e5===o&&(e="重庆"),81e4===o&&(e="香港"),82e4===o&&(e="澳门"),e)return t({code:o,data:[{key:o,value:e,id:o,name:e}]})}return Object(c.e)(o).then(function(e){return e.code=e.data.pid,e.data=e.data.regionQueryList,e.data=i.formatCity(e.data),t(e),e}).catch(function(e){console.log("err:",e),t({code:o,data:[]})})})},formatCity:function(e){return e.map(function(e){return e.key=e.id,e.value=e.name,e})}},beforeMount:function(){this.lang=m.a[this.i18n]},mounted:function(){var i=this;this.fetchCity().then(function(e){console.log("fetchCity::",e);var t=e.data.filter(function(e){return e});i.listProvince=i.ui?t.concat().sort(function(e,t){var i=e.value.length-t.value.length;return 0===i?Number(e.key)-Number(t.key):i}):t.concat(),i.className=i.$el.className,i.$el.className="v-region",i.selected&&i.selected.province&&(i.nowProvince=i.selected.province),i.ui&&(i.levelIndex=0)})}}},qYK6:function(e,t,i){"use strict";t.a={props:{width:{type:String,default:"400"},title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1}},watch:{isShow:{handler:function(){this.isShow&&(this.shouldRender=!0)},immediate:!0}},data:function(){return{zIndex:(window.tmsPopZindex?window.tmsPopZindex+=1:window.tmsPopZindex=1e3,window.tmsPopZindex),shouldRender:!1}},methods:{close:function(){this.$emit("close")}}}},qrpI:function(e,t,i){i("8sHD"),e.exports=i("FeBl").Number.parseInt},"s7/i":function(e,t,i){"use strict";var o=i("T8y6"),a=i("1onU"),s=i("mcg1");t.a={components:{Pager:a.a,vregion:s.a},props:{centerDialogVisible:{type:Boolean,default:!1},isMatreg:{type:Boolean,default:!1},isComreg:{type:Boolean,default:!1},selectInfo:{type:[Array,Object],default:function(){}},belongCity:{type:[Number,String]}},data:function(){return{popTitle:"",btnsize:"mini",sizes:[20,50,100],dataset:[],dataTotal:0,pagesize:20,page:1,totalCount:null,value:"",itemIndex:null,checked:!1,optionsclaimType:[],optionsComplainatusType:[],searchCreatTime:[],value3:!0,value4:!0,options:[{value:"首页",label:"首页"},{value:"物流专线栏目",label:"物流专线栏目"},{value:"专线详情页",label:"专线详情页"}],options1:[{value:"找物流专线",label:"找物流专线"},{value:"物流专线列表",label:"物流专线列表"},{value:"右侧专线列表",label:"右侧专线列表"},{value:"此路线其他专线",label:"此路线其他专线"}],form:{},rules:{recommendColumn:[{required:!0,message:"请选择推荐栏目"}],claimPic1:[{required:!0,message:"至少上传一张图片"}]},formAllData:{pageSize:100,currentPage:1,belongCityName:"",parkName:"",locationProvince:"",locationCity:"",locationArea:""}}},watch:{centerDialogVisible:{handler:function(e,t){this.$refs.ruleForm&&this.$refs.ruleForm.resetFields(),e&&(this.popTitle="选择所在园区",this.fetchInfo())},deep:!0}},computed:{isShow:{get:function(){return this.centerDialogVisible},set:function(){}}},methods:{regionChange:function(e){console.log("data:",e),this.formAllData.belongCityName=e.province||e.city||e.area||e.town?(""+this.getValue(e.province)+this.getValue(e.city)+this.getValue(e.area)+this.getValue(e.town)).trim():"",this.formAllData.locationProvince=e.province?e.province.name:"",this.formAllData.locationCity=e.city?e.city.name:"",this.formAllData.locationArea=e.area?e.area.name:"",console.log(e.province.name)},getValue:function(e){return e?e.value:""},selectList:function(e){this.$emit("success",e),this.$emit("close")},enter:function(e,t){this.itemIndex=t},leave:function(){},reset:function(){this.$refs.ruleForm.resetFields()},closeMe:function(e){this.$emit("close"),this.reset(),"function"==typeof e&&e()},handleSearch:function(e){switch(e){case"searchForm":this.fetchInfo();break;case"clearForm":this.formAllData={parkName:""},this.fetchInfo();break;case"add":this.isVisibleDialog=!0,this.isModify=!1,this.selectedInfo={}}},fetchInfo:function(){var t=this;return Object(o.i)(this.formAllData).then(function(e){e&&(t.dataset=e.list,t.dataTotal=e.total)}).catch(function(e){t._handlerCatchMsg(e)})},handlePageChange:function(e){this.formAllData.pageSize=e.pageSize,this.formAllData.currentPage=e.pageNum,this.fetchInfo()}}}},ttFD:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("m59D"),a=i("ABFs");var s=function(e){i("LaJi")},r=i("VU/8")(o.a,a.a,s,null,null);t.default=r.exports},wO8r:function(e,t,i){"use strict";var o=i("mvHQ"),s=i.n(o),a=i("//Fk"),r=i.n(a),l=i("woOf"),n=i.n(l),c=i("Dd8w"),d=i.n(c),m=i("E4LH"),f=i("u8ra"),u=i("P5Di"),h=i("o9X6"),p=i("NYxO"),v=i("9UCZ"),b=i("pAQG");t.a={components:{popRight:u.a,SelectTree:h.a,SelectType:v.a,querySelect:b.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},userInfo:{type:Object,default:function(){}}},computed:d()({},Object(p.mapGetters)(["otherinfo"])),data:function(){return{querykey:"11",form:{name:"",mobilephone:"",username:"",password:"123456",position:"",sexFlag:"",orgid:"",rolesId:[],departmentId:""},formLabelWidth:"80px",tooltip:!1,rules:{name:[{required:!0,message:"请输入用户姓名"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"change"}],mobilephone:[{required:!0,trigger:"change",validator:function(e,t,i){""!==t&&null!==t&&t&&void 0!==t?m.a.MOBILE.test(t)?i():i(new Error("请输入有效的手机号码")):i(new Error("不能为空"))}}],orgid:[{required:!0,message:"请选择归属网点"}],username:[{required:!0,message:"请输入有效的登录账号",pattern:m.a.USERNAME_NOUP},{max:30,message:"不能超过30个字符",trigger:"change"}],position:[{max:10,message:"不能超过10个字符",trigger:"blur"}]},popTitle:"新增员工",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,query:"",roleslist:[]}},mounted:function(){this.form.orgid=this.orgid,console.log("orgid2222::::::",this.orgid)},watch:{popVisible:function(e,t){this.initInfo()},orgid:function(e){console.log("orgid::::::",e),this.form.orgid=e},userInfo:function(){var e=this;if(this.isModify){this.popTitle="修改员工";n()({},this.userInfo);for(var t in this.form)this.form[t]=this.userInfo[t];this.form.rolesId="0"===this.userInfo.rolesId?[]:this.userInfo.rolesIdList,this.form.password=""}else{for(var i in this.popTitle="新增员工",this.form)this.form[i]="password"===i?"123456":"rolesId"===i?[]:"";this.$nextTick(function(){console.log("orgid333333",e.orgid),e.form.orgid=e.orgid})}},"form.username":function(e){e&&this.$refs.ruleForm.validate(function(e){})},"form.password":function(e){e&&this.$refs.ruleForm.validate(function(e){})}},methods:{highLight:function(e,t){return""!==this.query?this.setHightLight(e[t],this.query):e[t]},setHightLight:function(e,t){return e.replace(new RegExp(t,"igm"),'<i class="highlight">'+t+"</i>")},makefilter:function(e){this.query=e;var t=new RegExp(e,"i");this.roleslist=this.roles.filter(function(e){return t.test(e.roleName)})},initInfo:function(){var t=this;return this.loading=!0,r.a.all([Object(f.e)(this.otherinfo.companyId),Object(f.f)(this.otherinfo.companyId)]).then(function(e){t.loading=!1,t.roles=e[0].list,t.roleslist=t.roles,t.departments=e[1]}).catch(function(e){t.$message.error("错误1："+(e.text||e.errInfo||e.data||s()(e))),t.loading=!1,t.inited=!1})},getOrgid:function(e){this.form.orgid=e},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),console.log("id",e,this.form.orgid),this.form.orgid=e},submitForm:function(e,o){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.loading=!0;var t=n()({},a.form),i=void 0;t.rolesId=t.rolesId.join(","),a.isModify?(t.id=a.userInfo.id,i=Object(f.k)(t)):i=Object(f.j)(t),i.then(function(e){a.loading=!1,a.$message({type:"success",message:"保存成功!"}),a.reset(),o||a.closeMe(),a.$emit("success")}).catch(function(e){a.$message.error("错误2："+(e.text||e.errInfo||e.data||s()(e))),a.loading=!1})})},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},whtI:function(e,t){},xoQy:function(e,t,i){"use strict";t.a={name:"v-dropdown",props:{position:{type:String,default:"left"}},data:function(){return{show:!1,styleSheet:{top:"",left:""}}},watch:{},methods:{visible:function(e,t){if("boolean"==typeof e){this.show=e;var i=this;this.$nextTick(function(){i.show&&i.adjust(t)})}},adjust:function(e){var t=e.getBoundingClientRect(),i=0,o=0,a=this.$el.getBoundingClientRect(),s=window.scrollY,r=document.body.clientHeight;if(this.rightClick){var l=this.y;this.y+a.height>s+r&&(l=this.y-a.height),o=this.x,i=l}else switch(i=t.top+t.height+5+s,this.position){case"left":o=t.left;break;case"center":o=t.left+t.width/2-a.width/2;break;case"right":o=t.left+t.width-a.width}this.styleSheet.top=i+"px",this.styleSheet.left=o+"px"},whole:function(e){this.show&&(-1===e.path.findIndex(function(e){return e.className&&e.className.includes("v-dropdown-container")})&&(this.show=!1,this.$emit("hidedropdown",!0)))}},mounted:function(){this.$on("show",this.visible),document.addEventListener("mousedown",this.whole)},destroyed:function(){this.$off("show",this.visible),document.removeEventListener("mousedown",this.whole)}}},yyJD:function(e,t,i){"use strict";var o={render:function(){var o=this,e=o.$createElement,a=o._self._c||e;return a("div",{staticClass:"dep-maintain"},[a("PopFrame",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}],staticClass:"addpopDepMain",attrs:{title:o.popTitle,isShow:o.popVisible},on:{close:o.closeMe}},[a("template",{staticClass:"addRelationPop-content",slot:"content"},[a("div",{ref:"ruleForm",staticClass:"depmain-div"},[o.showDate?a("div",{staticClass:"depmain-content"},[a("ul",o._l(o.getMentInfo,function(e){return a("li",{key:e.dictName},[a("span",[o._v(o._s(e.dictName))])])}))]):o._e(),o._v(" "),o.hiddenAdd?a("div",{staticClass:"depmain-add"},[a("div",{staticClass:"add-fixed"},[a("el-input",{ref:"svginput",model:{value:o.dictName,callback:function(e){o.dictName=e},expression:"dictName"}}),o._v(" "),a("div",{staticClass:"addSvg"},[a("span",{staticClass:"svgSpan",on:{click:o.addDep}},[a("icon-svg",{staticClass:"lll-dot-true",attrs:{"icon-class":"lll-dot-true"}})],1),o._v(" "),a("span",{staticClass:"svgSpan",on:{click:o.closeMe}},[a("icon-svg",{staticClass:"lll-dot-false",attrs:{"icon-class":"lll-dot-false"}})],1)])],1),o._v(" "),a("div",{staticClass:"depmain-list"},[a("ul",o._l(o.getMentInfo,function(e){return a("li",{key:e.dictName},[a("span",[o._v(o._s(e.dictName))])])}))])]):o._e(),o._v(" "),o.hiddenEdit?a("div",{staticClass:"depmain-edit"},[a("div",{staticClass:"depmain-list"},[a("ul",{key:o.theulkey},o._l(o.getMentInfo,function(t,i){return a("li",{key:i,class:{showcurrent:i===o.currentIndex},on:{click:function(e){o.currentIndex=i}}},[o._o(a("span",{staticClass:"firstName"},[o._v(o._s(t.dictName))]),0,i),o._v(" "),a("div",{staticClass:"edit-hidden"},[a("el-input",{ref:"svginputEdit",refInFor:!0,model:{value:t.dictName,callback:function(e){o.$set(t,"dictName",e)},expression:"item.dictName"}}),o._v(" "),a("div",{staticClass:"addSvg"},[a("span",{staticClass:"svgSpan1",on:{click:function(e){o.editDep(t)}}},[a("icon-svg",{staticClass:"lll-dot-true",attrs:{"icon-class":"lll-dot-true"}})],1),o._v(" "),a("span",{staticClass:"svgSpan2",on:{click:function(e){o.delDep(t)}}},[a("icon-svg",{staticClass:"lll-dot-false",attrs:{"icon-class":"lll-dot-false"}})],1)])],1)])}))])]):o._e()])]),o._v(" "),o.showBotton?a("div",{staticClass:"dialog-footer-frame",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){o.submitForm("ruleForm")}}},[o._v(o._s(o.addText))]),o._v(" "),a("el-button",{on:{click:o.editMe}},[o._v(o._s(o.editText))])],1):o._e(),o._v(" "),o.remBotton?a("div",{staticClass:"dialog-footer-frame",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:o.closeMe}},[o._v(o._s(o.remText))])],1):o._e(),o._v(" "),a("div",{staticClass:"dialog-footer-frame",attrs:{slot:"footer"},slot:"footer"},[a("span")])],2)],1)},staticRenderFns:[]};t.a=o},z6yh:function(e,t){}});