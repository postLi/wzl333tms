webpackJsonp([190],{"/n+A":function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"popRight-center",class:{showPopRight:e.isShow},style:{zIndex:e.zIndex}},[i("div",{staticClass:"popRight-header"},[e._t("title",[e._v(e._s(e.title))]),e._v(" "),i("i",{staticClass:"el-icon-close",attrs:{title:"关闭"},on:{click:e.close}})],2),e._v(" "),i("div",{staticClass:"popRight-content"},[e._t("content",[e._v("内容")])],2),e._v(" "),i("div",{staticClass:"popRight-footer"},[e._t("footer",[e._v("底部")])],2)])},staticRenderFns:[]};t.a=n},"3EPC":function(e,t,i){"use strict";var n=i("qYK6"),o=i("/n+A");var s=function(e){i("cqPr")},a=i("VU/8")(n.a,o.a,s,null,null);t.a=a.exports},"7Vgb":function(e,t,i){"use strict";var n=i("woOf"),o=i.n(n),s=i("Dd8w"),a=i.n(s),r=(i("E4LH"),i("3EPC")),c=i("pAQG"),l=i("ayAl"),d=i("o9X6"),u=i("NYxO");t.a={components:{PopFrame:r.a,querySelect:c.a,SelectTree:d.a},props:{popVisible:{type:Boolean,default:!1},isDepMain:{type:Boolean,default:!1},dotInfo:{type:[Object,Boolean],default:!1},createrId:[Number,String]},data:function(){return{activeName:"first",isSecond:!1,selectdCheck:!0,btnsize:"mini",selected:[],selectedSys:[],rules:{},formLabelWidth:"100",usersArr:[{num:10,date:"车型"},{num:10,date:"车型"},{num:10,date:"车型"},{num:10,date:"车型"}],checked1:!0,popTitle:"参数设置",loading:!1,formInline:{},infoGetSystemList:{sign:1,orgid:""},infoGetDefinedList:{sign:2,orgid:""},systemList:[],definedList:[]}},computed:a()({},Object(u.b)(["otherinfo"]),{isShow:{get:function(){return this.popVisible},set:function(){}}}),watch:{dotInfo:function(e){},popVisible:function(e){this.infoGetSystemList.orgid=this.otherinfo.orgid,this.infoGetDefinedList.orgid=this.otherinfo.orgid,this.fetchGetIntnteCarInfo(),this.fetchGetIntnteCarDefinedInfo()}},mounted:function(){this.popVisible},methods:{doAction:function(e){switch(e){case"addCar":this.addTruck();break;case"subCar":this.subTruck()}},addTruck:function(){var t=this;if(this.definedList&&4<this.definedList.length)this.$message({message:"自定义车型不能超过5种~",type:"warning"});else{Object(l.h)({name:"自定义车型",weight:0,vol:0}).then(function(e){t.fetchData(),t.$message.success("添加车型成功！")}).catch(function(e){t._handlerCatchMsg(e)})}},subTruck:function(){var t=this;1!==this.selected.length?this.$message({message:"请选择一项来进行操作",type:"warning"}):this.selected[0].cid?Object(l.a)(this.selected[0].cid).then(function(e){t.loading=!1,t.$message({message:"删除成功~",type:"success"}),t.fetchData()}):this.definedList=this.definedList.filter(function(e){return-1===t.selected.indexOf(e)})},fetchGetIntnteCarInfo:function(){var t=this;return this.loading=!0,Object(l.c)(this.infoGetSystemList.orgid,this.infoGetSystemList.sign).then(function(e){t.systemList=e,t.loading=!1})},fetchGetIntnteCarDefinedInfo:function(){var t=this;return this.loading=!0,Object(l.c)(this.infoGetDefinedList.orgid,this.infoGetDefinedList.sign).then(function(e){t.definedList=e,t.loading=!1})},changeFright:function(e,t,i){this.definedList[e][t]=Number(i);var n=this.definedList[e].name,o=this.definedList[e].weight,s=this.definedList[e].vol,a=this.definedList[e].price;0===n||0===o||0===s||0===a?(this.definedList[e].num=n,this.definedList[e].weight=o,this.definedList[e].vol=s,this.definedList[e].price=a,this.$notify({title:"提示",message:"车费不能为0",type:"warning"})):n<0?this.$notify({title:"提示",message:"车费不能小于0,默认为初始值",type:"warning"}):(this.definedList[e].name,this.definedList[e].weight,this.definedList[e].vol,this.definedList[e].price)},fetchData:function(){this.fetchGetIntnteCarDefinedInfo()},closeMe:function(e){this.reset(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()},reset:function(){this.formInline=o()({},this.formInline),this.formInline.shipSn="",this.formInline.shipGoodsSn="",this.formInline.pickupFee=""},submitForm:function(){var i=this;this.selected&&0<this.selected.length||this.selectedSys&&0<this.selectedSys.length?Object(l.m)(this.selected[0]).then(function(e){i.closeMe(),i.$message.success("操作成功,只能修改打勾选择的第一项！");var t=[];i.selectedSys.forEach(function(e){t.push(e)}),i.selected.forEach(function(e){t.push(e)}),i.$emit("savaParamTruck",t)}).catch(function(e){i._handlerCatchMsg(e)}):this.$message.warning("请选择要操作的项~")},clickDetail:function(e,t,i){this.$refs.multipleTable1.toggleRowSelection(e)},clickDetails:function(e,t,i){this.$refs.multipleTable.toggleRowSelection(e)},getSelectionSys:function(e){this.selectedSys=e},getSelection:function(e){this.definedList.forEach(function(e){e.selectdCheck=!0}),e&&(this.selected=e,this.selected.forEach(function(e){e.selectdCheck=!1}))},handleClick:function(e,t){"second"===this.activeName?this.isSecond=!0:this.isSecond=!1}}}},"E+tz":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7Vgb"),o=i("ggsc");var s=function(e){i("pGs6")},a=i("VU/8")(n.a,o.a,s,null,null);t.default=a.exports},ayAl:function(e,t,i){"use strict";t.i=function(e){return n.b.post("/api-order/order/load/v1/selectLoadMainInfoList",e).then(function(e){return e.data||{}})},t.l=function(e,t){return n.b.put("/api-order/order/load/v1/loadDepart?loadIds="+e+"&loadTypeId="+t)},t.k=function(e,t){return n.b.put("/api-order/order/load/v1/cancelLoadTruck?loadIds="+e+"&loadTypeId="+t)},t.j=function(e,t){return n.b.put("/api-order/order/load/v1/cancelLoadDepart/?loadIds="+e+"&loadTypeId="+t)},t.f=function(e){return n.b.get("/api-order/order/load/v1/contract/"+e)},t.b=function(e){return n.b.put("/api-order/order/load/v1/contract",e)},t.e=function(e){return n.b.get("/api-order/aitransport/tmsstandardcar/v1/",e).then(function(e){return e.data})},t.d=function(e){return n.b.post("/api-order/aitransport/intelligen/v1/init",e).then(function(e){return e.data})},t.g=function(e){return n.b.post("/api-order/order/load/v1/smartLoad",e)},t.c=function(e,t){return n.b.get("/api-order/aitransport/pzcarinfotms/v1/getCarInfo/?orgid="+e+"&sign="+t).then(function(e){return e.data})},t.h=function(e){return n.b.post("/api-order/aitransport/pzcarinfotms/v1/",e)},t.m=function(e){return n.b.put("/api-order/aitransport/pzcarinfotms/v1/",e)},t.a=function(e){return n.b.delete("/api-order/aitransport/pzcarinfotms/v1/"+e)};var n=i("Vo7i")},cqPr:function(e,t){},ggsc:function(e,t,i){"use strict";var n={render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"lntelligentPset-maintain"},[n("el-dialog",{staticClass:"pickpopDepMain",attrs:{icon:"el-icon-edit-outline",title:i.popTitle,isShow:i.popVisible,"close-on-click-modal":!1,"before-close":i.closeMe,visible:i.isShow},on:{"update:visible":function(e){i.isShow=e}}},[n("div",{staticClass:"depmain-div"},[i.isSecond?n("div",{staticClass:"carDiv"},[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(e){i.doAction("addCar")}}}),i._v(" "),n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(e){i.doAction("subCar")}}})],1):i._e(),i._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:i.loading,expression:"loading"}],staticClass:"tabsDiv"},[n("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":i.handleClick},model:{value:i.activeName,callback:function(e){i.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{name:"first"}},[n("span",{attrs:{slot:"label"},slot:"label"},[i._v(" 系统车型")]),i._v(" "),n("el-table",{ref:"multipleTable1",staticClass:"tableIntelligent",staticStyle:{width:"450px"},attrs:{data:i.systemList,stripe:"",border:"",height:"200","tooltip-effect":"dark"},on:{"row-click":i.clickDetail,"selection-change":i.getSelectionSys}},[n("el-table-column",{attrs:{type:"selection",width:"35"}}),i._v(" "),n("el-table-column",{attrs:{prop:"name",label:"车型"}}),i._v(" "),n("el-table-column",{attrs:{prop:"weight",width:"90",label:"承载重"}}),i._v(" "),n("el-table-column",{attrs:{prop:"vol",width:"90",label:"承载方"}}),i._v(" "),n("el-table-column",{attrs:{prop:"price",width:"90",label:"车费"}})],1)],1),i._v(" "),n("el-tab-pane",{attrs:{label:"自定义车型",name:"second"}},[n("div",{staticClass:"tableIntelligentPSet"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"450px"},attrs:{data:i.definedList,stripe:"",border:"",height:"206","tooltip-effect":"dark"},on:{"row-click":i.clickDetails,"selection-change":i.getSelection}},[n("el-table-column",{attrs:{type:"selection",width:"35"}}),i._v(" "),n("el-table-column",{attrs:{prop:"name",label:"车型"},scopedSlots:i._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"车型",size:i.btnsize,disabled:t.row.selectdCheck,maxlength:8},on:{change:function(e){return i.changeFright(t.$index,t.prop,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:t.row.name,callback:function(e){i.$set(t.row,"name",i._n(e))},expression:"scope.row.name"}})]}}])}),i._v(" "),n("el-table-column",{attrs:{prop:"weight",width:"90",label:"承载重"},scopedSlots:i._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"承载重",size:i.btnsize,disabled:t.row.selectdCheck,maxlength:8},on:{change:function(e){return i.changeFright(t.$index,t.prop,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:t.row.weight,callback:function(e){i.$set(t.row,"weight",i._n(e))},expression:"scope.row.weight"}})]}}])}),i._v(" "),n("el-table-column",{attrs:{prop:"vol",width:"90",label:"承载方"},scopedSlots:i._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"承载方",size:i.btnsize,disabled:t.row.selectdCheck,maxlength:8},on:{change:function(e){return i.changeFright(t.$index,t.prop,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:t.row.vol,callback:function(e){i.$set(t.row,"vol",i._n(e))},expression:"scope.row.vol"}})]}}])}),i._v(" "),n("el-table-column",{attrs:{prop:"price",width:"90",label:"车费"},scopedSlots:i._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],attrs:{placeholder:"车费",size:i.btnsize,disabled:t.row.selectdCheck,maxlength:8},on:{change:function(e){return i.changeFright(t.$index,t.prop,e)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:t.row.price,callback:function(e){i.$set(t.row,"price",i._n(e))},expression:"scope.row.price"}})]}}])})],1)],1)])],1)],1),i._v(" "),n("p",[i._v("注：请填写车费，保证单车毛利的准确性。")])]),i._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){i.submitForm("formName")}}},[i._v("确 定")]),i._v(" "),n("el-button",{on:{click:i.closeMe}},[i._v("取 消")])],1)])],1)},staticRenderFns:[]};t.a=n},pGs6:function(e,t){},qYK6:function(e,t,i){"use strict";t.a={props:{width:{type:String,default:"400"},title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1}},data:function(){return{zIndex:(window.tmsPopZindex?window.tmsPopZindex+=1:window.tmsPopZindex=1e3,window.tmsPopZindex)}},methods:{close:function(){this.$emit("close")}}}}});