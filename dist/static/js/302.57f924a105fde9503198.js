webpackJsonp([302],{"++fd":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("6fVI"),i=s("eE4v"),o=s("VU/8")(n.a,i.a,null,null,null);e.default=o.exports},"6fVI":function(t,e,s){"use strict";var n=s("l1TW");e.a={props:{popVisible:{type:Boolean,default:!1}},data:function(){return{popTitle:"定制专属签名",loading:!0,isEdit:!1,formModel:{id:"",modifySign:"",companyId:""},rules:{modifySign:[{required:!0,message:"不能为空",trigger:"change"}]},isShow:!1}},watch:{popVisible:function(t){(this.isShow=t)&&this.postSmsSign()}},methods:{postSmsSign:function(){var e=this;Object(n.i)(this.otherinfo.orgid).then(function(t){t&&(e.formModel.modifySign=t.data.modifySign,e.formModel.id=t.data.id,e.isEdit=1===t.data.modifyCount&&"审核不通过"!==t.data.applyStatusZh)}).catch(function(t){e._handlerCatchMsg(t)})},closeMe:function(t){this.$emit("close"),"function"==typeof t&&t()},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.formModel.companyId=e.otherinfo.companyId,Object(n.a)(e.formModel).then(function(t){e.$message.success("添加专属签名成功！"),e.$emit("success"),e.closeMe()}))})}}}},eE4v:function(t,e,s){"use strict";var n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tms_dialog tms_dialog_alignleft",attrs:{title:e.popTitle,visible:e.isShow,"close-on-click-modal":!1,"before-close":e.closeMe,width:"500px"},on:{"update:visible":function(t){e.isShow=t}}},[s("el-form",{ref:"formModel",attrs:{model:e.formModel,rules:e.rules}},[s("el-form-item",{attrs:{prop:"modifySign"}},[s("el-input",{attrs:{placeholder:"请输入短信前缀",disabled:e.isEdit,maxlength:25,minlength:1},model:{value:e.formModel.modifySign,callback:function(t){e.$set(e.formModel,"modifySign",t)},expression:"formModel.modifySign"}})],1),e._v(" "),s("p",[s("b",[e._v("系统默认前缀为公司名称：")]),s("br"),s("br"),s("el-tag",{attrs:{size:"mini"}},[e._v("例如")]),e._v(" 【公司名称】您在某某网点托运的5件电脑，已成功受理，运单号：123445554.")],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[e.isEdit?e._e():s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("formModel")}}},[e._v("确 定")]),e._v(" "),s("el-button",{on:{click:e.closeMe}},[e._v("取 消")])],1)],1)},staticRenderFns:[]};e.a=n},l1TW:function(t,e,s){"use strict";e.d=function(){return n.b.get("/api-plugin/system/tmssystemsmspackages/v1/all/").then(function(t){return t.data||{}})},e.b=function(t){return n.b.get("/api-plugin/system/tmssystemsmssummary/v1/searchSmsSurplus/",t).then(function(t){return t.data})},e.e=function(t){return n.b.post("/api-plugin/system/tmssystemsmssummary/v1/buy/",{packageId:t}).then(function(t){return t.data})},e.k=function(t){return n.b.post("/api-plugin/system/tmssystemsmstemplatelog/v1.1/getSmsTemplateLogList/",t).then(function(t){return t.data||{}})},e.a=function(t){return n.b.post("/api-plugin/system/tmssystemsmssign/v1.1/updateSmsSign/",t).then(function(t){return t.data||{}})},e.i=function(t){return n.b.post("/api-plugin/system/tmssystemsmssign/v1.1/getSmsSign/",{orgId:t}).then(function(t){return t})},e.m=function(t){return n.b.post("/api-plugin/system/tmssystemsmstemplatelog/v1.1/udpateSmsTemplateLogStatus/",t).then(function(t){return t.data})},e.g=function(t){return n.b.post("/api-plugin/system/tmssystemsmssendlog/v1.1/getSmsSendLogList/",t).then(function(t){return t.data})},e.h=function(t){return n.b.post("/api-plugin/system/tmssystemsmssetcolumns/v1.1/getSmsSetColumnsList/",t).then(function(t){return t.data})},e.f=function(t){return n.b.post("/api-plugin/system/tmssystemsmstemplate/v1.1/getDefaultSmsTemplate/",t).then(function(t){return t.data})},e.j=function(t){return n.b.post("/api-plugin/system/tmssystemsmstemplatelog/v1.1/getSmsTemplateLog/",t).then(function(t){return t.data})},e.l=function(t){return n.b.post("/api-plugin/system/tmssystemsmstemplatelog/v1.1/udpateSmsTemplateLog/",t).then(function(t){return t.data})},e.c=function(t){return n.b.post("/api-plugin/system/tmssystemsmssign/v1.1/getSmsDocText/",{orgId:t}).then(function(t){return t.data})};var n=s("Vo7i")}});
//# sourceMappingURL=302.57f924a105fde9503198.js.map