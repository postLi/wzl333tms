webpackJsonp([13,127,142,240,289,290],{"+Noo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Fj2W"),r=a("ecFV");var n=function(e){a("tLv/")},i=a("VU/8")(o.a,r.a,n,null,null);t.default=i.exports},"/bIW":function(e,t,a){"use strict";var o=a("woOf"),n=a.n(o),r=(a("t5DY"),a("0xDb")),i=a("E4LH"),l=a("7nIZ");t.a={props:{popVisible:{type:Boolean,default:!1},orgId:{type:[String,Number],default:""},info:{type:[Object,Array],default:function(){return[]}},btnLoading:{type:Boolean,default:!1}},watch:{popVisible:{handler:function(e,t){e&&this.init()},immediate:!0},info:{handler:function(e,t){console.log("voucher info-table::",e,t)},deep:!0},btnLoading:{handler:function(e,t){},deep:!0},fiOrderType:{handler:function(e,t){},deep:!0}},computed:{isShow:{get:function(){return this.popVisible},set:function(){}},feeId:function(){var t=[];return this.info.orderList.forEach(function(e){t=t.concat(e.feeIdStr.split(",")),console.log("ids arr",t,e.feeIdStr)}),this.uniqueArray(t).join(",")}},data:function(){var e=function(e,t,a){i.a.ENGLISH_AND_NUMBER.test(t)||""===t?a():a(new Error("只可以输入阿拉伯数字和字母, 最多可输入25位"))};return{dialogTitle:"核销凭证",loading:!1,btnsize:"mini",baseQuery:{orgId:"",amount:0,feeIds:""},formModel:{verificationWay:"",paymentsType:"",amount:"",certTime:"",receiptNo:"",invoiceNo:"",checkNo:"",remark:"",subjectOneName:"",subjectOneId:"",subjectTwoName:"",subjectTwoId:"",subjectThreeName:"",subjectThreeId:"",subjectFourName:"",subjectFourId:""},rules:{verificationId:[{required:!0,message:"请填写记账方向!",trigger:"blur"}],subjectOneId:[{required:!0,message:"请填写一级科目!",trigger:"blur"}],receiptNo:[{validator:e,trigger:"blur"}],invoiceNo:[{validator:e,trigger:"blur"}],checkNo:[{validator:e,trigger:"blur"}],manualCert:[{validator:e,trigger:"blur"}]},veryficationType:{},veryficationList:[],subjectOne:[],subjectTwo:[],subjectThree:[],subjectFour:[],searchQuerySub:{orgId:"",parentId:"",subjectLevel:""}}},methods:{init:function(){this.baseQuery=this.$options.data().baseQuery,this.postVerificationBaseInfo(),this.formModel.amount=this.info.amount||0},postVerificationBaseInfo:function(){var a=this;this.baseQuery.orgId=this.orgId,this.baseQuery.amount=this.info.amount,this.$set(this.baseQuery,"dataSrc",0),this.$set(this.baseQuery,"companyId",this.otherinfo.companyId),this.$set(this.baseQuery,"feeIds",this.feeId||""),console.warn("feeId",this.feeId),Object(l.j)(this.baseQuery).then(function(e){e&&(a.subjectOne=e.subOneList||[],a.subjectTwo=e.subTwoList||[],a.subjectThree=e.subThreeList||[],a.subjectFour=e.subFourList||[],a.formModel=e,a.loading=!1,e.verificationList&&(a.veryficationList=e.verificationList||[],e.verificationList.forEach(function(e,t){a.veryficationType[e.id]=e.verificationWay})))}).catch(function(e){a.loading=!1,a._handlerCatchMsg(e)})},initSubject:function(){var t=this;this.getFinanceSubjects().then(function(){if(t.formModel.subjectOneId){if(!t.checkSubject(1)){for(var e in t.formModel)/^subject/.test(e)&&(t.formModel[e]="");return}t.getFinanceSubjects(2,t.formModel.subjectOneId).then(function(){if(t.formModel.subjectTwoId){if(!t.checkSubject(2)){for(var e in t.formModel)/(Four|Three|Two)/.test(e)&&(t.formModel[e]="");return}t.getFinanceSubjects(3,t.formModel.subjectTwoId).then(function(){if(t.formModel.subjectThreeId){if(!t.checkSubject(3)){for(var e in t.formModel)/(Four|Three)/.test(e)&&(t.formModel[e]="");return}t.getFinanceSubjects(4,t.formModel.subjectThreeId).then(function(){if(t.formModel.subjectFourId&&!t.checkSubject(4))return t.formModel.subjectFourId="",void(t.formModel.subjectFourName="")})}})}})}})},checkSubject:function(e){var t=this;switch(e){case 1:if(0<this.subjectOne.length)return 0!==this.subjectOne.filter(function(e){return e.id===t.formModel.subjectOneId}).length||(this.formModel.subjectOneId="",this.formModel.subjectOneName="",!1);break;case 2:if(0<this.subjectTwo.length)return 0!==this.subjectTwo.filter(function(e){return e.id===t.formModel.subjectTwoId}).length||(this.formModel.subjectTwoId="",this.formModel.subjectTwoName="",!1);break;case 3:if(0<this.subjectThree.length)return 0!==this.subjectThree.filter(function(e){return e.id===t.formModel.subjectThreeId}).length||(this.formModel.subjectThreeId="",this.formModel.subjectThreeName="",!1);break;case 4:if(0<this.subjectFour.length)return 0!==this.subjectFour.filter(function(e){return e.id===t.formModel.subjectFourId}).length||(this.formModel.subjectFourId="",this.formModel.subjectFourName="",!1)}},checkSubjectIsNull:function(){return!(0<this.subjectTwo.length)||(this.formModel.subjectTwoId?!(0<this.subjectThree.length)||(this.formModel.subjectThreeId?!(0<this.subjectFour.length)||(!!this.formModel.subjectFourId||(this.$message.warning("请填写四级科目"),!1)):(this.$message.warning("请填写三级科目"),!1)):(this.$message.warning("请填写二级科目!"),!1))},submitForm:function(e){var a=this;this.checkSubjectIsNull()&&this.$refs[e].validate(function(e){if(e){var t=n()({},a.formModel);a.$set(t,"orderList",a.info.orderList),a.$set(t,"dataSrc",0),t.certTime||(t.certTime=new Date),a.$set(t,"certTime",Object(r.parseTime)(t.certTime,"{y}-{m}-{d}")+" 00:00:00"),delete t.verificationList,a.$emit("success",t)}})},setting:function(){this.$router.push({path:"/finance/financeInfo/subjectInfo"})},getFinanceSubjects:function(t,e){var a=this;return console.log("getFinanceSubjects 接口查询下级科目列表：\n",t,e),this.searchQuerySub.subjectLevel=t||"",this.searchQuerySub.parentId=e||"",Object(l.d)(this.searchQuerySub).then(function(e){switch(t){case 2:a.subjectTwo=e,a.subjectThree=[],a.subjectFour=[];break;case 3:a.subjectThree=e,a.subjectFour=[];break;case 4:a.subjectFour=e;break;default:a.subjectOne=e,a.subjectTwo=[],a.subjectThree=[],a.subjectFour=[]}console.log("科目: ",t,e)}).catch(function(e){a._handlerCatchMsg(e)})},selectSubject:function(t,e){console.log(t);var a={};switch(e){case 1:for(var o in a=n()({},this.subjectOne.filter(function(e){return e.id===t})[0]),this.getFinanceSubjects(2,a.id),this.formModel)/^subject/.test(o)&&(this.formModel[o]="");this.formModel.subjectOneName=a.subjectName,this.formModel.subjectOneId=a.id,console.log("科目一 选中的值",a);break;case 2:for(var r in a=n()({},this.subjectTwo.filter(function(e){return e.id===t})[0]),this.getFinanceSubjects(3,a.id),this.formModel)/(Four|Three)/.test(r)&&(this.formModel[r]="");this.formModel.subjectTwoName=a.subjectName,console.log("科目二 选中的值",a);break;case 3:a=n()({},this.subjectThree.filter(function(e){return e.id===t})[0]),this.getFinanceSubjects(4,a.id),this.formModel.subjectThreeName=a.subjectName,this.formModel.subjectFourName="",this.formModel.subjectFourId="",console.log("科目三 选中的值",a);break;case 4:a=n()({},this.subjectFour.filter(function(e){return e.id===t})[0]),this.formModel.subjectFourName=a.subjectName}a={},console.log("formModel",this.formModel)},selectVerificationWay:function(t){var e;e=this.formModel.verificationList.filter(function(e){return e.id===t})[0],this.$set(this.formModel,"verificationWay",e.verificationWay),console.log("选中方向：：",e,this.formModel)},uniqueArray:function(e){for(var t=[],a=0;a<e.length;a++)-1==t.indexOf(e[a])&&t!==e[a]&&e[a]&&t.push(e[a]);return t},closeMe:function(e){this.$emit("close"),"function"==typeof e&&e()}}}},"/lSE":function(e,t,a){"use strict";var o=a("woOf"),r=a.n(o),n=a("Dd8w"),i=a.n(n),l=(a("E4LH"),a("NYxO")),s=a("0xDb"),c=a("7nIZ"),u=a("eLgA"),h=a("Llm4"),d=a("wudX"),f=a("E+sp");t.a={name:"settleLogExpandtiure",components:{dataTable:u.default,dataTableOrder:h.default,Count:d.default,Voucher:f.a},data:function(){return{paymentsType:1,loading:!1,settlementId:"",feeInfo:"feeInfoOne",btnsize:"mini",tableKey:0,formModel:{},countTitle:"",setLoadTableList:{},isEdit:!1,activeName:"first",addIncomeInfo:{},countVisible:!1,countSuccessListBatch:[],countSuccessListShip:[],countNumBatch:0,countNumShip:0,feeName:{arrPayName:[],arrNoPayName:[],arrPayNameActual:[],arrhadPayName:[]},popVisibleDialog:!1,infoTable:{amount:0,orderList:[]},btnLoading:!1,lastorgid:"",fiOrderType:1}},computed:i()({},Object(l.mapGetters)(["otherinfo"]),{getRouteInfo:function(){return this.$route.query.orgId?this.$route.query.orgId:this.otherinfo.orgid}}),mounted:function(){console.log("financeDailyIncome:::"),this.lastorgid=this.getRouteInfo},activated:function(){var e=this;this.lastorgid?parseInt(this.lastorgid)!==parseInt(this.getRouteInfo)&&this.$confirm("是否放弃之前的操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.lastorgid=e.getRouteInfo}).catch(function(){}):this.lastorgid=this.getRouteInfo},watch:{settlementId:function(e){return e}},methods:{doAction:function(e){switch(e){case"save":this.save();break;case"cancel":this.cancel();break;case"countBatch":this.countTitle="批次",this.countVisible=!0;break;case"countShip":this.countTitle="运单",this.countVisible=!0}},save:function(){if(this.loadTable.length<1)return this.$message({type:"warning",message:"右边表格不能为空！"}),!1;this.popVisibleDialog=!0},submitVoucher:function(e){var t=this,a=r()({},e);this.$set(a,"paymentsType",this.paymentsType),this.$set(a,"orgId",this.$route.query.orgId),this.loading=!0,this.btnLoading=!0,Object(c.g)(a).then(function(e){t.popVisibleDialog=!1,t.$message.success("记支出成功！"),t.tableKey=(new Date).getTime(),t.loading=!1,t.btnLoading=!1,t.eventBus.$emit("closeCurrentView"),t.$router.push({path:"/finance/financeDaily",query:{pageKey:(new Date).getTime()}})}).catch(function(e){t.loading=!1,t.btnLoading=!1,t._handlerCatchMsg(e)})},setSettlementId:function(e){switch(this.settlementId=e,console.log("setSettlementId::::::",e),e){case 178:this.fiOrderType=0;break;case 179:this.fiOrderType=1;break;case 180:this.fiOrderType=2;break;case 181:this.fiOrderType=3}},cancel:function(){var e=this;this.$confirm("确定要取消记收入操作吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.eventBus.$emit("closeCurrentView"),e.$router.push({path:"/finance/financeDaily",query:{pageKey:(new Date).getTime()}})})},handleClick:function(){switch("second"===this.activeName?this.settlementId=178:this.settlementId=179,console.log("handleClick settlementId",this.settlementId),this.settlementId){case 178:this.fiOrderType=0;break;case 179:this.fiOrderType=1;break;case 180:this.fiOrderType=2;break;case 181:this.fiOrderType=3}},getLoadTable:function(e){var a=0;this.infoTable=this.$options.data().infoTable,this.loadTable=r()([],e),this.loadTable.forEach(function(e,t){a=e.shipFeeTotalActual?s.tmsMath._add(a,e.shipFeeTotalActual):s.tmsMath._add(a,e.loadFeeTotalActual)}),this.infoTable={amount:a,orderList:this.loadTable}},getFeeName:function(e){this.feeName=r()([],e)},getTableChange:function(e){},countSuccess:function(e){178===e.type&&(this.countSuccessListShip=r()([],e.info),this.countNumShip=e.count),179===e.type&&(this.countSuccessListBatch=r()([],e.info),this.countNumBatch=e.count)},changeFeeIdBatch:function(e){this.settlementId=e,this.setSettlementId(e)},closeDialog:function(){this.popVisibleDialog=!1}}}},"0/ke":function(e,t,a){"use strict";var o={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("transferTable",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}]},[o("div",{staticClass:"tableHeadItemForm clearfix",attrs:{slot:"tableSearch"},slot:"tableSearch"},[o("currentSearch",{attrs:{info:a.countOrgLeftTable,getSettlementId:a.settlementId},on:{change:a.getSearch,setSettlementId:a.setSettlementId}})],1),a._v(" "),o("div",{staticClass:"tableHeadItemBtn",staticStyle:{height:"100%"},attrs:{slot:"tableLeft"},slot:"tableLeft"},[o("el-button",{staticClass:"tableAllBtn",attrs:{size:"mini"},on:{click:a.addALLList}}),a._v(" "),a.showtable?o("el-table",{key:a.tablekey,ref:"multipleTableRight",attrs:{data:a.leftTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumRight,"default-sort":{prop:"id",order:"ascending"},"show-overflow-tooltip":!0,"show-summary":!0},on:{"row-click":a.clickDetailsRight,"selection-change":a.getSelectionRight,"row-dblclick":a.dclickAddItem}},[o("el-table-column",{attrs:{fixed:"",type:"index",width:"60",label:"序号"}}),a._v(" "),o("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(t){return[o("el-button",{staticClass:"tableItemBtn",attrs:{size:"mini"},on:{click:function(e){a.addItem(t.row,t.$index)}}})]}}])}),a._v(" "),o("el-table-column",{attrs:{label:"发车批次",prop:"batchNo",fixed:"",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"truckIdNumber",sortable:"",label:"车牌号",width:"100"}}),a._v(" "),o("el-table-column",{attrs:{prop:"driverName",sortable:"",label:"司机",width:"120"}}),a._v(" "),180===a.settlementId?o("el-table-column",{attrs:{prop:"shortPay",sortable:"",label:"短驳费",width:"120"}}):a._e(),a._v(" "),180===a.settlementId?o("el-table-column",{attrs:{prop:"noShortPay",sortable:"",label:"未核销短驳费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.shortPay,e.row.hadShortPay,e.row.noShortPay,e.row.noShortPay))}})]}}])}):a._e(),a._v(" "),180===a.settlementId?o("el-table-column",{attrs:{prop:"hadShortPay",sortable:"",label:"已核销短驳费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.shortPay,e.row.hadShortPay,e.row.noShortPay,e.row.hadShortPay))}})]}}])}):a._e(),a._v(" "),181===a.settlementId?o("el-table-column",{attrs:{prop:"sendPay",sortable:"",label:"送货费",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?o("el-table-column",{attrs:{prop:"noSendPay",sortable:"",label:"未核销送货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.sendPay,e.row.hadSendPay,e.row.noSendPay,e.row.noSendPay))}})]}}])}):a._e(),a._v(" "),181===a.settlementId?o("el-table-column",{attrs:{prop:"hadSendPay",sortable:"",label:"已核销送货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.sendPay,e.row.hadSendPay,e.row.noSendPay,e.row.hadSendPay))}})]}}])}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"departTotal",sortable:"",label:"发车汇总",width:"100"}}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"noDepartTotal",sortable:"",label:"未核销发车汇总",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.departTotal,e.row.hadDepartTotal,e.row.noDepartTotal,e.row.noDepartTotal))}})]}}])}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"hadDepartTotal",sortable:"",label:"已核销发车汇总",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.departTotal,e.row.hadDepartTotal,e.row.noDepartTotal,e.row.hadDepartTotal))}})]}}])}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"arriveTotal",sortable:"",label:"到车汇总",width:"100"}}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"noArriveTotal",sortable:"",label:"未核销到车汇总",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.arriveTotal,e.row.hadArriveTotal,e.row.noArriveTotal,e.row.noArriveTotal))}})]}}])}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"hadArriveTotal",sortable:"",label:"已核销到车汇总",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.arriveTotal,e.row.hadArriveTotal,e.row.noArriveTotal,e.row.hadArriveTotal))}})]}}])}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"operationPay",sortable:"",label:"操作费",width:"120"}}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"noOperationPay",sortable:"",label:"未核销操作费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.operationPay,e.row.hadOperationPay,e.row.noOperationPay,e.row.noOperationPay))}})]}}])}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"hadOperationPay",sortable:"",label:"已核销操作费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.operationPay,e.row.hadOperationPay,e.row.noOperationPay,e.row.hadOperationPay))}})]}}])}):a._e(),a._v(" "),181===a.settlementId?o("el-table-column",{attrs:{prop:"departureTime",sortable:"",label:"送货时间",width:"160"}}):a._e(),a._v(" "),181===a.settlementId?o("el-table-column",{attrs:{prop:"requireArrivedTime",sortable:"",label:"到达时间",width:"160"}}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"departureTime",sortable:"",label:"发车时间",width:"160"}}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"receivingTime",sortable:"",label:"到车时间",width:"160"}}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"orgName",sortable:"",label:"发车网点",width:"120"}}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"arriveOrgName",sortable:"",label:"到车网点",width:"120"}}):a._e(),a._v(" "),o("el-table-column",{attrs:{prop:"remark",sortable:"",label:"备注"}})],1):a._e()],1),a._v(" "),o("div",{staticClass:"tableHeadItemBtn",attrs:{slot:"tableRight"},slot:"tableRight"},[o("el-button",{staticClass:"tableAllBtnMinus",attrs:{size:"mini"},on:{click:a.minusAllList}}),a._v(" "),a.showtable?o("el-table",{key:a.tablekeyRight,ref:"multipleTableLeft",staticStyle:{height:"100%"},attrs:{data:a.rightTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumLeft,"default-sort":{prop:"id",order:"ascending"},"show-summary":!0},on:{"row-dblclick":a.dclickMinusItem,"row-click":a.clickDetailsLeft,"selection-change":a.getSelectionLeft}},[o("el-table-column",{attrs:{fixed:"",type:"index",width:"60",label:"序号"}}),a._v(" "),o("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(t){return[o("el-button",{staticClass:"tableItemBtnMinus",attrs:{size:"mini"},on:{click:function(e){a.minusItem(t.row,t.$index)}}})]}}])}),a._v(" "),o("el-table-column",{attrs:{label:"发车批次",fixed:"",prop:"batchNo",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"truckIdNumber",sortable:"",label:"车牌号",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"driverName",sortable:"",label:"司机",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"loadFeeTotalActual",sortable:"",label:"实际合计",width:"120"}}),a._v(" "),180===a.settlementId?o("el-table-column",{attrs:{prop:"shortPay",sortable:"",label:"短驳费",width:"120"}}):a._e(),a._v(" "),180===a.settlementId?o("el-table-column",{attrs:{prop:"noShortPay",sortable:"",label:"未核销短驳费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.shortPay,e.row.hadShortPay,e.row.noShortPay,e.row.noShortPay))}})]}}])}):a._e(),a._v(" "),180===a.settlementId?o("el-table-column",{attrs:{prop:"hadShortPay",sortable:"",label:"已核销短驳费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.shortPay,e.row.hadShortPay,e.row.noShortPay,e.row.hadShortPay))}})]}}])}):a._e(),a._v(" "),181===a.settlementId?o("el-table-column",{attrs:{prop:"sendPay",sortable:"",label:"送货费",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?o("el-table-column",{attrs:{prop:"noSendPay",sortable:"",label:"未核销送货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.sendPay,e.row.hadSendPay,e.row.noSendPay,e.row.noSendPay))}})]}}])}):a._e(),a._v(" "),181===a.settlementId?o("el-table-column",{attrs:{prop:"hadSendPay",sortable:"",label:"已核销送货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.sendPay,e.row.hadSendPay,e.row.noSendPay,e.row.hadSendPay))}})]}}])}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"departTotal",sortable:"",label:"发车汇总",width:"100"}}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"departTotalActual",sortable:"",label:"发车汇总实际支出",width:"140"}}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"noDepartTotal",sortable:"",label:"未核销发车汇总",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.departTotal,e.row.hadDepartTotal,e.row.noDepartTotal,e.row.noDepartTotal))}})]}}])}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"hadDepartTotal",sortable:"",label:"已核销发车汇总",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.departTotal,e.row.hadDepartTotal,e.row.noDepartTotal,e.row.hadDepartTotal))}})]}}])}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"arriveTotal",sortable:"",label:"到车汇总",width:"100"}}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"arriveTotalActual",sortable:"",label:"到车汇总实际支出",width:"140"}}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"noArriveTotal",sortable:"",label:"未核销到车汇总",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.arriveTotal,e.row.hadArriveTotal,e.row.noArriveTotal,e.row.noArriveTotal))}})]}}])}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"hadArriveTotal",sortable:"",label:"已核销到车汇总",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.arriveTotal,e.row.hadArriveTotal,e.row.noArriveTotal,e.row.hadArriveTotal))}})]}}])}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"operationPay",sortable:"",label:"操作费",width:"120"}}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"noOperationPay",sortable:"",label:"未核销操作费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.operationPay,e.row.hadOperationPay,e.row.noOperationPay,e.row.noOperationPay))}})]}}])}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"hadOperationPay",sortable:"",label:"已核销操作费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.operationPay,e.row.hadOperationPay,e.row.noOperationPay,e.row.hadOperationPay))}})]}}])}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"operationPayActual",sortable:"",label:"实际核销操作费",width:"120"}}):a._e(),a._v(" "),181===a.settlementId?o("el-table-column",{attrs:{prop:"departureTime",sortable:"",label:"送货时间",width:"160"}}):a._e(),a._v(" "),179===a.settlementId?o("el-table-column",{attrs:{prop:"departureTime",sortable:"",label:"发车时间",width:"160"}}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"receivingTime",sortable:"",label:"到车时间",width:"160"}}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"orgName",sortable:"",label:"发车网点",width:"120"}}):a._e(),a._v(" "),181!==a.settlementId?o("el-table-column",{attrs:{prop:"arriveOrgName",sortable:"",label:"到车网点",width:"120"}}):a._e(),a._v(" "),o("el-table-column",{attrs:{prop:"remark",sortable:"",label:"备注"}})],1):a._e()],1)])},staticRenderFns:[]};t.a=o},"4w7I":function(e,t){},"6wmC":function(e,t){},"7nIZ":function(e,t,a){"use strict";t.i=function(e){return o.b.post("/api-finance/finance/tmsfinancebillrecord/v1.3/getBillRecordList/",e).then(function(e){return e.data})},t.h=function(e){return o.b.post("/api-finance/finance/tmsfinancebillrecorddetail/v1.3/getBillRecordDetailList/",e).then(function(e){return e.data})},t.j=function(e){return o.b.post("/api-finance/finance/tmsfinancebillrecord/v1.3/getVerificationBaseInfo/",e).then(function(e){return e.data})},t.g=function(e){return o.b.post("/api-finance/finance/tmsfinancebillrecord/v1.3/addIncome/",e).then(function(e){return e.data})},t.a=function(e){return o.b.post("/api-finance/finance/tmsfinancebillrecord/v1.3/cancelVerification/",e).then(function(e){return e.data})},t.f=function(e){return o.b.post("/api-finance/finance/tmsfinanceverification/v1.3/getVeryficationList/",e).then(function(e){return e.data})},t.b=function(e){return o.b.post("/api-finance//finance/tmsfinancebillrecord/v1.3/delBillRecord/",e).then(function(e){return e.data})},t.e=function(e){return o.b.post("/api-finance/finance/tmsfinancebillrecord/v1.3/getOrderList/",e).then(function(e){return e.data})},t.d=function(e){return o.b.post("/api-finance/finance/tmsfinancesubjects/v1.3/getFinanceSubjects/",e).then(function(e){return e.data})},t.c=function(e){return o.b.post("/api-finance/finance/tmsfinancebillrecord/v1.3/getBillRecordInfo",e).then(function(e){return e.data})};var o=a("Vo7i")},"7ueC":function(e,t){},"9cTb":function(e,t,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"transferTable"},[a("div",{staticClass:"transferTable_header"},[a("div",{staticClass:"transferTable_searchs"},[a("div",{staticClass:"transferTable_fresh"},[t._t("tableRefresh")],2),t._v(" "),t._t("tableSearch")],2),t._v(" "),a("div",{staticClass:"transferTable_header_btn_direction"},[a("el-tooltip",{attrs:{effect:"dark",content:"向左侧拉伸",placement:"top-end"}},[a("el-button",{staticClass:"btn-leftright",attrs:{icon:"el-icon-arrow-right",type:"primary",circle:"",disabled:t.isShowLeft,size:"mini",plain:""},on:{click:function(e){t.doAction("showAllLeft")}}})],1),t._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:"向右侧拉伸",placement:"top-start"}},[a("el-button",{staticClass:"btn-leftright",attrs:{icon:"el-icon-arrow-left",type:"primary",circle:"",disabled:t.isShowRight,size:"mini",plain:""},on:{click:function(e){t.doAction("showAllRight")}}})],1),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-bottom"}},[t.isShowReback?a("el-button",{staticClass:"btn-leftright",attrs:{icon:"el-icon-refresh",type:"primary",circle:"",size:"mini",plain:""},on:{click:function(e){t.doAction("showReback")}}}):t._e()],1),t._v(" "),a("div",{staticClass:"transferTable_header_btn_box clearfix"},[t._t("btnsBox")],2)],1)]),t._v(" "),a("div",{staticClass:"transferTable_content"},[a("div",{staticClass:"transferTable_content_table paddingRight",class:t.leftTableClass},[t._t("tableLeft",[t._v("左边表格区")])],2),t._v(" "),a("div",{staticClass:"transferTable_content_table",class:t.rightTableClass},[t._t("tableRight",[t._v("右边表格区")])],2)])])},staticRenderFns:[]};t.a=o},CJmx:function(e,t){},"E+sp":function(e,t,a){"use strict";var o=a("/bIW"),r=a("VWOT"),n=a("VU/8")(o.a,r.a,null,null,null);t.a=n.exports},Fj2W:function(e,t,a){"use strict";var o=a("pAQG"),l=a("0xDb");t.a={components:{querySelect:o.a},data:function(){return{senderSearch:"",searchForm:{shipSenderName:"",shipSenderUnit:"",shipSn:""},btnsize:"mini",selectVal:""}},props:{info:{type:Array,default:[]}},methods:{focusFormItm:function(e){for(var t in this.searchForm)t!==e&&this.$set(this.searchForm,t,"")},clearSearchSelect:function(e){this.$emit("change",Object(l.objectMerge2)([],this.info))},querySearch:function(e,t,a){var o=this.info;for(var r in this.searchForm[e]=t,this.selectVal=e,this.searchForm)void 0!==this.searchForm[r]&&""!==this.searchForm[r]||this.$emit("change",Object(l.objectMerge2)([],this.info));var n=t?o.filter(this.createFilter(t,e)):o;a(n);var i=[];n.forEach(function(e){i.push(e)}),this.$emit("change",i)},createFilter:function(t,a){return function(e){if(e[a])return-1!==e[a].toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(e){this.searchForm[this.selectVal]=e[this.selectVal],this.selectVal="";var t=[];t.push(e),this.$emit("change",t)},clearSender:function(e){this.searchForm=this.$options.data().searchForm}}}},H0Dz:function(e,t,a){"use strict";var o=a("pAQG"),l=a("0xDb");t.a={components:{querySelect:o.a},data:function(){return{senderSearch:"load",searchForm:{shortBatchNo:"",mainBatchNo:"",sendBatchNo:"",truckIdNumber:""},btnsize:"mini",selectVal:"",settlementId:"",isSender:!1,SETTLEMENT_TYPE:{short:180,load:179,deliver:181}}},props:{info:{type:Array,default:[]},getSettlementId:{type:[Number,String]}},watch:{getSettlementId:{handler:function(e,t){e&&(this.isSender=!0,this.settlementId=e,this.senderSearch=179===e?"load":180===e?"short":"deliver")},deep:!0}},mounted:function(){this.isSender||this.initSettlementid()},methods:{focusFormItm:function(e){for(var t in this.searchForm)t!==e&&this.$set(this.searchForm,t,"")},initSettlementid:function(){this.senderSearch;this.settlementId=this.SETTLEMENT_TYPE[this.senderSearch],console.log("选择批次类型后的settlementId",this.settlementId),this.$emit("setSettlementId",this.settlementId)},changeSenderSearch:function(e){e&&this.initSettlementid()},querySearch:function(e,t,a){var o=o=this.info;for(var r in this.searchForm[e]=t,this.selectVal=e,this.searchForm)void 0!==this.searchForm[r]&&""!==this.searchForm[r]||this.$emit("change",Object(l.objectMerge2)([],this.info));var n=t?o.filter(this.createFilter(t,e)):o;a(n);var i=[];n.forEach(function(e){i.push(e)}),this.$emit("change",i)},createFilter:function(t,a){return function(e){if("truckIdNumber"!==a){if(e.batchNo)return-1!==e.batchNo.toLowerCase().indexOf(t.toLowerCase())}else if(e.truckIdNumber)return-1!==e.truckIdNumber.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(e){this.searchForm[this.selectVal]=e[this.selectVal],this.selectVal="";var t=[];t.push(e),this.$emit("change",t),this.searchForm=this.$options.data().searchForm},clearSender:function(e){this.searchForm=this.$options.data().searchForm}}}},IcMT:function(e,t,a){"use strict";var o=a("PI8x"),r=a("9cTb");var n=function(e){a("7ueC")},i=a("VU/8")(o.a,r.a,n,"data-v-4bbec734",null);t.a=i.exports},Llm4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("pURq"),r=a("ooRw");var n=function(e){a("CJmx")},i=a("VU/8")(o.a,r.a,n,null,null);t.default=i.exports},PI8x:function(e,t,a){"use strict";t.a={data:function(){return{loading:!1,isShowLeft:!1,isShowRight:!1,isShowReback:!1,searchForm:""}},computed:{leftTableClass:function(){return this.isShowLeft?"showTableLeft":this.isShowRight?"shortTableLeft":"averageTable"},rightTableClass:function(){return this.isShowRight?"showTableRight":this.isShowLeft?"shortTableRight":"averageTable"}},methods:{doAction:function(e){switch(this.loading=!0,e){case"showAllLeft":this.showAllLeft();break;case"showAllRight":this.showAllRight();break;case"showReback":this.showReback()}this.$emit("resizeVTable"),this.loading=!1},showAllLeft:function(){this.isShowLeft=!0,this.isShowRight=!1,this.isShowReback=!0},showAllRight:function(){this.isShowLeft=!1,this.isShowRight=!0,this.isShowReback=!0},showReback:function(){this.isShowReback=!1,this.isShowLeft=!1,this.isShowRight=!1}}}},Q1qI:function(e,t){},"QS/K":function(e,t,a){"use strict";t.a=function(e){return o.b.post("/api-finance/finance/tmsfinancefeetype/v1/getFeeTypeDict",{paymentsType:e.paymentsType,fiOrderType:e.fiOrderType}).then(function(e){return e.data})};var o=a("Vo7i");a("0xDb")},TsW9:function(e,t,a){"use strict";t.a=function(e,t){return o.b.get("/api-order/order/load/v1/getBatchNo/",{params:{orgId:e,loadTypeId:t}})},t.i=function(e){return o.b.post("/api-order/order/load/v1/",e)},t.j=function(e){return o.b.put("/api-order/order/load/v1/",e)},t.d=function(e){return o.b.get("/api-order/order/load/v1/selectAddLoadRepertoryList/",{params:{orgId:e}})},t.g=function(e,t){return o.b.get("/api-order/order/load/v1/selectUpdateLoadRepertoryList/?orgId="+e+"&loadId="+t)},t.h=function(e,t){return o.b.get("/api-order/order/load/v1/selectUpdateLoadDetailList/?orgId="+e+"&loadId="+t)},t.e=function(e){return o.b.get("/api-order/order/load/v1/selectLoadDetailList/",{params:{loadId:e}})},t.f=function(){return o.b.get("/api-system/system/trunk/v1/findCarAndDriver/").then(function(e){return e})},t.b=function(){return o.b.get("/api-system/system/trunk/v1/findDriverAndCar/").then(function(e){return e})},t.c=function(e){return o.b.post("/api-order/order/tmsordertrailterminal/v1/list",e).then(function(e){return e.data})};var o=a("Vo7i")},UxNU:function(e,t,a){"use strict";var o=a("woOf"),r=a.n(o),n=a("0xDb"),i=a("pAQG"),l=a("QS/K"),s=a("7nIZ"),c=a("Vi15"),u=a("TsW9");t.a={components:{querySelect:i.a},props:{popVisible:{type:Boolean,default:!1},info:{type:String,default:""},title:{type:String,default:"智能核销"},setSettlementId:{type:[Number,String]},fiOrderType:{type:[Number,String],default:1}},data:function(){return{formModel:{autoTotalAmount:0,paymentsType:1,feeId:""},senderOptions:[],truckOptions:[],settlementId:179,incomePayType:"PAYABLE",rules:{},searchTime:[Object(n.parseTime)(new Date-2592e6),Object(n.parseTime)(new Date)],pickerOptions2:{shortcuts:n.pickerOptions2},feeIds:[],feeIdsBatch:[{id:179,feeType:"干线"},{id:180,feeType:"短驳"},{id:181,feeType:"送货"}],paymentsType:1}},computed:{isShow:{get:function(){if(this.popVisible){switch(this.formModel=this.$options.data().formModel,this.title){case"批次":this.getAllTrunk(),this.settlementId=179,this.formModel.settlementId=this.setSettlementId,this.$set(this.formModel,"truckIdNumber","");break;case"运单":this.getAllCustomer(),this.settlementId=178,this.fiOrderType=0,this.formModel.settlementId="",this.$set(this.formModel,"shipSenderName","")}this.init()}return this.popVisible},set:function(){}}},watch:{title:{handler:function(e,t){},deep:!0},setSettlementId:{handler:function(e,t){179===this.settlementId&&(this.formModel.settlementId=e)},deep:!0},fiOrderType:{handler:function(e,t){},deep:!0}},methods:{init:function(){this.getFeeTypeDict()},getAllCustomer:function(){var t=this,e={currentPage:1,pageSize:200,vo:{orgid:this.otherinfo.orgid,customerType:1,customerMobile:"",customerName:""}};Object(c.b)(e).then(function(e){t.senderOptions=e.list}).catch(function(e){t._handlerCatchMsg(e)})},getAllTrunk:function(){var t=this;Object(u.f)().then(function(e){t.truckOptions=e.data}).catch(function(e){t._handlerCatchMsg(e)})},querySearchTruck:function(e,t){var a=this.truckOptions;t(e?a.filter(this.createFilter(new RegExp(e,"gi"),"truckIdNumber")):a)},querySearchSender:function(e,t){var a=this.senderOptions;t(e?a.filter(this.createFilter(new RegExp(e,"gi"),"truckIdNumber")):a)},createFilter:function(t,a){return function(e){if(e[a])return t.test(e[a])}},changeAmount:function(e){this.$set(this.formModel,"autoTotalAmount",e)},handleSelectTruck:function(e){this.formModel.truckIdNumber=e.truckIdNumber},handleSelectSender:function(e){this.formModel.shipSenderName=e.customerName},getFeeTypeDict:function(){var t=this;return Object(l.a)({paymentsType:this.paymentsType,fiOrderType:this.fiOrderType}).then(function(e){t.feeIds=e}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)})},onSubmit:function(e){var a=this;this.$refs[e].validate(function(e){if(e){a.$set(a.formModel,"startTime",Object(n.parseTime)(a.searchTime[0],"{y}-{m}-{d} ")+"00:00:00"),a.$set(a.formModel,"endTime",Object(n.parseTime)(a.searchTime[1],"{y}-{m}-{d} ")+"23:59:59"),a.$set(a.formModel,"orgId",a.$route.query.orgId),a.$set(a.formModel,"fiOrderType",a.fiOrderType),178===a.settlementId&&a.$set(a.formModel,"settlementId",a.settlementId),a.formModel.autoTotalAmount=Number(a.formModel.autoTotalAmount);var t=r()({},a.formModel);Object(s.e)(t).then(function(e){a.$emit("success",{info:e,count:t.autoTotalAmount,type:a.settlementId}),a.closeMe(),a.$message({type:"success",message:"智能核销搜索运单操作成功"})}).catch(function(e){a._handlerCatchMsg(e)})}})},selectFeeIdBatch:function(e){this.$emit("change",e)},closeMe:function(e){this.$emit("close"),"function"==typeof e&&e()}}}},VWOT:function(e,t,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"incomeDialog",attrs:{title:t.dialogTitle,visible:t.isShow,"close-on-click-modal":!1,"before-close":t.closeMe},on:{"update:visible":function(e){t.isShow=e}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"formModel",attrs:{model:t.formModel,rules:t.rules,inline:!0,"label-width":"120px"}},[a("div",{staticClass:"income_item"},[a("el-form-item",{staticClass:"formItemTextDanger",attrs:{label:"方向",prop:"verificationId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:t.btnsize},on:{change:t.selectVerificationWay},model:{value:t.formModel.verificationId,callback:function(e){t.$set(t.formModel,"verificationId",e)},expression:"formModel.verificationId"}},t._l(t.veryficationList,function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.verificationWay}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发生金额",prop:"amount"}},[a("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly:point",arg:"point"}],attrs:{placeholder:"发生金额",size:t.btnsize,maxlength:8,disabled:""},model:{value:t.formModel.amount,callback:function(e){t.$set(t.formModel,"amount",t._n(e))},expression:"formModel.amount"}})],1)],1),t._v(" "),a("div",{staticClass:"income_item"},[a("el-form-item",{class:{formItemTextDanger:"1"===t.formModel.isNeededVoucher},attrs:{label:"一级科目",prop:"1"===t.formModel.isNeededVoucher?"subjectOneId":""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:t.btnsize,disabled:"1"!==t.formModel.isNeededVoucher},on:{change:function(e){return t.selectSubject(e,1)},clear:t.initSubject},model:{value:t.formModel.subjectOneId,callback:function(e){t.$set(t.formModel,"subjectOneId",e)},expression:"formModel.subjectOneId"}},t._l(t.subjectOne,function(e,t){return a("el-option",{key:t,attrs:{label:e.subjectName,value:e.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"凭证日期",prop:"certTime"}},[a("el-date-picker",{attrs:{type:"date",size:t.btnsize,placeholder:"选择日期",clearable:!1},model:{value:t.formModel.certTime,callback:function(e){t.$set(t.formModel,"certTime",e)},expression:"formModel.certTime"}})],1)],1),t._v(" "),a("div",{staticClass:"income_item"},[a("el-form-item",{class:0<t.subjectTwo.length?"formItemTextDanger":"",attrs:{label:"二级科目"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:t.btnsize,disabled:"1"!==t.formModel.isNeededVoucher},on:{change:function(e){return t.selectSubject(e,2)}},model:{value:t.formModel.subjectTwoId,callback:function(e){t.$set(t.formModel,"subjectTwoId",e)},expression:"formModel.subjectTwoId"}},t._l(t.subjectTwo,function(e,t){return a("el-option",{key:t,attrs:{label:e.subjectName,value:e.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"收据号码",prop:"receiptNo"}},[a("el-input",{attrs:{placeholder:"收据号码",size:t.btnsize,maxlength:25},model:{value:t.formModel.receiptNo,callback:function(e){t.$set(t.formModel,"receiptNo",e)},expression:"formModel.receiptNo"}})],1)],1),t._v(" "),a("div",{staticClass:"income_item"},[a("el-form-item",{class:0<t.subjectThree.length?"formItemTextDanger":"",attrs:{label:"三级科目"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:t.btnsize,disabled:"1"!==t.formModel.isNeededVoucher},on:{change:function(e){return t.selectSubject(e,3)}},model:{value:t.formModel.subjectThreeId,callback:function(e){t.$set(t.formModel,"subjectThreeId",e)},expression:"formModel.subjectThreeId"}},t._l(t.subjectThree,function(e,t){return a("el-option",{key:t,attrs:{label:e.subjectName,value:e.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发票号码",prop:"invoiceNo"}},[a("el-input",{attrs:{placeholder:"发票号码",size:t.btnsize,maxlength:25},model:{value:t.formModel.invoiceNo,callback:function(e){t.$set(t.formModel,"invoiceNo",e)},expression:"formModel.invoiceNo"}})],1)],1),t._v(" "),a("div",{staticClass:"income_item"},[a("el-form-item",{class:0<t.subjectFour.length?"formItemTextDanger":"",attrs:{label:"四级科目"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:t.btnsize,disabled:"1"!==t.formModel.isNeededVoucher},on:{change:function(e){return t.selectSubject(e,4)}},model:{value:t.formModel.subjectFourId,callback:function(e){t.$set(t.formModel,"subjectFourId",e)},expression:"formModel.subjectFourId"}},t._l(t.subjectFour,function(e,t){return a("el-option",{key:t,attrs:{label:e.subjectName,value:e.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"支票号码",prop:"checkNo"}},[a("el-input",{attrs:{placeholder:"支票号码",size:t.btnsize,maxlength:25},model:{value:t.formModel.checkNo,callback:function(e){t.$set(t.formModel,"checkNo",e)},expression:"formModel.checkNo"}})],1)],1),t._v(" "),a("div",{staticClass:"income_item"},[a("el-form-item",{attrs:{label:"摘要"}},[a("el-input",{attrs:{type:"textarea",placeholder:"摘要",size:t.btnsize,maxlength:50},model:{value:t.formModel.remark,callback:function(e){t.$set(t.formModel,"remark",e)},expression:"formModel.remark"}})],1),t._v(" "),a("el-form-item")],1)]),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-document",loading:t.btnLoading},on:{click:function(e){t.submitForm("formModel")}}},[t._v("保存")]),t._v(" "),"1"===t.formModel.isNeededVoucher?a("el-button",{directives:[{name:"has",rawName:"v-has:INIT_SUBJECT_DEFINE",arg:"INIT_SUBJECT_DEFINE"}],attrs:{type:"warning",plain:"",icon:"el-icon-setting"},on:{click:t.setting}},[t._v("设置财务科目")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-circle-close"},on:{click:t.closeMe}},[t._v("取消")])],1)],1)},staticRenderFns:[]};t.a=o},eLgA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("oNRX"),r=a("0/ke");var n=function(e){a("Q1qI")},i=a("VU/8")(o.a,r.a,n,null,null);t.default=i.exports},ecFV:function(e,t,a){"use strict";var o={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("el-form",{ref:"searchForm",staticClass:"tableHeadItemForm",attrs:{inline:"","label-position":"right",model:a.searchForm,"label-width":"60px"}},[o("el-form-item",[o("el-select",{attrs:{placeholder:"发货方或发货人",size:a.btnsize,clearable:""},on:{clear:a.clearSearchSelect,focus:a.clearSender},model:{value:a.senderSearch,callback:function(e){a.senderSearch=e},expression:"senderSearch"}},[o("el-option",{attrs:{label:"发货方",value:"unit"}}),a._v(" "),o("el-option",{attrs:{label:"发货人",value:"customer"}})],1)],1),a._v(" "),"customer"===a.senderSearch?o("el-form-item",[o("el-autocomplete",{attrs:{"popper-class":"popperHide",maxlength:15,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("shipSenderName",e,t)},placeholder:"发货人搜索"},on:{focus:function(e){a.focusFormItm("shipSenderName")},select:a.handleSelect},model:{value:a.searchForm.shipSenderName,callback:function(e){a.$set(a.searchForm,"shipSenderName",e)},expression:"searchForm.shipSenderName"}})],1):a._e(),a._v(" "),"unit"===a.senderSearch?o("el-form-item",[o("el-autocomplete",{attrs:{"popper-class":"popperHide",size:a.btnsize,maxlength:15,"fetch-suggestions":function(e,t){return a.querySearch("shipSenderUnit",e,t)},placeholder:"发货方搜索"},on:{focus:function(e){a.focusFormItm("shipSenderUnit")},select:a.handleSelect},model:{value:a.searchForm.shipSenderUnit,callback:function(e){a.$set(a.searchForm,"shipSenderUnit",e)},expression:"searchForm.shipSenderUnit"}})],1):a._e(),a._v(" "),o("el-form-item",{attrs:{label:"运单号"}},[o("el-autocomplete",{attrs:{"popper-class":"popperHide",size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("shipSn",e,t)},placeholder:"运单号搜索",maxlength:20},on:{focus:function(e){a.focusFormItm("shipSn")},select:a.handleSelect},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[o("div",{staticClass:"name"},[a._v(a._s(t.shipSn))])]}}]),model:{value:a.searchForm.shipSn,callback:function(e){a.$set(a.searchForm,"shipSn",e)},expression:"searchForm.shipSn"}})],1)],1)},staticRenderFns:[]};t.a=o},iHUI:function(e,t,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fee-steup"},[a("div",{staticClass:"fee-steup-form"},[a("div",{staticClass:"fee_btn_transferTable"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"批次支出",name:"first"}},[a("div",{staticClass:"animated fadeInRight tableItem"},[a("div",{staticClass:"fee_btn_boxs"},[a("el-button",{attrs:{size:t.btnsize,plain:"",type:"success",icon:"el-icon-date"},on:{click:function(e){t.doAction("countBatch")}}},[t._v("智能核销")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-document"},on:{click:function(e){t.doAction("save")}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-circle-close-outline"},on:{click:function(e){t.doAction("cancel")}}},[t._v("取消")])],1),t._v(" "),a("dataTable",{attrs:{componentKey:t.tableKey,orgId:t.lastorgid,activeName:t.activeName,setLoadTable:t.setLoadTableList,isModify:t.isEdit,getSettlementId:t.settlementId,countSuccessList:t.countSuccessListBatch,countNum:t.countNumBatch,fiOrderType:t.fiOrderType},on:{loadTable:t.getLoadTable,setSettlementId:t.setSettlementId,change:t.getTableChange,feeName:t.getFeeName}})],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"运单支出",name:"second"}},[a("div",{staticClass:"animated fadeInRight tableItem"},[a("div",{staticClass:"fee_btn_boxs"},[a("el-button",{attrs:{size:t.btnsize,plain:"",type:"success",icon:"el-icon-date"},on:{click:function(e){t.doAction("countShip")}}},[t._v("智能核销")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-document"},on:{click:function(e){t.doAction("save")}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:t.btnsize,plain:"",type:"primary",icon:"el-icon-circle-close-outline"},on:{click:function(e){t.doAction("cancel")}}},[t._v("取消")])],1),t._v(" "),a("dataTableOrder",{attrs:{componentKey:t.tableKey,orgId:t.lastorgid,activeName:t.activeName,setLoadTable:t.setLoadTableList,isModify:t.isEdit,countSuccessList:t.countSuccessListShip,countNum:t.countNumShip,fiOrderType:0},on:{loadTable:t.getLoadTable,change:t.getTableChange,feeName:t.getFeeName}})],1)])],1)],1),t._v(" "),a("Count",{attrs:{popVisible:t.countVisible,title:t.countTitle,setSettlementId:t.settlementId,fiOrderType:t.fiOrderType},on:{close:function(e){t.countVisible=!1},success:t.countSuccess,change:t.changeFeeIdBatch}}),t._v(" "),a("Voucher",{attrs:{popVisible:t.popVisibleDialog,info:t.infoTable,orgId:t.lastorgid,btnLoading:t.btnLoading},on:{close:t.closeDialog,success:t.submitVoucher}})],1)])},staticRenderFns:[]};t.a=o},kDac:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("H0Dz"),r=a("nKQB");var n=function(e){a("4w7I")},i=a("VU/8")(o.a,r.a,n,null,null);t.default=i.exports},nKQB:function(e,t,a){"use strict";var o={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("el-form",{ref:"searchForm",staticClass:"tableHeadItemForm",attrs:{inline:"","label-position":"right",model:a.searchForm,"label-width":"60px"}},[o("el-form-item",[o("el-select",{attrs:{placeholder:"批次类型",size:a.btnsize},on:{change:a.changeSenderSearch},model:{value:a.senderSearch,callback:function(e){a.senderSearch=e},expression:"senderSearch"}},[o("el-option",{attrs:{label:"短驳",value:"short"}}),a._v(" "),o("el-option",{attrs:{label:"干线",value:"load"}}),a._v(" "),o("el-option",{attrs:{label:"送货",value:"deliver"}})],1)],1),a._v(" "),"short"===a.senderSearch?o("el-form-item",[o("el-autocomplete",{attrs:{maxlength:20,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("shortBatchNo",e,t)},placeholder:"短驳批次号搜索","popper-class":"popperHide"},on:{select:a.handleSelect,focus:function(e){a.focusFormItm("shortBatchNo")}},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[o("div",{staticClass:"name"},[a._v(a._s(t.batchNo))])]}}]),model:{value:a.searchForm.shortBatchNo,callback:function(e){a.$set(a.searchForm,"shortBatchNo",e)},expression:"searchForm.shortBatchNo"}})],1):a._e(),a._v(" "),"load"===a.senderSearch?o("el-form-item",[o("el-autocomplete",{attrs:{maxlength:20,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("mainBatchNo",e,t)},placeholder:"干线批次号搜索","popper-class":"popperHide"},on:{select:a.handleSelect,focus:function(e){a.focusFormItm("mainBatchNo")}},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[o("div",{staticClass:"name"},[a._v(a._s(t.batchNo))])]}}]),model:{value:a.searchForm.mainBatchNo,callback:function(e){a.$set(a.searchForm,"mainBatchNo",e)},expression:"searchForm.mainBatchNo"}})],1):a._e(),a._v(" "),"deliver"===a.senderSearch?o("el-form-item",[o("el-autocomplete",{attrs:{maxlength:20,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("sendBatchNo",e,t)},placeholder:"送货批次号搜索","popper-class":"popperHide"},on:{select:a.handleSelect,focus:function(e){a.focusFormItm("sendBatchNo")}},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[o("div",{staticClass:"name"},[a._v(a._s(t.batchNo))])]}}]),model:{value:a.searchForm.sendBatchNo,callback:function(e){a.$set(a.searchForm,"sendBatchNo",e)},expression:"searchForm.sendBatchNo"}})],1):a._e(),a._v(" "),o("el-form-item",{attrs:{label:"车牌号"}},[o("el-autocomplete",{attrs:{maxlength:8,size:a.btnsize,"fetch-suggestions":function(e,t){return a.querySearch("truckIdNumber",e,t)},placeholder:"车牌号搜索","popper-class":"popperHide"},on:{select:a.handleSelect,focus:function(e){a.focusFormItm("truckIdNumber")}},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[o("div",{staticClass:"name"},[a._v(a._s(t.truckIdNumber))])]}}]),model:{value:a.searchForm.truckIdNumber,callback:function(e){a.$set(a.searchForm,"truckIdNumber",e)},expression:"searchForm.truckIdNumber"}})],1)],1)},staticRenderFns:[]};t.a=o},oNRX:function(e,t,a){"use strict";var o=a("pFYg"),i=a.n(o),r=a("woOf"),n=a.n(r),l=a("Dd8w"),s=a.n(l),c=a("bOdI"),u=a.n(c),h=a("NYxO"),d=a("pAQG"),f=a("IcMT"),m=a("0xDb"),b=a("7nIZ"),p=a("kDac"),y=a("0xDb");t.a={data:function(){var e;return e={showtable:!0,loading:!0,searchTime:[Object(m.parseTime)(new Date-5184e6),Object(m.parseTime)(new Date)],tablekey:0,tablekeyRight:0,truckMessage:"",searchForm:{},incomePayType:"PAYABLE",paymentsType:1,settlementId:179},u()(e,"loading",!1),u()(e,"btnsize","mini"),u()(e,"selectedRight",[]),u()(e,"selectedLeft",[]),u()(e,"orgLeftTable",[]),u()(e,"leftTable",[]),u()(e,"rightTable",[]),u()(e,"countOrgLeftTable",[]),u()(e,"FEE_TYPE",{179:"loadFeeTotal",180:"shortPay",181:"sendPay"}),u()(e,"orgData",{left:[],right:[]}),u()(e,"arrLastPartActualFeeName",[]),u()(e,"arrLastPartNoFeeName",[]),u()(e,"arrLastPartFeeName",[]),u()(e,"arrNoPayName",[]),u()(e,"arrPayName",[]),u()(e,"arrPayNameActual",[]),e},props:{setLoadTable:{type:Object,default:function(){}},isModify:{type:Boolean,default:!1},countSuccessList:{type:Array,default:[]},countNum:{type:[Number,String]},getSettlementId:{type:[Number,String]},orgId:{type:[Number,String]},componentKey:{type:[Number,String]},fiOrderType:{type:[Number,String]}},computed:s()({},Object(h.mapGetters)(["otherinfo"]),{feeName:{get:function(){return this.FEE_TYPE[this.settlementId]},set:function(){return""}}}),components:{transferTable:f.a,querySelect:d.a,currentSearch:p.default},watch:{isModify:{get:function(){this.isModify},set:function(){}},setLoadTable:{handler:function(e,t){e&&(this.orgData=n()({},e))},deep:!0},countSuccessList:{handler:function(e,t){this.initCount(e,t)},deep:!0},getSettlementId:{handler:function(e,t){e&&(this.changeTableKey(),this.settlementId=e,this.getList())},deep:!0},fiOrderType:{handler:function(e,t){console.log("fiOrderType",e,t)},deep:!0},orgId:function(){this.getPayName(),this.getList()}},activated:function(){},methods:{getPayName:function(){if(0!==this.rightTable.length){for(var e in this.arrNoPayName=[],this.rightTable[0])0===e.indexOf("no")&&this.arrNoPayName.push(e);for(var t in this.arrPayName=[],this.arrNoPayName){var a=this.arrNoPayName[t].substring(2,3).toLowerCase()+this.arrNoPayName[t].substring(3);this.arrPayName.push(a)}for(var o in this.arrhadPayName=[],this.arrNoPayName){var r="had"+this.arrNoPayName[o].substring(2);this.arrhadPayName.push(r)}for(var n in this.arrPayNameActual=[],this.arrPayName){var i=this.arrPayName[n]+"Actual";this.arrPayNameActual.push(i)}var l={arrPayName:this.arrPayName,arrNoPayName:this.arrNoPayName,arrhadPayName:this.arrhadPayName,arrPayNameActual:this.arrPayNameActual};this.$emit("feeName",l)}},initCount:function(e,t){var r=this;if(console.log("============后台返回的智能运单=============\n",e),this.arrLastPartActualFeeName=[],this.arrLastPartNoFeeName=[],this.arrLastPartFeeName=[],this.leftTable=[],this.rightTable=Object(m.objectMerge2)([],e),this.$emit("loadTable",this.rightTable),0===this.rightTable.length)return this.$message({type:"warning",message:"无符合智能核销条件的运单。"}),this.leftTable=Object(m.objectMerge2)([],this.orgLeftTable),!1;this.leftTable=Object(m.objectMerge2)([],this.orgLeftTable).filter(function(t,e){return-1===r.rightTable.findIndex(function(e){return t.batchNo===e.batchNo})}),0!==this.leftTable.length&&(console.log("第一次去重！！！！！"),this.leftTable=this.uniqueArray(this.leftTable,"batchNo")),this.$emit("loadTable",this.rightTable),this.getPayName();var n=!1;this.arrPayNameActual.forEach(function(e,t){var a=r.rightTable[r.rightTable.length-1][e],o=r.rightTable[r.rightTable.length-1][r.arrNoPayName[t]];o!==a&&""!==o&&null!==o&&""!==a&&null!==a&&(void 0===o?"undefined":i()(o))===(void 0===a?"undefined":i()(a))&&(n=!0,r.arrLastPartFeeName.push(r.arrPayName[t]),r.arrLastPartActualFeeName.push(e),r.arrLastPartNoFeeName.push(r.arrNoPayName[t]))}),this.rightTable[this.rightTable.length-1].loadFeeTotal!==this.rightTable[this.rightTable.length-1].loadFeeTotalActual?(this.$notify.info({title:"提示",message:"最后一条数据实际只需支付部分未核销费用，多余的需要返回到左边列表！"}),n=!0,this.arrLastPartFeeName.push("loadFeeTotal"),this.arrLastPartActualFeeName.push("loadFeeTotalActual")):n=!1,n&&(this.leftTable.push(Object(m.objectMerge2)([],this.rightTable[this.rightTable.length-1])),this.arrLastPartFeeName.forEach(function(e){var t="no"+e.substring(0,1).toUpperCase()+e.substring(1),a=e+"Actual";r.leftTable[r.leftTable.length-1][a]=r.rightTable[r.rightTable.length-1][t]-r.rightTable[r.rightTable.length-1][a],r.leftTable[r.leftTable.length-1].loadFeeTotalActual=r.rightTable[r.rightTable.length-1].loadFeeTotal-r.rightTable[r.rightTable.length-1].loadFeeTotalActual})),this.$emit("loadTable",this.rightTable),this.countOrgLeftTable=Object(m.objectMerge2)([],this.leftTable),console.log(this.countOrgLeftTable.length)},uniqueArray:function(e,t,a){for(var o=[e[0]],r=1;r<e.length;r++){for(var n=e[r],i=!1,l=0;l<o.length;l++)if(n[t]===o[l][t]){if(a)for(var s in a)o[l][a[s]]=y.tmsMath._add(n[a[s]],o[l][a[s]]);i=!0;break}i||o.push(n)}return o},getList:function(){var t=this;this.leftTable=this.$options.data().leftTable,this.rightTable=this.$options.data().rightTable,this.orgLeftTable=this.$options.data().orgLeftTable,this.countOrgLeftTable=this.$options.data().countOrgLeftTable;var e={};this.isModify?(this.leftTable=this.orgData.left,this.orgLeftTable=this.orgData.left,this.rightTable=this.orgData.right,this.countOrgLeftTable=this.orgData.left,this.$emit("loadTable",this.rightTable)):(this.$set(e,"orgId",this.orgId),this.$set(e,"paymentsType",this.paymentsType),this.$set(e,"startTime",Object(m.parseTime)(this.searchTime[0],"{y}-{m}-{d} ")+"00:00:00"),this.$set(e,"endTime",Object(m.parseTime)(this.searchTime[1],"{y}-{m}-{d} ")+"23:59:59"),this.$set(e,"autoTotalAmount",""),this.$set(e,"feeId",""),this.$set(e,"fiOrderType",this.fiOrderType),Object(b.e)(e).then(function(e){t.loading=!1,t.leftTable=e,t.orgLeftTable=e,t.countOrgLeftTable=e,t.$emit("loadTable",t.rightTable)}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)}),e={})},setSettlementId:function(e){var t=this;e&&(this.showtable=!1,this.settlementId=e,this.changeTableKey(),console.warn("切换tableKey",this.tableKey,this.tablekeyRight),this.rightTable=this.$options.data().rightTable,this.$emit("setSettlementId",this.settlementId),this.$nextTick(function(){t.showtable=!0}))},getSearch:function(e){this.leftTable=e},clickDetailsRight:function(e){this.$refs.multipleTableRight.toggleRowSelection(e)},clickDetailsLeft:function(e){this.$refs.multipleTableLeft.toggleRowSelection(e)},getSelectionRight:function(e){this.selectedRight=e},getSelectionLeft:function(e){this.selectedLeft=e},changeTableKey:function(){this.tablekey=(new Date).getTime(),this.tablekeyRight=(new Date).getTime()},doAction:function(e){switch(e){case"goLeft":this.goLeft();break;case"goRight":this.goRight()}},goLeft:function(){var a=this;0===this.selectedRight.length?this.$message({type:"warning",message:"请在左边表格选择数据"}):(this.selectedRight.forEach(function(t,e){t.loadAmount=t.repertoryAmount,t.loadWeight=t.repertoryWeight,t.loadVolume=t.repertoryVolume,a.leftTable=Object(m.objectMerge2)([],a.leftTable).filter(function(e){return e.batchNo!==t.batchNo}),a.rightTable.push(t),a.countOrgLeftTable=Object(m.objectMerge2)([],a.countOrgLeftTable).filter(function(e){return e.batchNo!==t.batchNo})}),this.rightTable=this.uniqueArray(Object(m.objectMerge2)(this.rightTable),"batchNo",this.arrLastPartActualFeeName),this.selectedRight=[],this.getPayName(),this.$emit("loadTable",this.rightTable),console.log("-",this.countOrgLeftTable.length))},goRight:function(){var a=this;0===this.selectedLeft.length?this.$message({type:"warning",message:"请在右边表格选择数据"}):(this.selectedLeft.forEach(function(t,e){a.leftTable.push(t),a.countOrgLeftTable.push(t),a.rightTable=Object(m.objectMerge2)([],a.rightTable).filter(function(e){return e.batchNo!==t.batchNo})}),this.leftTable=this.uniqueArray(Object(m.objectMerge2)(this.leftTable),"batchNo",this.arrLastPartActualFeeName),this.countOrgLeftTable=this.uniqueArray(Object(m.objectMerge2)(this.countOrgLeftTable),"batchNo",this.arrLastPartActualFeeName),this.selectedLeft=[],this.getPayName(),this.$emit("loadTable",this.rightTable),console.log("+",this.countOrgLeftTable.length))},addItem:function(e,t){var a=this;clearTimeout(this.addTimer),this.addTimer=setTimeout(function(){a.selectedRight=[],a.selectedRight[t]=e,a.doAction("goLeft")},50)},minusItem:function(e,t){var a=this;clearTimeout(this.minusTimer),this.minusTimer=setTimeout(function(){a.selectedLeft=[],a.selectedLeft[t]=e,a.doAction("goRight")},50)},addALLList:function(){this.selectedRight=n()([],this.leftTable),this.doAction("goLeft")},minusAllList:function(){this.selectedLeft=n()([],this.rightTable),this.doAction("goRight")},dclickAddItem:function(e,t){this.selectedRight=[],this.selectedRight.push(e),this.doAction("goLeft")},dclickMinusItem:function(e,t){this.selectedLeft=[],this.selectedLeft.push(e),this.doAction("goRight")},getSumRight:function(e){return Object(y.getSummaries)(e,["shortPay","sendPay","loadFeeTotal","startLoadPay","startOtherPay","endLoadPay","endOtherPay","repertoryAmount","loadFeeTotalActual","wholeSurePay","noShortPay","hadShortPay","noSendPay","hadSendPay","noLoadFeeTotal","hadLoadFeeTotal","noStartLoadPay","hadStartLoadPay","noStartOtherPay","hadStartOtherPay","noEndLoadPay","hadEndLoadPay","noEndOtherPay","hadEndOtherPay","noWholeSurePay","hadWholeSurePay","departTotal","departTotalActual","noDepartTotal","hadDepartTotal","arriveTotal","arriveTotalActual","noArriveTotal","hadArriveTotal","operationPay","noOperationPay","hadOperationPay"])},getSumLeft:function(e){return Object(y.getSummaries)(e,["shortPay","sendPay","loadFeeTotal","startLoadPay","startOtherPay","endLoadPay","endOtherPay","repertoryAmount","loadFeeTotalActual","wholeSurePay","noShortPay","hadShortPay","noSendPay","hadSendPay","noLoadFeeTotal","hadLoadFeeTotal","noStartLoadPay","hadStartLoadPay","noStartOtherPay","hadStartOtherPay","noEndLoadPay","hadEndLoadPay","noEndOtherPay","hadEndOtherPay","noWholeSurePay","hadWholeSurePay","departTotal","departTotalActual","noDepartTotal","hadDepartTotal","arriveTotal","arriveTotalActual","noArriveTotal","hadArriveTotal","operationPay","noOperationPay","hadOperationPay","operationPayActual"])}}}},ooRw:function(e,t,a){"use strict";var o={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("transferTable",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}]},[o("div",{staticClass:"tableHeadItemForm clearfix",attrs:{slot:"tableSearch"},slot:"tableSearch"},[o("currentSearch",{attrs:{info:a.countOrgLeftTable},on:{change:a.getSearch}})],1),a._v(" "),o("div",{staticClass:"tableHeadItemBtn",staticStyle:{height:"100%"},attrs:{slot:"tableLeft"},slot:"tableLeft"},[o("el-button",{staticClass:"tableAllBtn",attrs:{size:"mini"},on:{click:a.addALLList}}),a._v(" "),a.showtable?o("el-table",{key:a.tablekey,ref:"multipleTableRight",attrs:{data:a.leftTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumRight,"default-sort":{prop:"id",order:"ascending"},"show-overflow-tooltip":!0,"show-summary":!0},on:{"row-click":a.clickDetailsRight,"selection-change":a.getSelectionRight,"row-dblclick":a.dclickAddItem}},[o("el-table-column",{attrs:{fixed:"",width:"60",type:"index",label:"序号"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(e.$index+1)+"\n        ")]}}])}),a._v(" "),o("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(t){return[o("el-button",{staticClass:"tableItemBtn",attrs:{size:"mini"},on:{click:function(e){a.addItem(t.row,t.$index)}}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"shipSn",label:"运单号",fixed:"",width:"130"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipGoodsSn",sortable:"",label:"货号",width:"150"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipFeeTotalActual",sortable:"",label:"实际合计",width:"150"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipFeeTotal",sortable:"",label:"运费合计",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noShipFeeTotal",sortable:"",label:"未核销运费合计",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.shipFeeTotal,e.row.hadShipFeeTotal,e.row.noShipFeeTotal,e.row.noShipFeeTotal))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadShipFeeTotal",sortable:"",label:"已核销运费合计",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.shipFeeTotal,e.row.hadShipFeeTotal,e.row.noShipFeeTotal,e.row.hadShipFeeTotal))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"kickBackPay",sortable:"",label:"回扣",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noKickBackPay",sortable:"",label:"未核销回扣",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.kickBackPay,e.row.hadKickBackPay,e.row.noKickBackPay,e.row.noKickBackPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadKickBackPay",sortable:"",label:"已核销回扣",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.kickBackPay,e.row.hadKickBackPay,e.row.noKickBackPay,e.row.hadKickBackPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"transferPay",sortable:"",label:"中转费",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noTransferPay",sortable:"",label:"未核销中转费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.transferPay,e.row.hadTransferPay,e.row.noTransferPay,e.row.noTransferPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadTransferPay",sortable:"",label:"已核销中转费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.transferPay,e.row.hadTransferPay,e.row.noTransferPay,e.row.hadTransferPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"unusualPay",sortable:"",label:"异动费用",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noUnusualPay",sortable:"",label:"未核销异动费用",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.unusualPay,e.row.hadUnusualPay,e.row.noUnusualPay,e.row.noUnusualPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadUnusualPay",sortable:"",label:"已核销异动费用",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.unusualPay,e.row.hadUnusualPay,e.row.noUnusualPay,e.row.hadUnusualPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"exceptionPay",sortable:"",label:"异常理赔",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noExceptionPay",sortable:"",label:"未核销异常理赔",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.exceptionPay,e.row.hadExceptionPay,e.row.noExceptionPay,e.row.noExceptionPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadExceptionPay",sortable:"",label:"已核销异常理赔",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.exceptionPay,e.row.hadExceptionPay,e.row.noExceptionPay,e.row.hadExceptionPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"pickPuPay",sortable:"",label:"实际提货费",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noPickPuPay",sortable:"",label:"未核销实际提货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.pickPuPay,e.row.hadPickPuPay,e.row.noPickPuPay,e.row.noPickPuPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadPickPuPay",sortable:"",label:"已核销实际提货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.pickPuPay,e.row.hadPickPuPay,e.row.noPickPuPay,e.row.hadPickPuPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"othePay",sortable:"",label:"其他费用",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noOthePay",sortable:"",label:"未核销其他费用",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.othePay,e.row.hadOthePay,e.row.noOthePay,e.row.noOthePay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadOthePay",sortable:"",label:"已核销其他费用",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.othePay,e.row.hadOthePay,e.row.noOthePay,e.row.hadOthePay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"deliveryPay",sortable:"",label:"终端送货费",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noDeliveryPay",sortable:"",label:"未核销终端送货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.deliveryPay,e.row.hadDeliveryPay,e.row.noDeliveryPay,e.row.noDeliveryPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadDeliveryPay",sortable:"",label:"已核销终端送货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.deliveryPay,e.row.hadDeliveryPay,e.row.noDeliveryPay,e.row.hadDeliveryPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"shipFromCityName",sortable:"",label:"发站",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(a._processTableSlot(e,"shipFromCityName"))+"\n        ")]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"shipToCityName",sortable:"",label:"到站",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(a._processTableSlot(e,"shipToCityName"))+"\n        ")]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"cargoName",sortable:"",label:"货品名",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"cargoAmount",sortable:"",label:"件数",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"cargoWeight",sortable:"",label:"重量",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"cargoVolume",sortable:"",label:"体积",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipSenderUnit",sortable:"",label:"发货方",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipSenderName",sortable:"",label:"发货人",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipRemarks",sortable:"",label:"运单备注",width:"120"}})],1):a._e()],1),a._v(" "),o("div",{staticClass:"tableHeadItemBtn",attrs:{slot:"tableRight"},slot:"tableRight"},[o("el-button",{staticClass:"tableAllBtnMinus",attrs:{size:"mini"},on:{click:a.minusAllList}}),a._v(" "),a.showtable?o("el-table",{key:a.tableRight,ref:"multipleTableLeft",staticStyle:{height:"100%"},attrs:{data:a.rightTable,border:"","tooltip-effect":"dark",triped:"",height:"100%","summary-method":a.getSumLeft,"default-sort":{prop:"id",order:"ascending"},"show-summary":!0},on:{"row-dblclick":a.dclickMinusItem,"row-click":a.clickDetailsLeft,"selection-change":a.getSelectionLeft}},[o("el-table-column",{attrs:{fixed:"",width:"60",type:"index",label:"序号"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(e.$index+1)+"\n        ")]}}])}),a._v(" "),o("el-table-column",{attrs:{fixed:"",width:"50"},scopedSlots:a._u([{key:"default",fn:function(t){return[o("el-button",{staticClass:"tableItemBtnMinus",attrs:{size:"mini"},on:{click:function(e){a.minusItem(t.row,t.$index)}}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"shipSn",label:"运单号",fixed:"",width:"130"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipGoodsSn",sortable:"",label:"货号",width:"150"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipFeeTotalActual",sortable:"",label:"实际合计",width:"150"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipFeeTotal",sortable:"",label:"运费合计",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noShipFeeTotal",sortable:"",label:"未核销运费合计",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.shipFeeTotal,e.row.hadShipFeeTotal,e.row.noShipFeeTotal,e.row.noShipFeeTotal))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadShipFeeTotal",sortable:"",label:"已核销运费合计",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.shipFeeTotal,e.row.hadShipFeeTotal,e.row.noShipFeeTotal,e.row.hadShipFeeTotal))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"shipFeeTotalActual",sortable:"",label:"实际运费合计",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"kickBackPay",sortable:"",label:"回扣",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noKickBackPay",sortable:"",label:"未核销回扣",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.kickBackPay,e.row.hadKickBackPay,e.row.noKickBackPay,e.row.noKickBackPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadKickBackPay",sortable:"",label:"已核销回扣",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.kickBackPay,e.row.hadKickBackPay,e.row.noKickBackPay,e.row.hadKickBackPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"kickBackPayActual",sortable:"",label:"实际核销回扣",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"transferPay",sortable:"",label:"中转费",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noTransferPay",sortable:"",label:"未核销中转费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.transferPay,e.row.hadTransferPay,e.row.noTransferPay,e.row.noTransferPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadTransferPay",sortable:"",label:"已核销中转费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.transferPay,e.row.hadTransferPay,e.row.noTransferPay,e.row.hadTransferPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"transferPayActual",sortable:"",label:"实际核销中转费",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"unusualPay",sortable:"",label:"异动费用",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noUnusualPay",sortable:"",label:"未核销异动费用",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.unusualPay,e.row.hadUnusualPay,e.row.noUnusualPay,e.row.noUnusualPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadUnusualPay",sortable:"",label:"已核销异动费用",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.unusualPay,e.row.hadUnusualPay,e.row.noUnusualPay,e.row.hadUnusualPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"unusualPayActual",sortable:"",label:"实际核销异动费用",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"exceptionPay",sortable:"",label:"异常理赔",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noExceptionPay",sortable:"",label:"未核销异常理赔",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noExceptionPay",sortable:"",label:"未核销异常理赔",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.exceptionPay,e.row.hadExceptionPay,e.row.noExceptionPay,e.row.noExceptionPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadExceptionPay",sortable:"",label:"已核销异常理赔",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.exceptionPay,e.row.hadExceptionPay,e.row.noExceptionPay,e.row.hadExceptionPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"pickPuPay",sortable:"",label:"实际提货费",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noPickPuPay",sortable:"",label:"未核销实际提货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.pickPuPay,e.row.hadPickPuPay,e.row.noPickPuPay,e.row.noPickPuPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadPickPuPay",sortable:"",label:"已核销实际提货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.pickPuPay,e.row.hadPickPuPay,e.row.noPickPuPay,e.row.hadPickPuPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"pickPuPayActual",sortable:"",label:"实际核销实际提货费",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"othePay",sortable:"",label:"其他费用",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noOthePay",sortable:"",label:"未核销其他费用",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.othePay,e.row.hadOthePay,e.row.noOthePay,e.row.noOthePay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadOthePay",sortable:"",label:"已核销其他费用",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.othePay,e.row.hadOthePay,e.row.noOthePay,e.row.hadOthePay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"othePayActual",sortable:"",label:"实际核销其他费用",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"deliveryPay",sortable:"",label:"终端送货费",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"noDeliveryPay",sortable:"",label:"未核销终端送货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.deliveryPay,e.row.hadDeliveryPay,e.row.noDeliveryPay,e.row.noDeliveryPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"hadDeliveryPay",sortable:"",label:"已核销终端送货费",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[o("span",{domProps:{innerHTML:a._s(a._setTextColor(e.row.deliveryPay,e.row.hadDeliveryPay,e.row.noDeliveryPay,e.row.hadDeliveryPay))}})]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"deliveryPayActual",sortable:"",label:"实际核销终端送货费",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipFromCityName",sortable:"",label:"发站",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(a._processTableSlot(e,"shipFromCityName"))+"\n        ")]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"shipToCityName",sortable:"",label:"到站",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n          "+a._s(a._processTableSlot(e,"shipToCityName"))+"\n        ")]}}])}),a._v(" "),o("el-table-column",{attrs:{prop:"cargoName",sortable:"",label:"货品名",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"cargoAmount",sortable:"",label:"件数",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"cargoWeight",sortable:"",label:"重量",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"cargoVolume",sortable:"",label:"体积",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipSenderUnit",sortable:"",label:"发货方",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipSenderName",sortable:"",label:"发货人",width:"120"}}),a._v(" "),o("el-table-column",{attrs:{prop:"shipRemarks",sortable:"",label:"运单备注",width:"120"}})],1):a._e()],1)])},staticRenderFns:[]};t.a=o},pURq:function(e,t,a){"use strict";var o=a("pFYg"),n=a.n(o),r=a("woOf"),i=a.n(r),l=a("Dd8w"),s=a.n(l),c=a("bOdI"),u=a.n(c),h=a("NYxO"),d=(a("TsW9"),a("pAQG")),f=a("IcMT"),m=a("0xDb"),b=a("7nIZ"),p=a("+Noo"),y=a("0xDb");t.a={data:function(){var e;return e={showtable:!0,loading:!0,searchTime:[Object(m.parseTime)(new Date-5184e6),Object(m.parseTime)(new Date)],tablekey:0,tableRight:0,truckMessage:"",searchForm:{},incomePayType:"PAYABLE",paymentsType:1,settlementId:178},u()(e,"loading",!1),u()(e,"btnsize","mini"),u()(e,"selectedRight",[]),u()(e,"selectedLeft",[]),u()(e,"orgLeftTable",[]),u()(e,"countOrgLeftTable",[]),u()(e,"leftTable",[]),u()(e,"rightTable",[]),u()(e,"orgData",{left:[],right:[]}),u()(e,"arrLastPartActualFeeName",[]),u()(e,"arrLastPartNoFeeName",[]),u()(e,"arrLastPartFeeName",[]),u()(e,"arrNoPayName",[]),u()(e,"arrPayName",[]),u()(e,"arrPayNameActual",[]),e},props:{setLoadTable:{type:Object,default:function(){}},isModify:{type:Boolean,default:!1},countSuccessList:{type:Array,default:[]},countNum:{type:[Number,String]},activeName:{type:String,default:""},orgId:{type:[Number,String]},componentKey:{type:[Number,String]},fiOrderType:{type:[Number,String]}},computed:s()({},Object(h.mapGetters)(["otherinfo"])),components:{transferTable:f.a,querySelect:d.a,currentSearch:p.default},watch:{isModify:{handler:function(e,t){this.getList()},deep:!0},setLoadTable:{handler:function(e,t){e&&(this.orgData=i()({},e),this.getList())},deep:!0},countSuccessList:{handler:function(e,t){this.initCount(e,t)},deep:!0},countNum:{handler:function(e,t){return e},deep:!0},activeName:{handler:function(e,t){var a=this;"second"===e&&(this.changeTableKey(),this.showtable=!1,this.getList(),this.$nextTick(function(){a.showtable=!0}))},deep:!0},fiOrderType:{handler:function(e,t){},deep:!0},orgId:function(){this.getPayName(),this.getList()}},activated:function(){},methods:{getPayName:function(){if(0!==this.rightTable.length){for(var e in this.arrNoPayName=[],this.rightTable[0])0===e.indexOf("no")&&this.arrNoPayName.push(e);for(var t in this.arrPayName=[],this.arrNoPayName){var a=this.arrNoPayName[t].substring(2,3).toLowerCase()+this.arrNoPayName[t].substring(3);this.arrPayName.push(a)}for(var o in this.arrhadPayName=[],this.arrNoPayName){var r="had"+this.arrNoPayName[o].substring(2);this.arrhadPayName.push(r)}for(var n in this.arrPayNameActual=[],this.arrPayName){var i=this.arrPayName[n]+"Actual";this.arrPayNameActual.push(i)}var l={arrPayName:this.arrPayName,arrNoPayName:this.arrNoPayName,arrhadPayName:this.arrhadPayName,arrPayNameActual:this.arrPayNameActual};this.$emit("feeName",l)}},initCount:function(e,t){var r=this;if(console.log("============后台返回的智能运单=============\n",e),this.arrLastPartActualFeeName=[],this.arrLastPartNoFeeName=[],this.arrLastPartFeeName=[],this.leftTable=[],this.rightTable=Object(m.objectMerge2)([],e),this.$emit("loadTable",this.rightTable),0===this.rightTable.length)return this.$message({type:"warning",message:"无符合智能核销条件的运单。"}),this.leftTable=Object(m.objectMerge2)([],this.orgLeftTable),!1;this.leftTable=Object(m.objectMerge2)([],this.orgLeftTable).filter(function(t,e){return-1===r.rightTable.findIndex(function(e){return t.shipSn===e.shipSn})}),0!==this.leftTable.length&&(this.leftTable=this.uniqueArray(this.leftTable,"shipSn")),this.$emit("loadTable",this.rightTable),this.getPayName();this.arrPayNameActual.forEach(function(e,t){var a=r.rightTable[r.rightTable.length-1][e],o=r.rightTable[r.rightTable.length-1][r.arrNoPayName[t]];o!==a&&""!==o&&null!==o&&""!==a&&null!==a&&(void 0===o?"undefined":n()(o))===(void 0===a?"undefined":n()(a))&&(!0,r.arrLastPartFeeName.push(r.arrPayName[t]),r.arrLastPartActualFeeName.push(e),r.arrLastPartNoFeeName.push(r.arrNoPayName[t]))}),this.rightTable[this.rightTable.length-1].noShipFeeTotal!==this.rightTable[this.rightTable.length-1].shipFeeTotalActual&&(this.$notify.info({title:"提示",message:"最后一条数据实际只需支付部分未核销费用，多余的需要返回到左边列表！"}),this.leftTable.push(Object(m.objectMerge2)([],this.rightTable[this.rightTable.length-1])),this.arrLastPartFeeName.forEach(function(e){var t="no"+e.substring(0,1).toUpperCase()+e.substring(1),a=e+"Actual";r.leftTable[r.leftTable.length-1][a]=r.rightTable[r.rightTable.length-1][t]-r.rightTable[r.rightTable.length-1][a]})),this.$emit("loadTable",this.rightTable),this.countOrgLeftTable=Object(m.objectMerge2)([],this.leftTable)},getList:function(){var t=this;this.leftTable=this.$options.data().leftTable,this.rightTable=this.$options.data().rightTable,this.orgLeftTable=this.$options.data().orgLeftTable,this.countOrgLeftTable=this.$options.data().countOrgLeftTable;var e={};this.isModify?(this.leftTable=this.orgData.left,this.rightTable=this.orgData.right,this.orgLeftTable=this.orgData.left,this.countOrgLeftTable=this.orgData.left,this.$emit("loadTable",this.rightTable)):(this.$set(e,"orgId",this.orgId),this.$set(e,"paymentsType",this.paymentsType),this.$set(e,"settlementId",this.settlementId),this.$set(e,"startTime",Object(m.parseTime)(this.searchTime[0],"{y}-{m}-{d} ")+"00:00:00"),this.$set(e,"endTime",Object(m.parseTime)(this.searchTime[1],"{y}-{m}-{d} ")+"23:59:59"),this.$set(e,"autoTotalAmount",""),this.$set(e,"feeId",""),this.$set(e,"fiOrderType",this.fiOrderType),Object(b.e)(e).then(function(e){t.loading=!1,t.leftTable=e,t.orgLeftTable=e,t.countOrgLeftTable=e,t.$emit("loadTable",t.rightTable)}).catch(function(e){t.loading=!1,t._handlerCatchMsg(e)}),e={})},getSearch:function(e){this.leftTable=e},clickDetailsRight:function(e){this.$refs.multipleTableRight.toggleRowSelection(e)},clickDetailsLeft:function(e){this.$refs.multipleTableLeft.toggleRowSelection(e)},getSelectionRight:function(e){this.selectedRight=e},getSelectionLeft:function(e){this.selectedLeft=e},changeTableKey:function(){this.tablekey=(new Date).getTime(),this.tablekeyRight=(new Date).getTime()},doAction:function(e){switch(e){case"goLeft":this.goLeft();break;case"goRight":this.goRight()}},uniqueArray:function(e,t,a){for(var o=[e[0]],r=1;r<e.length;r++){for(var n=e[r],i=!1,l=0;l<o.length;l++)if(n[t]===o[l][t]){if(a)for(var s in a)o[l][a[s]]=y.tmsMath._add(n[a[s]],o[l][a[s]]);i=!0;break}i||o.push(n)}return o},goLeft:function(){var a=this;0===this.selectedRight.length?this.$message({type:"warning",message:"请在左边表格选择数据"}):(this.selectedRight.forEach(function(t,e){t.loadAmount=t.repertoryAmount,t.loadWeight=t.repertoryWeight,t.loadVolume=t.repertoryVolume,a.leftTable=Object(m.objectMerge2)([],a.leftTable).filter(function(e){return e.shipSn!==t.shipSn}),a.rightTable.push(t),a.countOrgLeftTable=Object(m.objectMerge2)([],a.countOrgLeftTable).filter(function(e){return e.shipSn!==t.shipSn})}),this.rightTable=this.uniqueArray(Object(m.objectMerge2)(this.rightTable),"shipSn",this.arrLastPartActualFeeName),this.selectedRight=[],this.getPayName(),this.$emit("loadTable",this.rightTable))},goRight:function(){var a=this;0===this.selectedLeft.length?this.$message({type:"warning",message:"请在右边表格 选择数据"}):(this.selectedLeft.forEach(function(t,e){a.leftTable.push(t),a.countOrgLeftTable.push(t),a.rightTable=Object(m.objectMerge2)([],a.rightTable).filter(function(e){return e.shipSn!==t.shipSn})}),this.leftTable=this.uniqueArray(Object(m.objectMerge2)(this.leftTable),"shipSn",this.arrLastPartActualFeeName),this.countOrgLeftTable=this.uniqueArray(Object(m.objectMerge2)(this.countOrgLeftTable),"shipSn",this.arrLastPartActualFeeName),this.selectedLeft=[],this.getPayName(),this.$emit("loadTable",this.rightTable))},addItem:function(e,t){var a=this;clearTimeout(this.addTimer),this.addTimer=setTimeout(function(){a.selectedRight=[],a.selectedRight[t]=e,a.doAction("goLeft")},50)},minusItem:function(e,t){var a=this;clearTimeout(this.minusTimer),this.minusTimer=setTimeout(function(){a.selectedLeft=[],a.selectedLeft[t]=e,a.doAction("goRight")},50)},addALLList:function(){this.selectedRight=i()([],this.leftTable),this.doAction("goLeft")},minusAllList:function(){this.selectedLeft=i()([],this.rightTable),this.doAction("goRight")},dclickAddItem:function(e,t){this.selectedRight=[],this.selectedRight.push(e),this.doAction("goLeft")},dclickMinusItem:function(e,t){this.selectedLeft=[],this.selectedLeft.push(e),this.doAction("goRight")},getSumRight:function(e){return Object(y.getSummaries)(e,["shipFeeTotal","kickBackPay","transferPay","unusualPay","exceptionPay","pickPuPay","othePay","cargoAmount|","cargoWeight|","cargoVolume|","shipFeeTotalActual","noKickBackPay","hadKickBackPay","noTransferPay","hadTransferPay","noUnusualPay","hadUnusualPay","noExceptionPay","hadExceptionPay","noPickPuPay","hadPickPuPay","noOthePay","hadOthePay","noShipFeeTotal","hadShipFeeTotal","deliveryPay","deliveryPayActual","noDeliveryPay","hadDeliveryPay"])},getSumLeft:function(e){return Object(y.getSummaries)(e,["shipFeeTotal","kickBackPay","transferPay","unusualPay","exceptionPay","pickPuPay","othePay","cargoAmount|","cargoWeight|","cargoVolume|","shipFeeTotalActual","cargoVolume","noKickBackPay","hadKickBackPay","noTransferPay","hadTransferPay","noUnusualPay","hadUnusualPay","noExceptionPay","hadExceptionPay","noPickPuPay","hadPickPuPay","noOthePay","hadOthePay","noShipFeeTotal","hadShipFeeTotal","kickBackPayActual","transferPayActual","unusualPayActual","exceptionPayActual","pickPuPayActual","othePayActual","deliveryPay","deliveryPayActual","noDeliveryPay","hadDeliveryPay"])}}}},plMt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("/lSE"),r=a("iHUI");var n=function(e){a("6wmC")},i=a("VU/8")(o.a,r.a,n,null,null);t.default=i.exports},pymS:function(e,t,a){"use strict";var o={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("el-dialog",{staticClass:"tms_dialog tms_dialog_count",attrs:{title:"智能核销-"+a.title,visible:a.isShow,"close-on-click-modal":!1,"before-close":a.closeMe,width:"600px"},on:{"update:visible":function(e){a.isShow=e}}},[o("el-form",{ref:"formModel",attrs:{inline:!0,size:"mini","label-position":"right",rules:a.rules,model:a.formModel,"label-width":"70px"}},[178===a.settlementId?o("el-form-item",{attrs:{label:"发货人",prop:"shipSenderName"}},[o("el-autocomplete",{attrs:{"popper-class":"my-autocomplete","fetch-suggestions":a.querySearchSender,placeholder:"发货人搜索",size:"mini","auto-complete":"off",maxlength:8},on:{select:a.handleSelectSender},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[o("div",{staticClass:"name"},[a._v(a._s(t.customerName))])]}}]),model:{value:a.formModel.shipSenderName,callback:function(e){a.$set(a.formModel,"shipSenderName",e)},expression:"formModel.shipSenderName"}})],1):o("el-form-item",{attrs:{label:"车牌号",prop:"truckIdNumber"}},[o("el-autocomplete",{attrs:{"popper-class":"my-autocomplete","fetch-suggestions":a.querySearchTruck,placeholder:"车牌号码搜索",size:"mini","auto-complete":"off",maxlength:8},on:{select:a.handleSelectTruck},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.item;return[o("div",{staticClass:"name"},[a._v(a._s(t.truckIdNumber))])]}}]),model:{value:a.formModel.truckIdNumber,callback:function(e){a.$set(a.formModel,"truckIdNumber",e)},expression:"formModel.truckIdNumber"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"支出金额",prop:"autoTotalAmount"}},[o("input",{directives:[{name:"number-only",rawName:"v-number-only:point",arg:"point"}],ref:"autoTotalAmount",staticClass:"nativeinput",attrs:{type:"text",maxlength:30,placeholder:"只能输入阿拉伯数字"},domProps:{value:a.formModel.autoTotalAmount},on:{change:function(e){return a.changeAmount(e.target.value)}},nativeOn:{keyup:function(e){if(!("button"in e)&&a._k(e.keyCode,"enter",13,e.key,"Enter"))return null;a.onSubmit("formModel")}}})]),a._v(" "),o("el-form-item",{attrs:{label:"费用项"}},[178===a.settlementId?o("el-select",{model:{value:a.formModel.feeId,callback:function(e){a.$set(a.formModel,"feeId",e)},expression:"formModel.feeId"}},[o("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),a._l(a.feeIds,function(e){return o("el-option",{key:e.id,attrs:{label:e.feeType,value:e.id}})})],2):o("el-select",{on:{change:a.selectFeeIdBatch},model:{value:a.formModel.settlementId,callback:function(e){a.$set(a.formModel,"settlementId",e)},expression:"formModel.settlementId"}},a._l(a.feeIdsBatch,function(e){return o("el-option",{key:e.id,attrs:{label:e.feeType,value:e.id}})}))],1),a._v(" "),o("el-form-item",{attrs:{label:"开单日期"}},[o("el-date-picker",{attrs:{type:"daterange","unlink-panels":"",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","picker-options":a.pickerOptions2,"end-placeholder":"结束日期"},model:{value:a.searchTime,callback:function(e){a.searchTime=e},expression:"searchTime"}})],1)],1),a._v(" "),o("p",[a._v("提示：智能核销可以按照发货人开单日期自动挑选运单核销，运用场景如:某某客户核销某个月运费一万块，可以筛选客户，收入金额10000块，系统将自动挑选运单核销。")]),a._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){a.onSubmit("formModel")}}},[a._v("确 定")]),a._v(" "),o("el-button",{on:{click:a.closeMe}},[a._v("取 消")])],1)],1)},staticRenderFns:[]};t.a=o},"tLv/":function(e,t){},wudX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("UxNU"),r=a("pymS"),n=a("VU/8")(o.a,r.a,null,null,null);t.default=n.exports}});