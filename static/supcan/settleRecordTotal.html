<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Stict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=GB2312" />
  <script src="binary/dynaload.js"></script>
  <script src="untils/common.js"></script>
  <script>
    var query = getUrlParams()
  function OnReady(id) {
    // var query = getUrlParams()
    AF.func("Build", "report/settleRecordTotal.xml");
    AF.func("SelectCell", "0\r\n0");
    //指定ds1数据源取数的URL地址 3471ea1a-8dcd-4c9f-95e9-258dbcf564cb
    // var access_token ="3471ea1a-8dcd-4c9f-95e9-258dbcf564cb";
    // var orgId ="1";
    // var startTime ="2017-01-01";
    // var endTime ="2018-07-24";
    // var typeIds ="";
    //    AF.func("SetSource", "ds1 \r\n http://192.168.1.157:7010/api-finance/finance/report/v1/FeeAggregation?orgId=1&startTime=2017-01-01&endTime="+endTime+"&typeIds=&access_token="+access_token);  
    AF.func("SetSource", "ds1 \r\n http://192.168.1.157:7010/api-finance/finance/report/v1/FeeAggregation" + query);
    //需要重新计算， 因为SetSource仅仅是相当于更改一个属性 
    AF.func("Calc", "");

  }

  function OnEvent() {}

  </script>
</head>

<body>
  <div id="main" style="position:relative;width:100%;height:380px">
    <script>
    insertReport('AF', 'FullScreen;')

    </script>
  </div>
</body>

</html>
